(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["alert-detail"],{1436:function(t,e,a){"use strict";var n=a("e1a8d"),s=a.n(n);s.a},"7c06":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn alert-detail"},[a("b-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"fa fa-plus-square-o"}),t._v("\n            "+t._s(t.$t("m.alert_detail.title"))+"\n        ")]),a("div",{staticClass:"content"},[a("b-list-group",[a("div",{staticClass:"row list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.$t("m.alert.type"))+"\n                    ")]),a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.data.alertTypeName)+"\n                    ")])]),a("div",{staticClass:"row list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.$t("m.alert.desc"))+"\n                    ")]),a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.data.description)+"\n                    ")])]),a("div",{staticClass:"row list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.$t("m.alert.time"))+"\n                    ")]),a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.filterTime(t.data.createTime))+"\n                    ")])]),a("div",{staticClass:"row list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.$t("m.alert.status"))+"\n                    ")]),a("div",{staticClass:"col-sm-6"},[1==t.data.alertStatus?[a("span",{staticClass:"badge badge-pill badge-success"},[t._v(t._s("Read"==t.data.alertMarkAction?"Read":"Solved"))])]:[a("span",{staticClass:"badge badge-pill badge-danger"},[t._v(t._s("Read"==t.data.alertMarkAction?"Unread":"Unsolved"))])]],2)]),1===t.data.alertStatus?a("div",{staticClass:"row list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.$t("m.alert.make_by"))+"\n                    ")]),a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.data.markedBy?t.data.markedBy:"N/A")+"\n                    ")])]):t._e(),1===t.data.alertStatus?a("div",{staticClass:"row list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.$t("m.alert.make_at"))+"\n                    ")]),a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.markedAt)+"\n                    ")])]):t._e(),a("div",{staticClass:"row list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.$t("m.common.stock_num2"))+"\n                    ")]),a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.data.stockNum?t.data.stockNum:"N/A")+"\n                    ")])]),a("div",{staticClass:"row list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"col-sm-6"},[t._v("\n                        "+t._s(t.$t("m.vehicle.vehicle"))+"\n                    ")]),a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"btn btn-sm btn-ghost-info",on:{click:t.showM}},[a("i",{staticClass:"cui cui-location-pin"})]),t.data.year||t.data.make||t.data.model?[a("span",{staticStyle:{cursor:"pointer",color:"#63c2de"},on:{click:function(e){return t.$router.push("/inventory/vehicle/detail/"+t.data.vehicleId)}}},[t._v(t._s(t.data.year?t.data.year:"N/A")+" "+t._s(t.data.make?t.data.make:"N/A")+" "+t._s(t.data.model?t.data.model:"N/A"))])]:[t._v("\n                            N/A\n                        ")]],2)])]),a("div",{staticClass:"butt-group"},[1==t.data.alertStatus?[a("b-button",{staticClass:"btn mt-2 btn-secondary",attrs:{disabled:""}},[t._v("\n                        "+t._s(t.$t("m.alert.b_make"))+"\n                    ")])]:[a("b-button",{staticClass:"btn btn-sm mt-2 btn-success",on:{click:t.updateStatus}},[t._v("\n                        "+t._s(t.$t("m.alert.b_make"))+"\n                    ")])]],2)],1)]),a("b-modal",{ref:"my-modal",attrs:{title:t.map.info},on:{ok:function(e){t.showMap=!1}},model:{value:t.showMap,callback:function(e){t.showMap=e},expression:"showMap"}},[a("myMap",{attrs:{map:t.map}})],1),a("model",{attrs:{show:t.show,title:"Warn",content:t.updateInfo,buttonText:t.btnGroup},on:{closeRemindBox:function(e){t.show=!1}}})],1)},s=[],o=a("3159"),i=a("c466"),r=a("ccb6"),c=a("ebd9"),l={name:"alertDetail",components:{myMap:r["a"],model:c["a"]},inject:["reload"],data:function(){return{data:{},showMap:!1,map:{},show:!1,updateInfo:"",btnGroup:{btnFirst:this.$t("m.tip.b_cancel"),btnSecond:this.$t("m.tip.b_ok")},markedAt:""}},mounted:function(){var t=this;o["a"].post("/api/v1/alert/detail",{alertId:this.$route.params.id}).then(function(e){t.data=e.data.data,t.markedAt=e.data.data.markedAt?Object(i["d"])(e.data.data.markedAt):"N/A";var a=t.data.year?t.data.year:"N/A",n=t.data.make?t.data.make:"N/A",s=t.data.model?t.data.model:"N/A",o="N/A"==a&&"N/A"==n&&"N/A"==s?"N/A":a+" "+n+" "+s;t.map={lat:t.data.lat?t.data.lat:0,lng:t.data.lng?t.data.lng:0,area:t.data.areaCoordinates?t.data.areaCoordinates:[],vehicleInfo:o}})},methods:{filterTime:function(t){return Object(i["d"])(t)},showM:function(){this.map.lat&&this.map.lng&&(this.showMap=!0)},updateStatus:function(){var t=this;o["a"].post("/api/v1/alert/update/status",{alertId:this.data.id}).then(function(e){e.data.code,t.reload()}).catch(function(t){})}}},u=l,d=(a("1436"),a("2877")),m=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=m.exports},c466:function(t,e,a){"use strict";function n(t){var e=new Date(t),a=e.getFullYear()+" ",n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,s=e.getDate()<10?"0"+e.getDate():e.getDate(),o=e.getHours()<10?"0"+e.getHours():e.getHours(),i=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return n+"/"+s+"/"+a+" "+o+":"+i}function s(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,s=e.getDate()<10?"0"+e.getDate():e.getDate();return a+"-"+n+"-"+s}function o(t,e){return Math.ceil((e-t)/1e3/3600/24)}function i(t){var e=new Date(t),a=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"),n=new Array("Sun","Mon","Tus","Wed","Thu","Fri","Sat"),s=e.getMonth(),o=e.getDay(),i=e.getDate();return n[o]+" , "+a[s]+" "+i+" , "+e.getFullYear()}function r(t){if(8===t.length){var e=t.slice(0,4),a=t.slice(4,6),n=t.slice(6,8);return e+"/"+a+"/"+n}if(17===t.length){var s=t.slice(0,4),o=t.slice(4,6),i=t.slice(6,8),r=t.slice(9,13),c=t.slice(13,15),l=t.slice(15,17);return s+"/"+o+"/"+i+" - "+r+"/"+c+"/"+l}}function c(t){var e=t.slice(0,4),a=(new Date).getFullYear();return a-e}function l(t){var e=new Date(t.slice(0,4),t.slice(4,5),t.slice(5,6)).getTime(),a=(new Date).getTime(),n=a-e,s=Math.floor(n/31536e6),o=Math.floor(n-s/2592e6)%12;return{year:s,month:o}}function u(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,s=e.getDate()<10?"0"+e.getDate():e.getDate();return n+"/"+s+"/"+a}function d(t,e){var a=new Date(t),n=(a.getFullYear(),a.getMonth()+1<10?a.getMonth():a.getMonth(),a.getDate()<10?a.getDate():a.getDate(),a.getHours()<10?"0"+a.getHours():a.getHours()),s=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),o=new Date(e),i=(o.getFullYear(),o.getMonth()+1<10?o.getMonth():o.getMonth(),o.getDate()<10?o.getDate():o.getDate(),o.getHours()<10?"0"+o.getHours():o.getHours()),r=o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes();return"".concat(n,":").concat(s,"-").concat(i,":").concat(r)}function m(t){var e=new Date(t),a=(e.getFullYear(),e.getMonth()+1<10?e.getMonth():e.getMonth(),e.getDate()<10?e.getDate():e.getDate(),e.getHours()<10?"0"+e.getHours():e.getHours()),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),s=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return a+":"+n+":"+s}a.d(e,"d",function(){return n}),a.d(e,"i",function(){return s}),a.d(e,"g",function(){return o}),a.d(e,"h",function(){return i}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return c}),a.d(e,"b",function(){return l}),a.d(e,"e",function(){return u}),a.d(e,"j",function(){return d}),a.d(e,"f",function(){return m})},ccb6:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$store.getters.userInfo.country&&"China"==t.$store.getters.userInfo.country?a("a-map",{attrs:{elId:t.elementId,map:t.map}}):t._e(),t.$store.getters.userInfo.country&&"China"==t.$store.getters.userInfo.country?t._e():a("g-map",{attrs:{map:t.map}})],1)},s=[],o={name:"myMap",props:["map","elementId"],components:{gMap:function(t){a.e("chunk-09751b77").then(function(){var e=[a("ab2d")];t.apply(null,e)}.bind(this)).catch(a.oe)},aMap:function(t){a.e("chunk-84c80646").then(function(){var e=[a("9078")];t.apply(null,e)}.bind(this)).catch(a.oe)}}},i=o,r=(a("f88d"),a("2877")),c=Object(r["a"])(i,n,s,!1,null,null,null);e["a"]=c.exports},d2e4:function(t,e,a){"use strict";var n=a("e357"),s=a.n(n);s.a},e1a8d:function(t,e,a){},e357:function(t,e,a){},ea6f:function(t,e,a){},ebd9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.show?a("div",{attrs:{id:"popup-edit"}},[a("div",{staticClass:"modal-dialog modal-md popup-content"},[a("div",{staticClass:"modal-content",attrs:{role:"document",id:"__BVID__42___BV_modal_content_","aria-labelledby":"__BVID__42___BV_modal_header_","aria-describedby":"__BVID__42___BV_modal_body_"}},[a("header",{staticClass:"modal-header",attrs:{id:"__BVID__42___BV_modal_header_"}},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closePopup()}}},[t._v("×")])]),a("div",{staticClass:"modal-body",attrs:{id:"__BVID__42___BV_modal_body_"}},[a("div",[t._v(t._s(t.content))])]),a("footer",{staticClass:"modal-footer",attrs:{id:"__BVID__42___BV_modal_footer_"}},[t.buttonText&&t.buttonText.btnFirst?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.closePopup(t.buttonText.origin?t.buttonText.origin:"")}}},[t._v(t._s(t.buttonText?t.buttonText.btnFirst:"")+"\n                  ")]):t._e(),t.buttonText&&t.buttonText.btnSecond?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.closePopup(t.type="ok",t.buttonText.userId)}}},[t._v(t._s(t.buttonText.btnSecond)+"\n                  ")]):t._e()])])]),a("div",{staticClass:"bg",on:{click:function(e){return t.closePopup()}}})]):t._e()])},s=[],o={name:"modal",props:["show","title","content","buttonText"],methods:{closePopup:function(t,e){this.$emit("closeRemindBox",t,e)}}},i=o,r=(a("d2e4"),a("2877")),c=Object(r["a"])(i,n,s,!1,null,"15db5f6c",null);e["a"]=c.exports},f88d:function(t,e,a){"use strict";var n=a("ea6f"),s=a.n(n);s.a}}]);