(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop-edit"],{"146f":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"animated fadeIn shop-detail"},[s("b-card",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n            "+t._s(t.$t("m.add_shop.manager_detail"))+"\n            "),s("button",{staticClass:"btn btn-outline-info btn-block active float-right font-weight-bold",staticStyle:{width:"50px","font-size":"12px",padding:"0px",color:"#fff"},on:{click:function(a){return t.$router.push("/inventory/shop-manager/edit/"+t.$route.params.id)}}},[t._v(t._s(t.$t("m.common.edit"))+"\n            ")])]),s("b-row",{staticStyle:{"padding-left":"0.6rem"}},[s("b-col",{staticClass:"left",attrs:{sm:"6"}},[s("div",{staticClass:"border"},[s("b-row",[s("b-col",{staticClass:"title",attrs:{sm:"12",lg:"12"}},[t._v("\n                            "+t._s(t.data.storeName)+"\n                        ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                            "+t._s(t.$t("m.add_shop.country"))+"\n                        ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                            "+t._s("en-US"==t.$i18n.locale?t.data.countryEn?t.data.countryEn:"N/A":t.data.country?t.data.country:"N/A")+"\n                        ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                            "+t._s(t.$t("m.add_shop.state"))+"\n                        ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                            "+t._s("en-US"==t.$i18n.locale?t.data.stateEn?t.data.stateEn:"N/A":t.data.state?t.data.state:"N/A")+"\n                        ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                            "+t._s(t.$t("m.add_shop.city"))+"\n                        ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                            "+t._s("en-US"==t.$i18n.locale?t.data.cityEn?t.data.cityEn:"N/A":t.data.city?t.data.city:"N/A")+"\n                        ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                            "+t._s(t.$t("m.add_shop.street"))+"\n                        ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                            "+t._s(t.data.streetAddress)+"\n                        ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                            "+t._s(t.$t("m.add_shop.address"))+"\n                        ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                            "+t._s(t.data.storeAddress)+"\n                        ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                            "+t._s(t.$t("m.add_shop.zip"))+"\n                        ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                            "+t._s(t.data.zipCode)+"\n                        ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                            "+t._s(t.$t("m.add_shop.stock"))+"\n                        ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                            "+t._s(t.data.vehicleInventory)+"\n                        ")])],1),t._l(t.data.userList,function(a,e){return[s("div",{key:e},[s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                                    "+t._s(t.$t("m.add_shop.manager"))+"\n                                ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                                    "+t._s(a.firstName+a.lastName)+"\n                                ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                                    "+t._s(t.$t("m.admin.email"))+"\n                                ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                                    "+t._s(a.userEmail)+"\n                                ")])],1),s("b-row",[s("b-col",{attrs:{sm:"4",lg:"4"}},[t._v("\n                                    "+t._s(t.$t("m.common.phone"))+"\n                                ")]),s("b-col",{attrs:{sm:"8",lg:"8"}},[t._v("\n                                    "+t._s(a.userPhone)+"\n                                ")])],1)],1)]})],2)]),s("b-col",{staticClass:"right",attrs:{sm:"6"}},[s("my-map",{attrs:{address:t.data.country+t.data.state+t.data.city+t.data.streetAddress+t.data.storeAddress}})],1)],1),s("div",{staticClass:"del-group text-center"},[s("p",[t._v(t._s(t.$t("m.detail_shop.del_p")))]),s("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.removeData(t.data.id)}}},[t._v(t._s(t.$t("m.detail_shop.del_b")))])])],1),s("model",{attrs:{show:t.showTip,title:t.title,content:t.content,buttonText:t.btnGroup},on:{closeRemindBox:t.closeBox}})],1)},n=[],i=s("3159"),o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t.$store.getters.userInfo.country&&"China"==t.$store.getters.userInfo.country?s("a-map",{attrs:{address:t.address}}):t._e(),t.$store.getters.userInfo.country&&"China"==t.$store.getters.userInfo.country?t._e():s("g-map",{attrs:{address:t.address}})],1)},r=[],l={name:"mapForAddress",props:["address"],components:{gMap:function(t){s.e("chunk-a4b99da0").then(function(){var a=[s("96af")];t.apply(null,a)}.bind(this)).catch(s.oe)},aMap:function(t){s.e("chunk-619ecc08").then(function(){var a=[s("8051")];t.apply(null,a)}.bind(this)).catch(s.oe)}}},c=l,d=(s("c738"),s("2877")),m=Object(d["a"])(c,o,r,!1,null,null,null),u=m.exports,p=s("ebd9"),_={name:"shopDetail",components:{myMap:u,model:p["a"]},data:function(){return{address:"",data:{},showTip:!1,title:"",content:"",curDel:null,btnGroup:{},times:0}},mounted:function(){var t=this;this.$route.params.id&&i["a"].get("/api/v1/store/detail?storeId="+this.$route.params.id,{}).then(function(a){200==a.data.code&&(t.data=a.data.data)})},methods:{closeBox:function(t){var a=this;t?(this.times=this.times+1,this.title=this.$t("m.tip.warn"),this.content=this.$t("m.detail_shop.del2"),2==this.times&&i["a"].post("/api/v1/store/delete",{storeId:this.curDel}).then(function(t){200==t.data.code&&t.data.data.result?a.$router.push("/shop-manager"):(a.showTip=!0,a.title=a.$t("m.tip.warn"),a.content=a.$t("m.edit_shop.no_delete"),a.btnGroup={btnFirst:a.$t("m.tip.b_cancel")})})):this.showTip=!1},removeData:function(t){this.times=0,this.curDel=t,this.showTip=!0,this.title=this.$t("m.tip.warn"),this.content=this.$t("m.detail_shop.del1"),this.btnGroup={btnFirst:this.$t("m.tip.b_cancel"),btnSecond:this.$t("m.tip.b_ok")}}}},h=_,b=(s("6102"),Object(d["a"])(h,e,n,!1,null,null,null));a["default"]=b.exports},"1ded":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"animated fadeIn add-shop"},[s("b-card",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n            "+t._s(t.$t("m.shop.edit_shop"))+"\n        ")]),s("div",{staticClass:"container"},[s("div",{staticClass:"warn-info text-center"},[s("p",[t._v(t._s(t.$t("m.edit_shop.p1")))]),s("p",[t._v(t._s(t.$t("m.edit_shop.p2")))]),s("p",{staticClass:"shop-warn"},[t._v(t._s(t.$t("m.edit_shop.p3")))])]),s("div",{staticClass:"content"},[s("b-row",[s("b-col",{attrs:{sm:"12",md:"12"}},[s("b-form-group",[s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.shop.shop_name")))])]),s("b-form-input",{class:t.nameE?"is-invalid":"",attrs:{type:"text"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}})],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"12",md:"12"}},[s("b-form-group",[s("b-row",[s("b-col",{attrs:{sm:"4"}},[s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.country")))])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:" form-control",class:t.countryE?"is-invalid":"",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.country=a.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.$t("m.add_shop.please_select")))]),t._l(t.list,function(a,e){return s("option",{key:e,domProps:{value:e+1}},[t._v(t._s("en-US"==t.$i18n.locale?a.countryName:a.countryCName))])})],2)]),s("b-col",{attrs:{sm:"4"}},[s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.state")))])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.state,expression:"state"}],staticClass:"form-control",class:t.stateE?"is-invalid":"",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.state=a.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.$t("m.add_shop.please_select")))]),t._l(t.country?t.list[t.country-1]["proviceList"]:[],function(a,e){return s("option",{key:e,domProps:{value:e+1}},[t._v(t._s("en-US"==t.$i18n.locale?a.proviceName:a.proviceCName))])})],2)]),s("b-col",{attrs:{sm:"4"}},[s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.city")))])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",class:t.cityE?"is-invalid":"",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.city=a.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.$t("m.add_shop.please_select")))]),t._l(t.country&&t.state?t.list[t.country-1]["proviceList"][t.state-1]["cityList"]:[],function(a,e){return s("option",{key:e,domProps:{value:e+1}},[t._v(t._s("en-US"==t.$i18n.locale?a.cityName:a.cityCName))])})],2)])],1)],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"12",md:"12"}},[s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.label_address")))])]),s("b-form-group",[s("b-form-input",{class:t.streetE?"is-invalid":"",attrs:{type:"text",placeholder:"Street and number, P.O. box, c/o."},model:{value:t.street,callback:function(a){t.street=a},expression:"street"}})],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"12",md:"12"}},[s("b-form-group",[s("b-form-input",{class:t.apartE?"is-invalid":"",attrs:{type:"text",placeholder:"Apartment, suite, unit, building, floor, etc."},model:{value:t.apartment,callback:function(a){t.apartment=a},expression:"apartment"}})],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"12",md:"12"}},[s("b-form-group",[s("b-form-input",{class:t.zipE?"is-invalid":"",attrs:{type:"text",placeholder:"Zip Code"},model:{value:t.zipCode,callback:function(a){t.zipCode=a},expression:"zipCode"}})],1)],1)],1),s("div",{staticClass:"admin-info"},[t._l(t.managerList,function(a,e){return s("b-row",{key:e},[s("b-col",{attrs:{sm:"4",md:"4"}},[s("b-form-group",[s("div",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.manager")+(e+1)))])]),s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.manager_email")))])]),s("b-form-input",{class:t.hasSubmit&&(!t.managerList[e]["email"]||t.managerList[e]["email"].indexOf("@")<0)?"is-invalid":"",attrs:{type:"email",disabled:!!a.ori},model:{value:t.managerList[e]["email"],callback:function(a){t.$set(t.managerList[e],"email",a)},expression:"managerList[index]['email']"}})],1)],1),s("b-col",{attrs:{sm:"4",md:"4"}},[s("b-form-group",[s("div",[s("strong",{staticClass:"text-muted"},[t._v(" ")])]),s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.manager_phone")))])]),s("b-form-input",{class:t.hasSubmit&&!t.managerList[e]["phone"]?"is-invalid":"",attrs:{type:"number",disabled:!!a.ori},model:{value:t.managerList[e]["phone"],callback:function(a){t.$set(t.managerList[e],"phone",a)},expression:"managerList[index]['phone']"}})],1)],1),s("b-col",{attrs:{sm:"2",md:"2"}},[s("b-form-group",[s("div",[s("strong",{staticClass:"text-muted"},[t._v(" ")])]),s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.manager_lname")))])]),s("b-form-input",{class:t.hasSubmit&&!t.managerList[e]["lastName"]?"is-invalid":"",attrs:{type:"text",disabled:!!a.ori},model:{value:t.managerList[e]["lastName"],callback:function(a){t.$set(t.managerList[e],"lastName",a)},expression:"managerList[index]['lastName']"}})],1)],1),s("b-col",{attrs:{sm:"2",md:"2"}},[s("b-form-group",[s("div",[s("strong",{staticClass:"text-muted"},[t._v(" ")])]),s("label",[s("strong",{staticClass:"text-muted"},[t._v(t._s(t.$t("m.add_shop.manager_fname")))])]),s("b-form-input",{class:t.hasSubmit&&!t.managerList[e]["firstName"]?"is-invalid":"",attrs:{type:"text",disabled:!!a.ori},model:{value:t.managerList[e]["firstName"],callback:function(a){t.$set(t.managerList[e],"firstName",a)},expression:"managerList[index]['firstName']"}})],1)],1)],1)}),s("div",{staticClass:"add"},[s("i",{staticClass:"add-icon fa fa-plus",on:{click:t.addAdmin}})])],2),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(a){return t.updateData()}}},[t._v("\n                        "+t._s(t.$t("m.common.submit"))+"\n                    ")])])],1)])]),s("model",{attrs:{show:t.showTip,title:t.title,content:t.info,buttonText:t.btnGroup}}),s("b-modal",{ref:"my-modal-6",staticClass:"select-store",attrs:{"ok-title":t.$t("m.tip.b_ok"),"ok-only":""},on:{ok:function(a){return t.saveAndLink()}},model:{value:t.saveStatus,callback:function(a){t.saveStatus=a},expression:"saveStatus"}},[s("template",{slot:"modal-title"},[t._v("\n            "+t._s(t.$t("m.tip.suc"))+"\n        ")]),s("div",{staticClass:"text-left"},[t._v("\n            "+t._s(t.$t("m.tip.update_succ"))+"\n        ")])],2)],1)},n=[],i=s("5d73"),o=s.n(i),r=(s("7f7f"),s("3159")),l=s("ebd9"),c={name:"addShop",components:{model:l["a"]},data:function(){return{btnGroup:{btnFirst:"Cancel",btnSecond:"OK"},showTip:!1,saveStatus:!1,title:"",info:"",name:"",list:[],country:"",state:"",city:"",street:"",cityE:!1,stateE:!1,countryE:!1,apartment:"",zipCode:"",zipE:!1,apartE:!1,streetE:!1,nameE:!1,hasSubmit:!1,managerE:!1,managerList:[]}},mounted:function(){var t=this;this.$route.params.id&&r["a"].get("/api/v1/store/detail?storeId="+this.$route.params.id,{}).then(function(a){if(200==a.data.code){r["a"].get("/api/v1/getprovicescity").then(function(s){200==s.data.code&&(t.list=s.data.data.countryList,t.filterCountry(a.data.data.countryEn,a.data.data.stateEn,a.data.data.cityEn))});var s=!0,e=!1,n=void 0;try{for(var i,l=o()(a.data.data.userList);!(s=(i=l.next()).done);s=!0){var c=i.value;t.managerList.push({email:c.userEmail,phone:c.userPhone,lastName:c.lastName,firstName:c.firstName,ori:!0})}}catch(s){e=!0,n=s}finally{try{s||null==l.return||l.return()}finally{if(e)throw n}}0==t.managerList.length&&t.managerList.push({email:"",phone:"",lastName:"",firstName:""}),t.name=a.data.data.storeName,t.street=a.data.data.streetAddress,t.apartment=a.data.data.storeAddress,t.zipCode=a.data.data.zipCode}})},methods:{filterCountry:function(t,a,s){for(var e=0;e<this.list.length;e++)this.list[e].countryName==t&&(this.country=e+1);if(this.country)for(var n=0;n<this.list[this.country-1].proviceList.length;n++)this.list[this.country-1].proviceList[n].proviceName==a&&(this.state=n+1);if(this.country&&this.state)for(var i=0;i<this.list[this.country-1].proviceList[this.state-1].cityList.length;i++)this.list[this.country-1].proviceList[this.state-1].cityList[i].cityName==s&&(this.city=i+1)},addAdmin:function(){this.managerList.push({email:"",phone:"",lastName:"",firstName:""})},checkData:function t(){this.hasSubmit=!0,this.nameE=!this.name,this.zipE=!this.zipCode,this.streetE=!this.street,this.apartE=!this.apartment,this.countryE=!this.country,this.stateE=!this.state,this.cityE=!this.city;var a=!0,s=!1,e=void 0;try{for(var n,i=o()(this.managerList);!(a=(n=i.next()).done);a=!0){var r=n.value;r.email&&!(r.email.indexOf("@")<0)&&r.phone&&r.lastName&&r.firstName||(this.managerE=!0)}}catch(t){s=!0,e=t}finally{try{a||null==i.return||i.return()}finally{if(s)throw e}}},updateData:function(){var t=this;this.checkData(),this.nameE||this.zipE||this.streetE||this.apartE||this.managerE||this.countryE||this.stateE||this.cityE||r["a"].post("/api/v1/store/update",{insertSaasTenantStoreDTO:{id:this.$route.params.id,cityCode:this.list[this.country-1]["proviceList"][this.state-1]["cityList"][this.city-1].cityId,countryCode:this.list[this.country-1].countryId,stateCode:this.list[this.country-1]["proviceList"][this.state-1].provicesId,storeAddress:this.apartment,storeName:this.name,streetAddress:this.street,zipCode:this.zipCode},inviteUserParamDTO:this.managerList}).then(function(a){200===a.data.code&&a.data.data.result&&(t.saveStatus=!0)})},saveAndLink:function(){this.$router.push("/shop-manager")}}},d=c,m=(s("f4af"),s("2877")),u=Object(m["a"])(d,e,n,!1,null,"fea3db76",null);a["default"]=u.exports},"2bf7":function(t,a,s){},"469f":function(t,a,s){s("6c1c"),s("1654"),t.exports=s("7d7b")},"5d73":function(t,a,s){t.exports=s("469f")},6102:function(t,a,s){"use strict";var e=s("9857"),n=s.n(e);n.a},7076:function(t,a,s){},"7d7b":function(t,a,s){var e=s("e4ae"),n=s("7cd6");t.exports=s("584a").getIterator=function(t){var a=n(t);if("function"!=typeof a)throw TypeError(t+" is not iterable!");return e(a.call(t))}},9857:function(t,a,s){},c738:function(t,a,s){"use strict";var e=s("7076"),n=s.n(e);n.a},d2e4:function(t,a,s){"use strict";var e=s("e357"),n=s.n(e);n.a},e357:function(t,a,s){},ebd9:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("transition",{attrs:{name:"fade"}},[t.show?s("div",{attrs:{id:"popup-edit"}},[s("div",{staticClass:"modal-dialog modal-md popup-content"},[s("div",{staticClass:"modal-content",attrs:{role:"document",id:"__BVID__42___BV_modal_content_","aria-labelledby":"__BVID__42___BV_modal_header_","aria-describedby":"__BVID__42___BV_modal_body_"}},[s("header",{staticClass:"modal-header",attrs:{id:"__BVID__42___BV_modal_header_"}},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.closePopup()}}},[t._v("×")])]),s("div",{staticClass:"modal-body",attrs:{id:"__BVID__42___BV_modal_body_"}},[s("div",[t._v(t._s(t.content))])]),s("footer",{staticClass:"modal-footer",attrs:{id:"__BVID__42___BV_modal_footer_"}},[t.buttonText&&t.buttonText.btnFirst?s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.closePopup(t.buttonText.origin?t.buttonText.origin:"")}}},[t._v(t._s(t.buttonText?t.buttonText.btnFirst:"")+"\n                  ")]):t._e(),t.buttonText&&t.buttonText.btnSecond?s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.closePopup(t.type="ok",t.buttonText.userId)}}},[t._v(t._s(t.buttonText.btnSecond)+"\n                  ")]):t._e()])])]),s("div",{staticClass:"bg",on:{click:function(a){return t.closePopup()}}})]):t._e()])},n=[],i={name:"modal",props:["show","title","content","buttonText"],methods:{closePopup:function(t,a){this.$emit("closeRemindBox",t,a)}}},o=i,r=(s("d2e4"),s("2877")),l=Object(r["a"])(o,e,n,!1,null,"15db5f6c",null);a["a"]=l.exports},f4af:function(t,a,s){"use strict";var e=s("2bf7"),n=s.n(e);n.a}}]);