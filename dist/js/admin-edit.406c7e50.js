(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-edit"],{"0a49":function(t,e,s){var a=s("9b43"),o=s("626a"),i=s("4bf8"),n=s("9def"),r=s("cd1c");t.exports=function(t,e){var s=1==t,l=2==t,c=3==t,d=4==t,u=6==t,m=5==t||u,p=e||r;return function(e,r,b){for(var _,f,v=i(e),h=o(v),w=a(r,b,3),C=n(h.length),x=0,A=s?p(e,C):l?p(e,0):void 0;C>x;x++)if((m||x in h)&&(_=h[x],f=w(_,x,v),t))if(s)A[x]=f;else if(f)switch(t){case 3:return!0;case 5:return _;case 6:return x;case 2:A.push(_)}else if(d)return!1;return u?-1:c||d?d:A}}},1169:function(t,e,s){var a=s("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},"20d6":function(t,e,s){"use strict";var a=s("5ca1"),o=s("0a49")(6),i="findIndex",n=!0;i in[]&&Array(1)[i](function(){n=!1}),a(a.P+a.F*n,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(i)},"63fb":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"animated fadeIn"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("strong",{attrs:{id:"header-title"}},[t._v(t._s(t.$t("m.common.edit"))+": "+t._s(t.userName))])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[s("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("m.common.first_name"),"label-align-sm":"top"}},[s("b-input",{attrs:{disabled:"",value:t.firstName}})],1)],1),s("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[s("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("m.common.last_name"),"label-align-sm":"top"}},[s("b-input",{attrs:{disabled:"",value:t.lastName}})],1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("m.common.user_email"),"label-align-sm":"top"}},[s("b-input",{attrs:{disabled:"",value:t.userEmail}})],1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("b-form-group",{staticClass:"mb-0",attrs:{label:t.$t("m.common.phone"),"label-align-sm":"top"}},[s("b-input",{attrs:{disabled:"",value:t.phone}})],1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 option-choose"},[s("b-form-group",{attrs:{label:t.$t("m.common.role"),"label-align-sm":"top"}},[s("b-form-select",{attrs:{options:t.options1,disabled:t.adminId===t.id||"Dealership Group Administrator"===t.role},model:{value:t.selected1,callback:function(e){t.selected1=e},expression:"selected1"}})],1)],1),s("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 option-choose"},[s("b-form-group",{attrs:{label:t.$t("m.admin.detail_status"),"label-align-sm":"top"}},[s("b-form-select",{attrs:{options:t.options2,disabled:t.adminId===t.id||"Dealership Group Administrator"===t.role},model:{value:t.selected2,callback:function(e){t.selected2=e},expression:"selected2"}})],1)],1)]),t.adminId!==t.id&&"Dealership Group Administrator"!==t.role?s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("b-button",{staticClass:"btn-sm",attrs:{variant:"primary"},on:{click:t.saveData}},[t._v(t._s(t.$t("m.admin.save")))])],1)]):t._e(),s("Alert",{attrs:{buttonText:t.showAlerts.buttonText,show:t.showAlerts.show,title:t.showAlerts.title,content:t.showAlerts.content},on:{closeRemindBox:t.closeBox}})],1)])])])])},o=[],i=(s("20d6"),s("3159")),n=s("ebd9"),r={name:"adminEdit",components:{Alert:n["a"]},data:function(){return{id:this.$route.params.id,userName:"",firstName:"",lastName:"",userEmail:"",phone:"",adminId:0,status:1,role:"",options1:["Dealership Staff","Dealership Manager","Dealership Group Administrator"],selected1:"",options2:["Active","InActive"],selected2:"",showAlerts:{title:"",content:"",show:!1,buttonText:""}}},mounted:function(){var t=this;this.adminId=this.$store.state.userInfo.userId;var e="/api/v1/getUserById";i["a"].post(e,{userId:this.id}).then(function(e){var s=e.data.data;t.userName=s.firstName+" "+s.lastName,t.firstName=s.firstName,t.lastName=s.lastName,t.userEmail=s.userEmail,t.phone=s.phone,t.status=1===s.status?"Active":"InActive",t.role=s.role;var a=t.options1.findIndex(function(e){return e===t.role});t.selected1=t.options1[a];var o=t.options2.findIndex(function(e){return e===t.status});t.selected2=t.options2[o]})},methods:{saveData:function(){var t,e=this,s="/api/v1/updateUser";t="Dealership Staff"===this.selected1?"user":"Dealership Manager"===this.selected1?"manager":"root";var a={userId:this.id,role:t,status:"Active"===this.selected2?1:0};i["a"].post(s,a).then(function(t){if(200===t.data.code){var s={title:e.$t("m.tip.info"),show:!0,content:e.$t("m.tip.update_succ"),buttonText:{btnFirst:"",btnSecond:e.$t("m.tip.b_ok"),userId:""}};e.closeRemind(s),window.location.reload()}})},closeBox:function(){this.showAlerts.show=!this.showAlerts.show},closeRemind:function(t){this.showAlerts.show=t.show,this.showAlerts.title=t.title,this.showAlerts.content=t.content,this.showAlerts.buttonText=t.buttonText}}},l=r,c=(s("b04d"),s("2877")),d=Object(c["a"])(l,a,o,!1,null,"36aa423a",null);e["default"]=d.exports},"82ed":function(t,e,s){},b04d:function(t,e,s){"use strict";var a=s("82ed"),o=s.n(a);o.a},cd1c:function(t,e,s){var a=s("e853");t.exports=function(t,e){return new(a(t))(e)}},d2e4:function(t,e,s){"use strict";var a=s("e357"),o=s.n(a);o.a},e357:function(t,e,s){},e853:function(t,e,s){var a=s("d3f4"),o=s("1169"),i=s("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),a(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},ebd9:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.show?s("div",{attrs:{id:"popup-edit"}},[s("div",{staticClass:"modal-dialog modal-md popup-content"},[s("div",{staticClass:"modal-content",attrs:{role:"document",id:"__BVID__42___BV_modal_content_","aria-labelledby":"__BVID__42___BV_modal_header_","aria-describedby":"__BVID__42___BV_modal_body_"}},[s("header",{staticClass:"modal-header",attrs:{id:"__BVID__42___BV_modal_header_"}},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closePopup()}}},[t._v("Ã—")])]),s("div",{staticClass:"modal-body",attrs:{id:"__BVID__42___BV_modal_body_"}},[s("div",[t._v(t._s(t.content))])]),s("footer",{staticClass:"modal-footer",attrs:{id:"__BVID__42___BV_modal_footer_"}},[t.buttonText&&t.buttonText.btnFirst?s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.closePopup(t.buttonText.origin?t.buttonText.origin:"")}}},[t._v(t._s(t.buttonText?t.buttonText.btnFirst:"")+"\n                  ")]):t._e(),t.buttonText&&t.buttonText.btnSecond?s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.closePopup(t.type="ok",t.buttonText.userId)}}},[t._v(t._s(t.buttonText.btnSecond)+"\n                  ")]):t._e()])])]),s("div",{staticClass:"bg",on:{click:function(e){return t.closePopup()}}})]):t._e()])},o=[],i={name:"modal",props:["show","title","content","buttonText"],methods:{closePopup:function(t,e){this.$emit("closeRemindBox",t,e)}}},n=i,r=(s("d2e4"),s("2877")),l=Object(r["a"])(n,a,o,!1,null,"15db5f6c",null);e["a"]=l.exports}}]);