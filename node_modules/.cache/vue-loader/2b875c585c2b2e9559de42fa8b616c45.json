{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/inventory/alertDetail.vue?vue&type=style&index=0&id=93178e96&lang=scss&scoped=true&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/inventory/alertDetail.vue","mtime":1575956931000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.alert-detail {\n    .map-span {\n        cursor: pointer;\n        color: #63c2de\n    }\n    .content {\n        max-width: 900px;\n        margin: 4% auto;\n        .value {\n            text-align: right;\n        }\n        .row {\n            margin: 0px;\n            border-top: 1px solid #cccccc;\n            .col-sm-6 {\n                padding-left: 0px!important;\n            }\n        }\n        .butt-group {\n            margin-top: 1%;\n        }\n    }\n    @media (min-width: 576px) {\n        .modal-dialog {\n            max-width: 80%;\n        }\n    }\n}\n",{"version":3,"sources":["alertDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"alertDetail.vue","sourceRoot":"src/views/dashboard/inventory","sourcesContent":["<template>\n    <div class=\"animated fadeIn alert-detail\">\n        <b-card>\n            <div slot=\"header\">\n                {{ $t('m.alert_detail.title') }}\n            </div>\n            <div class=\"content\">\n                <b-list-group>\n                    <div class=\"row list-group-item d-flex justify-content-between align-items-center\">\n                        <div class=\"col-sm-6\">\n                            {{ $t('m.alert.type') }}\n                        </div>\n                        <div class=\"col-sm-6\">\n                            {{ data.alertTypeName }}\n                        </div>\n                    </div>\n                    <div class=\"row list-group-item d-flex justify-content-between align-items-center\">\n                        <div class=\"col-sm-6\">\n                            {{ $t('m.alert.desc') }}\n                        </div>\n                        <div class=\"col-sm-6\">\n                            {{ data.description }}\n                        </div>\n                    </div>\n                    <div class=\"row list-group-item d-flex justify-content-between align-items-center\">\n                        <div class=\"col-sm-6\">\n                            {{ $t('m.alert.time') }}\n                        </div>\n                        <div class=\"col-sm-6\">\n                            {{ filterTime(data.createTime) }}\n                        </div>\n                    </div>\n\n                    <div class=\"row list-group-item d-flex justify-content-between align-items-center\">\n                        <div class=\"col-sm-6\">\n                            {{ $t('m.alert.status') }}\n                        </div>\n                        <div class=\"col-sm-6\">\n                            <template v-if=\"data.alertStatus == 1\">\n                                <span class=\"badge badge-pill badge-success\">{{ data.alertMarkAction == 'Read' ?  $t('m.alert.read_status')  : $t('m.alert.b_make')}}</span>\n                            </template>\n                            <template v-else>\n                                <span class=\"badge badge-pill badge-danger\">{{ data.alertMarkAction == 'Read' ? $t('m.alert.unread_status') : $t('m.alert.unsolved_status')}}</span>\n                            </template>\n                        </div>\n                    </div>\n\n                    <div v-if=\"data.alertStatus === 1\" class=\"row list-group-item d-flex justify-content-between align-items-center\">\n                        <div class=\"col-sm-6\">\n                            {{ $t('m.alert.make_by') }}\n                        </div>\n                        <div class=\"col-sm-6\">\n                            {{ data.markedBy ? data.markedBy : 'N/A' }}\n                        </div>\n                    </div>\n\n                    <div v-if=\"data.alertStatus === 1\" class=\"row list-group-item d-flex justify-content-between align-items-center\">\n                        <div class=\"col-sm-6\">\n                            {{ $t('m.alert.make_at') }}\n                        </div>\n                        <div class=\"col-sm-6\">\n                            {{ markedAt }}\n                        </div>\n                    </div>\n\n                    <div class=\"row list-group-item d-flex justify-content-between align-items-center\">\n                        <div class=\"col-sm-6\">\n                            {{ $t('m.common.stock_num2') }}\n                        </div>\n                        <div class=\"col-sm-6\">\n                            {{ data.stockNum ? data.stockNum : 'N/A' }}\n                        </div>\n                    </div>\n                    <div  class=\"row list-group-item d-flex justify-content-between align-items-center\">\n                        <div class=\"col-sm-6\">\n                            {{ $t('m.vehicle.vehicle') }}\n                        </div>\n                        <div class=\"col-sm-6\">\n                            <span class=\"btn btn-sm btn-ghost-info\" @click=\"showM\">\n                                <i class=\"cui cui-location-pin\"></i>\n                            </span>\n                            <template v-if=\"!data.year && !data.make && !data.model\">\n                                N/A\n                            </template>\n                            <template v-else>\n                                <span class=\"map-span\" @click=\"$router.push('/inventory/vehicle/detail/' + data.vehicleId)\">{{ data.year ? data.year : 'N/A' }} {{ data.make ? data.make : 'N/A' }} {{ data.model ? data.model : 'N/A' }}</span>\n                            </template>\n                        </div>\n                    </div>\n                </b-list-group>\n                <div class=\"butt-group\">\n                    <template v-if=\"data.alertStatus == 1\">\n                        <b-button class=\"btn mt-2 btn-secondary\" disabled>\n                            {{ $t('m.alert.solved_status') }}\n                        </b-button>\n                    </template>\n                    <template v-else>\n                        <b-button class=\"btn btn-sm mt-2 btn-success\" @click=\"updateStatus\">\n                            {{ $t('m.alert.solved_status') }}\n                        </b-button>\n                    </template>\n                </div>\n            </div>\n        </b-card>\n        <b-modal ref=\"my-modal\" :title=\"map.info\" v-model=\"showMap\" @ok=\"showMap = false\">\n            <myMap :map=\"map\"></myMap>\n        </b-modal>\n        <model\n               :show=\"show\"\n               :title=\"'Warn'\"\n               :content=\"updateInfo\"\n               :buttonText=\"btnGroup\"\n               @closeRemindBox=\"show = false\"\n        ></model>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n    .alert-detail {\n        .map-span {\n            cursor: pointer;\n            color: #63c2de\n        }\n        .content {\n            max-width: 900px;\n            margin: 4% auto;\n            .value {\n                text-align: right;\n            }\n            .row {\n                margin: 0px;\n                border-top: 1px solid #cccccc;\n                .col-sm-6 {\n                    padding-left: 0px!important;\n                }\n            }\n            .butt-group {\n                margin-top: 1%;\n            }\n        }\n        @media (min-width: 576px) {\n            .modal-dialog {\n                max-width: 80%;\n            }\n        }\n    }\n</style>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import { getDateString } from \"@/utils/date\";\n    import myMap from \"@/components/map\";\n    import model from \"@/components/model\"\n\n    export default {\n        name: \"alertDetail\",\n        components: {\n            myMap,\n            model\n        },\n        inject: ['reload'],\n        data() {\n            return {\n                data: {},\n                showMap: false,\n                map:{},\n                show: false,\n                updateInfo: '',\n                btnGroup: {btnFirst:this.$t('m.tip.b_cancel'), btnSecond: this.$t('m.tip.b_ok')},\n                markedAt:'',\n            }\n        },\n        mounted() {\n            httpClient.post('/api/v1/alert/detail',{\n                alertId: this.$route.params.id\n            }).then(response => {\n                this.data = response.data.data;\n                this.markedAt = response.data.data.markedAt? getDateString(response.data.data.markedAt) : 'N/A';\n                let year = this.data.year ? this.data.year : 'N/A';\n                let make = this.data.make ? this.data.make : 'N/A';\n                let model = this.data.model ? this.data.model : 'N/A';\n                let info = (year == 'N/A' && make == 'N/A' && model == 'N/A') ? 'N/A' : year + ' ' + make + ' ' + model;\n                this.map = {\n                    lat: this.data.lat ? this.data.lat : 0,\n                    lng: this.data.lng ? this.data.lng : 0,\n                    area: this.data.areaCoordinates ? this.data.areaCoordinates : [],\n                    vehicleInfo: info\n                }\n            })\n        },\n        methods: {\n            filterTime (time) {\n                return getDateString(time);\n            },\n            showM() {\n                if (this.map.lat && this.map.lng) {\n                    this.showMap = true;\n                }\n            },\n            updateStatus() {\n                httpClient.post('/api/v1/alert/update/status', {\n                    alertId: this.data.id\n                }).then(response => {\n                    if (response.data.code == 200) {\n                        this.reload();\n                    } else {\n                        this.reload();\n                    }\n                }).catch(error => {\n                })\n            }\n        }\n    }\n</script>\n\n"]}]}