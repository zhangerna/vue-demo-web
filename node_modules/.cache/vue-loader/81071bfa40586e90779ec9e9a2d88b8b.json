{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/admin.vue?vue&type=style&index=0&id=055f9488&lang=scss&scoped=true&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/admin.vue","mtime":1560421842000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.card {\n  width: 100%;\n}\n\n.btn-edit {\n  margin: 0 5px;\n}\n",{"version":3,"sources":["admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;AACA;;AAEA;AACA;AACA","file":"admin.vue","sourceRoot":"src/views/dashboard/dashboardMain","sourcesContent":["<template>\n  <div class=\"animated fadeIn\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <i class=\"nav-icon cui-people\"></i>\n        <strong>Users</strong>\n        <div class=\"float-right\">\n          <a @click=\"$router.push('/admin-invite/')\">\n            <button class=\"btn btn-sm btn-primary\">\n              <i class=\"fa fa-user-plus\"></i> Add New Users\n            </button>\n          </a>\n        </div>\n      </div>\n      <Alert @closeRemindBox='closeBox' :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n             :title=\"showAlerts.title\" :content=\"showAlerts.content\"></Alert>\n      <div class=\"card-body\">\n        <div>\n          <b-table hover :items=\"items\" :fields=\"fields\">\n            <template slot=\"status\" slot-scope=\"data\">\n              <span\n                  :class=\"data.item.status === 1 ? 'badge badge-pill badge-success' : 'badge badge-pill badge-danger'\">\n                  {{ data.item.status === 1 ? 'Active' : 'InActive' }}\n              </span>\n            </template>\n            <template slot=\"action\" slot-scope=\"data\">\n              <div class=\"btn btn-sm btn-info\" @click=\"$router.push('/admin-detail/' + data.item.userId)\"><i\n                  class=\"fa fa-align-justify\"></i></div>\n              <div class=\"btn btn-sm btn-info btn-edit\" @click=\"$router.push('/admin-edit/' + data.item.userId)\"><i\n                  class=\"fa fa-edit\"></i></div>\n              <div v-if=\"data.item.userId !== adminId\" class=\"btn btn-sm btn-danger btn-del\" @click=\"openBox(data.item.userId)\"><i\n                  class=\"cui cui-trash\"></i></div>\n            </template>\n          </b-table>\n        </div>\n\n        <b-row>\n          <b-col sm=\"4\" lg=\"4\">\n              <div class=\"dataTables_info\" id=\"DataTables0\" role=\"status\" aria-live=\"polite\">\n                <span v-if=\"totalPages > 0 \">Showing {{10 * (currentPage - 1) + 1 }} to {{currentPage === totalPages? rows :currentPage * 10 }} of {{rows}} entries</span>\n                <span v-else>Showing 0 to 0 of {{rows}} entries</span>\n              </div>\n          </b-col>\n          <b-col sm=\"8\" lg=\"8\">\n            <b-pagination align=\"right\" :total-rows=\"rows\" v-model=\"currentPage\" :per-page=\"perPage\" @input=\" turnToPage(currentPage)\"></b-pagination>\n          </b-col>\n        </b-row>\n\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n\timport httpClient from '@/utils/httpclient';\n\timport Alert from '@components/model'\n\n\texport default {\n\t\tname: 'user',\n\t\tcomponents: {\n\t\t\tAlert\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tfields: {\n\t\t\t\t\tUsername: {\n\t\t\t\t\t\tkey: 'Username',\n\t\t\t\t\t\tlabel: 'Username'\n\t\t\t\t\t},\n\t\t\t\t\tuserEmail: {\n\t\t\t\t\t\tkey: 'Email',\n\t\t\t\t\t\tlabel: 'Email'\n\t\t\t\t\t},\n\t\t\t\t\tcity: {\n\t\t\t\t\t\tkey: 'Phone',\n\t\t\t\t\t\tlabel: 'Phone'\n\t\t\t\t\t},\n\t\t\t\t\tRole: {\n\t\t\t\t\t\tkey: 'Role',\n\t\t\t\t\t\tlabel: 'Role',\n\t\t\t\t\t},\n\t\t\t\t\tDealership: {\n\t\t\t\t\t\tkey: 'Dealership',\n\t\t\t\t\t\tlabel: 'Dealership'\n\t\t\t\t\t},\n\t\t\t\t\tstatus: {\n\t\t\t\t\t\tlabel: 'Active/Inactive'\n\t\t\t\t\t},\n\t\t\t\t\taction: {\n\t\t\t\t\t\tlabel: 'Action'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\titems: null,\n\t\t\t\tdata: null,\n\t\t\t\tcurrentPage: 1,\n\t\t\t\trows: 1,\n\t\t\t\tperPage: 1,\n\t\t    totalPages:1,\n        adminId:0,\n\t\t\t\tdeleteUser: false,\n\t\t\t\tshowAlerts: {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tshow: false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getList(1);\n\t\t\tthis.adminId = this.$store.state.userInfo.userId;\n\t\t},\n\t\tmethods: {\n\t\t\tgetList(num) {\n\t\t\t\tlet url = 'https://api-saas-qa.zus.ai/api/v1/listUserDeatil?pageNo=' + num + '&pageSize=10';\n\t\t\t\thttpClient.post(url).then((res) => {\n\t\t\t\t\tthis.rows = res.data.data.rowCount;\n\t\t\t\t\tthis.currentPage = res.data.data.pageNo;\n\t\t\t\t\tthis.perPage = res.data.data.pageSize;\n\t\t\t\t\tthis.totalPages = res.data.data.totalPages;\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tthis.data = res.data.data.datas;\n\t\t\t\t\tlet myData = res.data.data.datas;\n\t\t\t\t\tlet myItems = [];\n\t\t\t\t\tmyData.map((item, i) => {\n\t\t\t\t\t\tmyItems.push({\n\t\t\t\t\t\t\tUsername: item.firstName + ' ' + item.lastName,\n\t\t\t\t\t\t\tEmail: item.userEmail,\n\t\t\t\t\t\t\tPhone: item.phone,\n\t\t\t\t\t\t\tRole: item.role,\n\t\t\t\t\t\t\tuserId: item.userId,\n\t\t\t\t\t\t\tstatus: item.status,\n\t\t\t\t\t\t\tDealership: item.storeName,\n\t\t\t\t\t\t\t\"Active/InActive\": item.status === 1 ? 'Active' : 'InActive',\n\t\t\t\t\t\t\tAction: ''\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t\tthis.items = myItems\n\t\t\t\t})\n\t\t\t},\n\t\t\tturnToPage(p) {\n\t\t    this.getList(p);\n\t\t\t},\n\t\t\tdelData(userid) {\n\t\t\t\thttpClient.post('https://api-saas-qa.zus.ai/api/v1/user/delete', {userId: userid}).then((res) => {\n\t\t\t\t\tif (res.data.data === true) {\n\t\t\t\t\t\tthis.getList(1, 10)\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t}).catch((err) => {\n\t\t\t\t});\n\t\t\t},\n\t\t\topenBox(clickId) {\n\t\t\t\tlet passData = {\n\t\t\t\t\ttitle: 'Are you sure to delete the user?',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tbuttonText: {\n\t\t\t\t\t\tbtnFirst: 'Cancel',\n\t\t\t\t\t\tbtnSecond: 'OK',\n\t\t\t\t\t\tuserId: clickId\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.closeRemind(passData);\n\t\t\t},\n\t\t\tcloseRemind(data) {\n\t\t\t\tthis.showAlerts.show = data.show;\n\t\t\t\tthis.showAlerts.title = data.title;\n\t\t\t\tthis.showAlerts.content = data.content;\n\t\t\t\tthis.showAlerts.buttonText = data.buttonText;\n\t\t\t},\n\t\t\tcloseBox(data, ids) {\n\t\t\t\tthis.showAlerts.show = !this.showAlerts.show;\n\t\t\t\tthis.deleteUser = data !== 'Cancel';\n\t\t\t\tif (this.deleteUser === true) {\n\t\t\t\t\tthis.delData(ids)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n<style lang=\"scss\" scoped>\n  .card {\n    width: 100%;\n  }\n\n  .btn-edit {\n    margin: 0 5px;\n  }\n</style>"]}]}