{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/admin.vue","mtime":1569468514000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from '@/utils/httpclient';\nimport Alert from '@components/model'\n\nexport default {\n    name: 'user',\n    components: {\n        Alert\n    },\n    data() {\n        return {\n            fields: {\n                Username: {\n                    key: 'Username',\n                    label: this.$t('m.login.p_username')\n                },\n                userEmail: {\n                    key: 'Email',\n                    label: this.$t('m.admin.email')\n                },\n                city: {\n                    key: 'Phone',\n                    label: this.$t('m.common.phone')\n                },\n                Role: {\n                    key: 'Role',\n                    label: this.$t('m.common.role'),\n                },\n                Dealership: {\n                    key: 'Dealership',\n                    label: this.$t('m.dashboard.store')\n                },\n                status: {\n                    label: this.$t('m.admin.active')\n                },\n                action: {\n                    label: this.$t('m.vehicle.actions')\n                },\n            },\n            items: null,\n            data: null,\n            currentPage: 1,\n            rows: 1,\n            perPage: 1,\n            totalPages: 1,\n            adminId: 0,\n            deleteUser: false,\n            showAlerts: {\n                title: '',\n                content: '',\n                show: false\n            }\n        }\n    },\n    mounted() {\n        this.getList(1);\n        this.adminId = this.$store.state.userInfo.userId;\n    },\n    methods: {\n        getList(num) {\n            let url = '/api/v1/listUserDeatil?pageNo=' + num + '&pageSize=10';\n            httpClient.post(url).then((res) => {\n                this.rows = res.data.data.rowCount;\n                this.perPage = res.data.data.pageSize;\n                this.totalPages = res.data.data.totalPages;\n                this.data = res.data.data.datas;\n                let myData = res.data.data.datas;\n                let myItems = [];\n                myData.map((item, i) => {\n                    let role = item.role == \"Dealership Group Administrator\" ? this.$t('m.common.root') : (item.role == \"Dealership Manager\" ? this.$t('m.common.manager') : this.$t('m.common.user'))\n                    myItems.push({\n                        Username: item.firstName + ' ' + item.lastName,\n                        Email: item.userEmail,\n                        Phone: item.phone,\n                        Role: role,\n                        userId: item.userId,\n                        status: item.status,\n                        Dealership: item.storeName,\n                        \"Active/InActive\": item.status === 1 ? 'Active' : 'InActive',\n                        Action: ''\n                    })\n                });\n                this.items = myItems\n            })\n        },\n        turnToPage(p) {\n            this.getList(p);\n        },\n        delData(userid) {\n            httpClient.post('/api/v1/user/delete', {userId: userid}).then((res) => {\n                if (res.data.data === true) {\n                    this.getList(1, 10)\n                }\n                console.log(res)\n            }).catch((err) => {\n            });\n        },\n        openBox(clickId) {\n            let passData = {\n                title: this.$t('m.tip.warn'),\n                show: true,\n                content: this.$t('m.tip.del_user'),\n                buttonText: {\n                    btnFirst: this.$t('m.tip.b_cancel'),\n                    btnSecond: this.$t('m.tip.b_ok'),\n                    userId: clickId\n                }\n            };\n            this.closeRemind(passData);\n        },\n        closeRemind(data) {\n            this.showAlerts.show = data.show;\n            this.showAlerts.title = data.title;\n            this.showAlerts.content = data.content;\n            this.showAlerts.buttonText = data.buttonText;\n        },\n        closeBox(data, ids) {\n            this.showAlerts.show = !this.showAlerts.show;\n            this.deleteUser = data == 'ok';\n            if (this.deleteUser === true) {\n                this.delData(ids)\n            }\n        }\n    }\n}\n",null]}