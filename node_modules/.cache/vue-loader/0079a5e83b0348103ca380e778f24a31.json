{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/alertDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/alertDetail.vue","mtime":1560920640000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from \"@/utils/httpclient\";\nimport { getDateString } from \"@/utils/date\";\nimport googleMap from \"@/components/googleMap\";\nimport model from \"@/components/model\"\n\nexport default {\n    name: \"alertDetail\",\n    components: {\n        googleMap,\n        model\n    },\n    inject: ['reload'],\n    data() {\n        return {\n            data: {},\n            showMap: false,\n            map:{},\n            show: false,\n            updateInfo: '',\n            btnGroup: {btnFirst:'Cancel', btnSecond: 'OK'},\n        }\n    },\n    mounted() {\n        httpClient.post('/api/v1/alert/detail',{\n            alertId: this.$route.params.id\n        }).then(response => {\n            console.log(response)\n            this.data = response.data.data;\n            let year = this.data.year ? this.data.year : 'N/A';\n            let make = this.data.make ? this.data.make : 'N/A';\n            let model = this.data.model ? this.data.model : 'N/A';\n            let info = (year == 'N/A' && make == 'N/A' && model == 'N/A') ? 'N/A' : year + ' ' + make + ' ' + model;\n            this.map = {\n                lat: this.data.lat ? this.data.lat : 0,\n                lng: this.data.lng ? this.data.lng : 0,\n                area: this.data.areaCoordinates ? this.data.areaCoordinates : [],\n                vehicleInfo: info\n            }\n            console.log(this.map)\n        })\n    },\n    methods: {\n        filterTime (time) {\n            return getDateString(time);\n        },\n        showM() {\n            if (this.map.lat && this.map.lng) {\n                this.showMap = true;\n            }\n        },\n        updateStatus() {\n            httpClient.post('/api/v1/alert/update/status', {\n                alertId: this.data.id\n            }).then(response => {\n                if (response.data.code == 200) {\n                    this.reload();\n                } else {\n                    this.reload();\n                }\n            }).catch(error => {\n            })\n        }\n    }\n}\n",null]}