{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/components/tripAMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/components/tripAMap.vue","mtime":1571810020000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { wgs84ToGcjo2 } from \"@/utils/coordtransform\"\nimport AMap from 'AMap'\nexport default {\n    name: \"amap\",\n    props: [\"map\"],\n    data() {\n        return {\n            mapObj: null,\n            polygon: null,\n            lat: \"\",\n            lng: \"\",\n            safeLayer: null,\n            roadLayer: null,\n            mapInfo: null\n        }\n    },\n    watch: {\n        map: function (newVal) {\n            this.mapInfo = newVal;\n            this.initMap();\n        }\n    },\n    methods: {\n        changeMapType(type) {\n            if (type == 'default') {\n                this.roadLayer.hide();\n                this.safeLayer.hide();\n            } else {\n                this.roadLayer.show();\n                this.safeLayer.show();\n            }\n        },\n        initMap() {\n            this.mapObj = new AMap.Map('polygon', {\n                center: [this.mapInfo.center.lng, this.mapInfo.center.lat],\n                zoom: 17\n            });\n            this.safeLayer = new AMap.TileLayer.Satellite({\n            });\n            this.roadLayer = new AMap.TileLayer.RoadNet({\n            });\n            this.mapObj.add(this.safeLayer);\n            this.mapObj.add(this.roadLayer);\n            let area2 = [];\n            this.mapInfo['area'] ? this.mapInfo['area'].map(function (item) {\n                area2.push(wgs84ToGcjo2(Number(item.lng), Number(item.lat) ))\n            }) : '';\n            let polygon = new AMap.Polygon({\n                path: area2,\n                strokeColor: '#FF0000',\n                strokeOpacity: 0.8,\n                strokeWeight: 2,\n                fillColor: '',\n                fillOpacity: 0.35\n            });\n            this.mapObj.add(polygon);\n            this.mapObj.setFitView();\n        }\n    }\n}\n",null]}