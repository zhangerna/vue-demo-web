{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/index.vue?vue&type=style&index=0&id=106c86ed&scoped=true&lang=css&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/index.vue","mtime":1577962918000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.warn-tip {\n    position: absolute;\n    top: 50px;\n    right: 100px;\n    border: 1px solid #ddd;\n    background: #ffffff;\n}\n.blue-color {\n    color: #20a8d8;\n    text-decoration: underline;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\n    <div class=\"app\">\n        <AppHeader fixed>\n            <Socket></Socket>\n            <SidebarToggler class=\"d-lg-none\" display=\"md\" mobile/>\n            <b-link class=\"navbar-brand\" to=\"#\">\n                <img class=\"navbar-brand-full\" src=\"@/assets/pages-img/logo.svg\" width=\"89\" height=\"25\">\n                <img class=\"navbar-brand-minimized\" src=\"https://pic.zus.ai/saas/logo.svg\" width=\"30\" height=\"30\">\n            </b-link>\n            <SidebarToggler class=\"d-md-down-none\" display=\"lg\"/>\n            <b-dropdown v-if=\"root\" :text=\"storeName\" class=\"m-2\" size=\"sm\"  id=\"change-shop\">\n                <b-dropdown-item @click=\"changeStore()\">\n                    <span>{{ $t('m.common.all_store') }}</span>\n                </b-dropdown-item>\n                <b-dropdown-item v-for=\"(item,key) in rootData\" :key=\"key\" @click=\"changeStore(item.storeId, item.storeName)\">\n                    <span>{{ item.storeName }}</span>\n                </b-dropdown-item>\n            </b-dropdown>\n            <b-navbar-nav class=\"ml-auto\">\n                <b-nav-item class=\"d-md-down-none\" @click=\"showWarnList($store.getters.updateNumber)\" ref=\"box\">\n                    <i class=\"icon-bell\"></i>\n                    <b-badge pill variant=\"danger\">{{ $store.getters.updateNumber ? $store.getters.updateNumber : curNumber }}</b-badge>\n                </b-nav-item>\n                <div slot=\"dropdown\" class=\"warn-tip\" v-if=\"showUpdateTip\">\n                    <b-dropdown-header tag=\"div\" class=\"text-center\">\n                        <strong>\n                            {{ $t('m.common.nav_tip', {number: $store.getters.updateNumber ? $store.getters.updateNumber : curNumber  }) }}\n                        </strong>\n                    </b-dropdown-header>\n                    <b-dropdown-item v-for=\"(item, key) in updateLists\" :key=\"key\">\n                        <template v-if=\"item.eventType == 1\">\n                            <div @click=\"linkTo(item.eventType, item.testDriveUserId)\">{{ $t('m.tip.test_user') }}<span class=\"blue-color\">{{ item.serviceNum }}</span>{{ $t('m.tip.card_check') }}</div>\n                        </template>\n                        <template v-if=\"item.eventType == 2\">\n                            <div @click=\"linkTo(item.eventType)\">{{ $t('m.common.test_drive') }}<span class=\"blue-color\">{{ item.serviceNum }}</span>{{ $t('m.cloud.w_accept') }}</div>\n                        </template>\n                        <template v-if=\"item.eventType == 3\">\n                            <div @click=\"linkTo(item.eventType, item.orderId )\">{{ $t('m.common.appoint_order') }}<span class=\"blue-color\">{{ item.serviceNum }}</span>{{ $t('m.common.out_time') }}</div>\n                        </template>\n                    </b-dropdown-item>\n                </div>\n                <DefaultHeaderDropdownAccnt/>\n            </b-navbar-nav>\n        </AppHeader>\n        <div class=\"app-body\">\n            <AppSidebar fixed>\n                <SidebarHeader/>\n                <SidebarForm/>\n                <SidebarNav :navItems=\"nav\"></SidebarNav>\n                <SidebarFooter/>\n                <SidebarMinimizer/>\n            </AppSidebar>\n            <main class=\"main\">\n                <ol class=\"breadcrumb\">\n                    <li v-for=\"(item, k) of $route.matched\" :key=\"k\" class=\"breadcrumb-item\">\n                        {{ $t($store.getters.crumbs[item.name]) }}\n                    </li>\n                </ol>\n                <div class=\"container-fluid\">\n                    <router-view></router-view>\n                </div>\n            </main>\n        </div>\n        <TheFooter>\n            <!--footer-->\n            <div>\n                <a href=\"https://zus.ai\">ZUS.ai</a>\n                <span class=\"ml-1\">© Copyright No NDA Inc., All Rights Reserved</span>\n                <span class=\"ml-1\">沪ICP备19032313号 </span>\n                <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011202011601\">沪公网安备 31011202011601号</a>\n            </div>\n        </TheFooter>\n    </div>\n\n</template>\n\n<script>\n\n    import {\n        Header as AppHeader,\n        SidebarToggler,\n        Sidebar as AppSidebar,\n        SidebarFooter,\n        SidebarForm,\n        SidebarHeader,\n        SidebarMinimizer,\n        SidebarNav,\n        Footer as TheFooter,\n    } from '@coreui/vue';\n    import DefaultHeaderDropdownAccnt from './component/account';\n    import Socket from '@/components/socket';\n    import httpclient from \"@/utils/httpclient\";\n\n    export default {\n        name: 'dashboard',\n        inject: ['reload'],\n        components: {\n            AppHeader,\n            AppSidebar,\n            TheFooter,\n            SidebarForm,\n            SidebarFooter,\n            SidebarToggler,\n            SidebarHeader,\n            SidebarNav,\n            SidebarMinimizer,\n            DefaultHeaderDropdownAccnt,\n            Socket\n        },\n        data() {\n            return {\n                data: [\n                    {\n                        url: '/index',\n                        icon: 'icon-speedometer',\n                        id: 'lotmanger_dashboard',\n                        name: this.$t('m.dashboard.dashboard')\n                    },\n                    {\n                        name: this.$t('m.dashboard.vehicle_m'),\n                        url: \"/inventory\",\n                        icon: \"fa fa-car\",\n                        id: \"lotmanger\",\n                        children: [\n                            {\n                                name: this.$t('m.dashboard.vehicles'),\n                                url: '/inventory/vehicle/list',\n                                id: 'lotmanger_vehicles'\n                            },\n                            {\n                                name: this.$t('m.dashboard.alerts'),\n                                url: '/inventory/alerts/list',\n                                id: 'lotmanger_alerts'\n                            },\n                            {\n                                name: this.$t('m.dashboard.devices'),\n                                url: '/inventory/device/list',\n                                id: 'lotmanger_devices'\n                            },\n                            {\n                                name: this.$t('m.dashboard.lots'),\n                                url: '/inventory/lots/list',\n                                id: 'lotmanger_lots'\n                            },\n                            {\n                                name: this.$t('m.dashboard.shop'),\n                                url: '/inventory/shop-manager/list',\n                                id: 'lotmanger_store'\n                            },\n                        ]\n                    },\n                    {\n                        name: this.$t('m.dashboard.cloud'),\n                        url: '/test-drive',\n                        icon: 'nav-icon icon-list',\n                        id: \"clouddrive\",\n                        children: [\n                            {\n                                name: this.$t('m.dashboard.appoint_order'),\n                                url: '/test-drive/reservation-order/list',\n                                id: \"clouddrive_appointment\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.report_manager'),\n                                url: '/test-drive/test-report/list',\n                                id: \"report_list\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.test_report_all'),\n                                url: '/test-drive/test-all-report',\n                                id: 'clouddrive_many_report'\n                            },\n                            {\n                                name: this.$t('m.dashboard.test_vehicle'),\n                                url: '/test-drive/test-vehicle/list',\n                                id: \"clouddrive_testvehicle\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.test_user'),\n                                url: '/test-drive/test-user/list',\n                                id: \"clouddrive_testuser\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.test_point'),\n                                url: '/test-drive/test-point/list',\n                                id: \"clouddrive_testpoint\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.car_box'),\n                                url: '/test-drive/car-box/list',\n                                id: \"clouddrive_vehiclebox\"\n                            },\n                        ]\n                    },\n                    // {\n                    //     name: this.$t('m.sold_vehicle.vehicle_management'),\n                    //     url: '/sold-manager',\n                    //     icon: 'fa fa-handshake-o',\n                    //     id: 'after_sales',\n                    //     children: [\n                    //         {\n                    //             name: this.$t('m.sold_vehicle.vehicle_sold'),\n                    //             url: '/sold-manager/list',\n                    //             id: \"after_sales_vehicle\"\n                    //         }\n                    //     ]\n                    // },\n                    {\n                        name: this.$t('m.dashboard.admin'),\n                        url: '/manager-user',\n                        icon: 'icons cui-people',\n                        id: 'lotmanger_user_manage',\n                        children: [\n                            {\n                                name: this.$t('m.dashboard2.manager_user'),\n                                url: '/manager-user/user-info/list',\n                                id: 'lotmanger_admin'\n                            },\n                        ]\n                    }\n                ],\n                nav: [\n                ],\n                root: false,\n                rootData: [],\n                storeName: '',\n                env: '',\n                updateLists: [],\n                showUpdateTip: false,\n                curNumber: 0\n            }\n        },\n        mounted() {\n            this.env = process.env.VUE_APP_ENV;\n            this.root = localStorage.getItem('role') == 'root' ? true : false;\n            httpclient.get(\"/api/v1/listmenus\").then((response) => {\n                this.filterList(response.data.data);\n            }).catch((e) => {\n                console.log('listmenus error')\n            });\n            this.requestNotice();\n            if (this.root) {\n                this.storeName = sessionStorage.getItem('storeName') ? sessionStorage.getItem('storeName') : this.$t('m.common.all_store');\n                httpclient.get(\"/api/v1/store/list\").then(res => {\n                    if (res.data.code == 200) {\n                        this.rootData = res.data.data;\n                    }\n                })\n            }\n        },\n        created() {\n            document.addEventListener('click', (e) => {\n                if (this.$refs.box && !this.$refs.box.contains(e.target)) {\n                    this.showUpdateTip = false;\n                }\n            });\n        },\n        methods: {\n            linkTo(type, id) {\n                if (type == 1) {\n                    this.$router.push('/test-drive/test-user/verify/' + id);\n                } else if (type == 2) {\n                    window.location.href = '/test-drive/test-vehicle/list?type=30';\n                } else {\n                    this.$router.push('/test-drive/reservation-order/detail/' + id);\n                }\n            },\n            requestNotice() {\n                httpclient.get('/api/v1/clouddrive/notice/list').then((response) => {\n                    if (response.data.code == 200) {\n                        this.updateLists = response.data.data;\n                        this.curNumber = response.data.data.length;\n                    }\n                });\n            },\n            showWarnList() {\n                this.requestNotice();\n                this.showUpdateTip = true;\n            },\n            changeStore(id, name) {\n                if (id) {\n                    sessionStorage.setItem('storeName', name);\n                    sessionStorage.setItem('storeId', id);\n                } else {\n                    sessionStorage.removeItem('storeId');\n                    sessionStorage.removeItem('storeName');\n                }\n                this.reload();\n            },\n            filterChildren(key, menus, key2) {\n                let list = [];\n                menus[key2].menuList ?\n                    this.data[key].children.map(t => {\n                        menus[key2].menuList.map(i => {\n                            if (i.menuCode == t.id ) {\n                                list.push(t)\n                            }\n                        });\n                }) : '';\n                return list.length > 0 ? list : null;\n            },\n            filterList(menus) {\n                this.nav = [];\n                this.data.map((it, key) => {\n                    menus.map((item, key2) => {\n                        if (item.menuCode == it.id) {\n                            this.nav.push({\n                                name: it.name,\n                                url: it.url,\n                                icon: it.icon,\n                                id: it.id,\n                                menuOrder: item.menuOrder,\n                                children: this.filterChildren(key, menus, key2)\n                            });\n                        }\n                    });\n                });\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    .warn-tip {\n        position: absolute;\n        top: 50px;\n        right: 100px;\n        border: 1px solid #ddd;\n        background: #ffffff;\n    }\n    .blue-color {\n        color: #20a8d8;\n        text-decoration: underline;\n    }\n</style>\n"]}]}