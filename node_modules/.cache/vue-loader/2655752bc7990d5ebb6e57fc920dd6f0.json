{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/addVehicle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/addVehicle.vue","mtime":1562154700000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from \"@/utils/httpclient\";\nimport model from \"@/components/model\";\nexport default {\n    name: \"addVehicle\",\n    components: {\n        model\n    },\n    data() {\n        return {\n            title: '',\n            content: '',\n            show: false,\n            showB: true,\n            vin: '',\n            vinIsVaild: false,\n            vinSuccess: false,\n            data: {},\n            year: '',\n            make: '',\n            alias:'',\n            trim: '',\n            engine: '',\n            price: '',\n            stock: '',\n            condition: 'new',\n            odometer: '',\n            model: '',\n            color: 'Black',\n            date: '',\n            plate: '',\n            photo: '',\n            disabled: false,\n            colorList: [{c: this.$t('m.colors.black'), y: \"Black\"}, {c: this.$t('m.colors.white'), y:'White'}, {c: this.$t('m.colors.silver'), y: 'Silver'}, {c: this.$t('m.colors.blue'), y: 'Blue'}, {c: this.$t('m.colors.red'), y: 'Red'}, {c: this.$t('m.colors.brown'), y: 'Brown'}, {c: this.$t('m.colors.gold'), y: 'Gold'}, {c: this.$t('m.colors.orange'), y: 'Orange'}, {c: this.$t('m.colors.yellow'), y: 'Yellow'}, {c: this.$t('m.colors.purple'), y: 'Purple'}, {c: this.$t('m.colors.green'), y: 'Green'}, {c: this.$t('m.colors.pink'), y: 'Pink'},{c: this.$t('m.colors.others'), y: 'Others'}],\n            conditionList: [{c: this.$t('m.common.c_new'), y: \"New\"}, { c: this.$t('m.common.c_used'), y: \"Used\"}, { c: this.$t('m.common.c_demo'), y: \"Demo\" }],\n        }\n    },\n    mounted() {\n\n    },\n    watch: {\n        vin(curVal) {\n            if (curVal.length == 17) {\n                this.disabled = true;\n                httpClient.get('/api/v1/vehicle/detail/vin?vin=' + this.vin).then(response => {\n                    this.vinSuccess = true;\n                    this.vinIsVaild = false;\n                    this.showB = false;\n                    this.data = response.data.data;\n                    this.year = this.data.year;\n                    this.make = this.data.make;\n                    this.model = this.data.model;\n                    this.alias = this.data.alias;\n                    this.trim = this.data.trim;\n                    this.engine = this.data.engineType;\n                    this.price = this.data.price;\n                    this.color = this.data.color;\n                    this.date = this.data.inventoryDays;\n                    this.stock = this.data.stockNumber;\n                    this.condition = this.data.vehicleType;\n                    this.odometer = this.data.currentMileage * 0.0006214;\n                    this.plate = this.data.plate;\n                    this.photo = this.data.photoPath;\n                }).catch(error => {\n                    this.vinIsVaild = false;\n                    this.vinSuccess = false;\n                    this.showB = false;\n                })\n            } else {\n                this.vinIsVaild = true;\n\n            }\n        }\n    },\n    methods: {\n        closeTip() {\n            this.show = false;\n        },\n        savefile(event) {\n            let file = event.target.files;\n            let fb = new FormData();\n            fb.append(\"image\", file[0]);\n            httpClient.post('/api/v1/uploadFile', fb).then(response => {\n                if (response.data.code == 200) {\n                    this.photo = response.data.data.path;\n                    this.title = this.$t('m.tip.suc');\n                    this.content = this.$t('m.tip.upload');\n                    this.show = true;\n                    this.showB = false;\n                }\n            }).catch(error => {\n                console.error(error)\n            })\n        },\n        saveData() {\n            httpClient.post('/api/v1/vehicle/insert/vehicle',{\n                vin: this.vin,\n                year: this.year,\n                make: this.make,\n                model: this.model,\n                alias:this.alias,\n                trim: this.trim,\n                engineType: this.engine,\n                color: this.color,\n                price: this.price,\n                stockNumber: this.stock,\n                inventoryDate: new Date(this.date).getTime(),\n                vehicleType: this.condition,\n                currentMileage: this.odometer > 0 ? this.odometer * 1609.344:0,\n                plate: this.plate,\n                photoPath: this.photo\n\n            }).then(response => {\n                if (response.data.data.bindResult == true) {\n                    this.$router.push('/vehicle/detail/' + response.data.data.vehicleId);\n                }\n            })\n        }\n    }\n}\n",{"version":3,"sources":["addVehicle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addVehicle.vue","sourceRoot":"src/views/dashboard/dashboardMain","sourcesContent":["<template>\n    <div class=\"animated fadeIn add-vehicle\">\n        <b-card>\n            <div slot=\"header\">\n                <i class=\"fa fa-plus-square\"></i>\n                {{ $t('m.add_vehicle.title') }}\n            </div>\n            <div class=\"content\">\n                <b-row>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.vin') }}</label>\n                            <b-form-input type=\"text\" :placeholder=\"$t('m.common.enter') + ' ' +  $t('m.common.vin') \" v-model=\"vin\" :class=\"vinIsVaild ? 'is-invalid' : ''\" :disabled=\"vinSuccess || disabled\" maxlength=\"17\"></b-form-input>\n                            <p v-show=\"vinIsVaild\" class=\"warn-vin\">{{ $t('m.common.vin3') + $t('m.vehicle_bind.invalid') }}</p>\n                            <p v-show=\"vinSuccess\" class=\"primary-vin\">{{ $t('m.common.vin3') + $t('m.vehicle_bind.valid') }}</p>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.year') }}</label>\n                            <b-form-input type=\"text\" v-model=\"year\" :placeholder=\"$t('m.common.enter') + $t('m.common.year')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.make') }}</label>\n                            <b-form-input type=\"text\" v-model=\"make\"  :placeholder=\"$t('m.common.enter') + $t('m.common.make')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <b-row>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.model') }}</label>\n                            <b-form-input type=\"text\" v-model=\"model\" :placeholder=\"$t('m.common.model')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.alias') }}</label>\n                            <b-form-input type=\"text\" v-model=\"alias\" :placeholder=\"$t('m.common.alias')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.trim') }}</label>\n                            <b-form-input type=\"text\" v-model=\"trim\" :placeholder=\"$t('m.common.enter') + $t('m.common.trim')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <b-row>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.engine') }}</label>\n                            <b-form-input type=\"text\" v-model=\"engine\" :placeholder=\"$t('m.common.enter') + $t('m.common.engine')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.color') }}</label>\n                            <select class=\"form-control\" name=\"color\" id=\"vehiclecolor\" v-model=\"color\">\n                                <option v-for=\"(item, index) in colorList\" :key=\"index\" :value=\"item.y\">{{item.c}}</option>\n                            </select>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group class=\"price-dorlar\">\n                            <label>{{ $t('m.common.price') }}</label>\n                            <b-input-group>\n                                <b-input-group-prepend>\n                                    <b-input-group-text>$</b-input-group-text>\n                                </b-input-group-prepend>\n                                <b-form-input v-model=\"price\"  type=\"number\" :placeholder=\"$t('m.common.enter') + $t('m.common.price')\"></b-form-input>\n                            </b-input-group>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <b-row>\n\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.stock_num') }}</label>\n                            <b-form-input type=\"text\" v-model=\"stock\" :placeholder=\"$t('m.common.enter') + $t('m.common.stock_num')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.inv_date') }}</label>\n                            <b-form-input type=\"date\" v-model=\"date\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.condition') }}</label>\n                            <select class=\"form-control\" name=\"\" id=\"vehicletype\" v-model=\"condition\">\n                                <option v-for=\"(item, index) in conditionList\" :key=\"index\" :value=\"item.y\">{{item.c}}</option>\n                            </select>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <b-row>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.odometer') }}</label>\n                            <b-form-input type=\"text\" v-model=\"odometer\" :placeholder=\"$t('m.common.enter') + $t('m.common.c_mileage')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.plate_num') }}</label>\n                            <b-form-input type=\"text\" v-model=\"plate\" :placeholder=\"$t('m.common.enter') + $t('m.common.plate_num')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <div class=\"upload-group\">\n                    <label>{{ $t('m.common.upload_img') }}</label>\n                    <img v-show=\"photo\" :src=\"photo\" width=\"100%\">\n                    <div>\n                        <input type=\"file\" id=\"uploadAvatar\" @change=\"savefile($event)\" accept=\"image/jpeg,image/png,image/jpg\" ref=\"upload\">\n                    </div>\n                    <b-button class=\"btn btn-success\" :disabled=\"showB\" @click=\"saveData\">\n                        {{ $t('m.common.submit') }}\n                    </b-button>\n                </div>\n            </div>\n        </b-card>\n        <model :title=\"title\"\n               :content=\"content\"\n               :show=\"show\"\n               :buttonText=\"{btnFirst: 'Ok'}\"\n                @closeRemindBox=\"closeTip()\">\n        </model>\n    </div>\n</template>\n\n<style lang=\"scss\">\n    .add-vehicle {\n        select {\n            height: 35px!important;\n        }\n        .upload-group {\n            width: 30%;\n            margin: 0 auto;\n            button {\n                margin-top: 20px;\n            }\n\n        }\n        .warn-vin {\n            color: red;\n        }\n        .primary-vin {\n            color: #4dbd74;\n        }\n    }\n    .price-dorlar{\n        .input-group-text{\n            background:#515b65 ;\n        }\n    }\n</style>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import model from \"@/components/model\";\n    export default {\n        name: \"addVehicle\",\n        components: {\n            model\n        },\n        data() {\n            return {\n                title: '',\n                content: '',\n                show: false,\n                showB: true,\n                vin: '',\n                vinIsVaild: false,\n                vinSuccess: false,\n                data: {},\n                year: '',\n                make: '',\n                alias:'',\n                trim: '',\n                engine: '',\n                price: '',\n                stock: '',\n                condition: 'new',\n                odometer: '',\n                model: '',\n                color: 'Black',\n                date: '',\n                plate: '',\n                photo: '',\n                disabled: false,\n                colorList: [{c: this.$t('m.colors.black'), y: \"Black\"}, {c: this.$t('m.colors.white'), y:'White'}, {c: this.$t('m.colors.silver'), y: 'Silver'}, {c: this.$t('m.colors.blue'), y: 'Blue'}, {c: this.$t('m.colors.red'), y: 'Red'}, {c: this.$t('m.colors.brown'), y: 'Brown'}, {c: this.$t('m.colors.gold'), y: 'Gold'}, {c: this.$t('m.colors.orange'), y: 'Orange'}, {c: this.$t('m.colors.yellow'), y: 'Yellow'}, {c: this.$t('m.colors.purple'), y: 'Purple'}, {c: this.$t('m.colors.green'), y: 'Green'}, {c: this.$t('m.colors.pink'), y: 'Pink'},{c: this.$t('m.colors.others'), y: 'Others'}],\n                conditionList: [{c: this.$t('m.common.c_new'), y: \"New\"}, { c: this.$t('m.common.c_used'), y: \"Used\"}, { c: this.$t('m.common.c_demo'), y: \"Demo\" }],\n            }\n        },\n        mounted() {\n\n        },\n        watch: {\n            vin(curVal) {\n                if (curVal.length == 17) {\n                    this.disabled = true;\n                    httpClient.get('/api/v1/vehicle/detail/vin?vin=' + this.vin).then(response => {\n                        this.vinSuccess = true;\n                        this.vinIsVaild = false;\n                        this.showB = false;\n                        this.data = response.data.data;\n                        this.year = this.data.year;\n                        this.make = this.data.make;\n                        this.model = this.data.model;\n                        this.alias = this.data.alias;\n                        this.trim = this.data.trim;\n                        this.engine = this.data.engineType;\n                        this.price = this.data.price;\n                        this.color = this.data.color;\n                        this.date = this.data.inventoryDays;\n                        this.stock = this.data.stockNumber;\n                        this.condition = this.data.vehicleType;\n                        this.odometer = this.data.currentMileage * 0.0006214;\n                        this.plate = this.data.plate;\n                        this.photo = this.data.photoPath;\n                    }).catch(error => {\n                        this.vinIsVaild = false;\n                        this.vinSuccess = false;\n                        this.showB = false;\n                    })\n                } else {\n                    this.vinIsVaild = true;\n\n                }\n            }\n        },\n        methods: {\n            closeTip() {\n                this.show = false;\n            },\n            savefile(event) {\n                let file = event.target.files;\n                let fb = new FormData();\n                fb.append(\"image\", file[0]);\n                httpClient.post('/api/v1/uploadFile', fb).then(response => {\n                    if (response.data.code == 200) {\n                        this.photo = response.data.data.path;\n                        this.title = this.$t('m.tip.suc');\n                        this.content = this.$t('m.tip.upload');\n                        this.show = true;\n                        this.showB = false;\n                    }\n                }).catch(error => {\n                    console.error(error)\n                })\n            },\n            saveData() {\n                httpClient.post('/api/v1/vehicle/insert/vehicle',{\n                    vin: this.vin,\n                    year: this.year,\n                    make: this.make,\n                    model: this.model,\n                    alias:this.alias,\n                    trim: this.trim,\n                    engineType: this.engine,\n                    color: this.color,\n                    price: this.price,\n                    stockNumber: this.stock,\n                    inventoryDate: new Date(this.date).getTime(),\n                    vehicleType: this.condition,\n                    currentMileage: this.odometer > 0 ? this.odometer * 1609.344:0,\n                    plate: this.plate,\n                    photoPath: this.photo\n\n                }).then(response => {\n                    if (response.data.data.bindResult == true) {\n                        this.$router.push('/vehicle/detail/' + response.data.data.vehicleId);\n                    }\n                })\n            }\n        }\n    }\n</script>"]}]}