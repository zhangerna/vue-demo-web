{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/resetPassword/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/resetPassword/index.vue","mtime":1560241896000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from \"@/utils/httpclient\";\nimport succ from \"@/components/registStatus\";\nexport default {\n    name: \"registerCheckSuccess\",\n    components: {\n        succ\n    },\n    data() {\n        return {\n            errInfo: \"\",\n            btnGroup: {\n            },\n            nPassword: '',\n            password: '',\n            passwordE: false,\n            passwordNE: false,\n            userId: '',\n            succInfo: '',\n            status: false\n        }\n    },\n    mounted() {\n        httpClient.post(\"/api/v1/user/resetpwdverification\", {\n            token: this.$route.query.token\n        }).then(response => {\n            if (response.data.data && response.data.data == 200) {\n                this.status = 3;\n                this.userId = response.data.data.id;\n            } else {\n                this.errInfo = \"Sorry,the link has been used or has expired.\";\n                this.status = 1;\n            }\n        }).then(err => {\n            this.errInfo = \"Sorry,the link has been used or has expired.\";\n            this.status = 1;\n\n        })\n    },\n    methods: {\n        submitForm() {\n            if (!this.password || (this.password && this.password.length < 6)) {\n                this.passwordE = true;\n            } else {\n                this.passwordE = false;\n            }\n            if (!this.nPassword || (this.nPassword && this.nPassword != this.password)) {\n                this.passwordNE = true;\n            } else {\n                this.passwordNE = false;\n            }\n            if (!this.passwordNE && !this.passwordE) {\n                httpClient.post('/api/v1/user/resetpwd', {\n                    userId: this.userId,\n                    newPassword: this.password\n                }).then(response => {\n                    if (response.data.data || response.data.code == 200) {\n                        this.status = 2;\n                        this.succInfo = \"Congratulations, you have reset the password.\";\n                        this.btnGroup = {\n                            btnFirst: \"Login\",\n                            btnSecond: \"Homepage\"\n                        }\n                    } else {\n                        this.errInfo = \"Sorry,the link has been used or has expired.\";\n                        this.status = 1;\n                    }\n                })\n            }\n\n        }\n    }\n}\n",null]}