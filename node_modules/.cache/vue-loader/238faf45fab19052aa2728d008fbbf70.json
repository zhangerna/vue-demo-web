{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/lotsDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/lotsDetail.vue","mtime":1574414921000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from \"@/utils/httpclient\";\nimport myMap from '@/components/map';\nimport model from \"@/components/model\";\nexport default {\n    name: 'lotDetail',\n    components: {\n        myMap,model\n    },\n    data() {\n        return {\n            data: null,\n            show:false,\n            id:this.$route.params.id,\n            btnGroup: {\n                btnFirst: this.$t('m.tip.b_cancel'),\n                btnSecond: this.$t('m.tip.b_ok')\n            },\n            map: {},\n            parkingName:'',\n            parkingContactName:'',\n            parkingContactPhone:'',\n            parkingAddress:'',\n            parkingAddressDesc:'',\n        }\n    },\n    mounted(){\n        httpClient.get(\"/api/v1/lot/detail\", {\n            params: {\n                id: this.id\n            }\n        }).then(response => {\n            let myData = response.data.data;\n            this.data = response.data.data;\n            this.parkingName = myData.parkingName || 'N/A';\n            this.parkingContactName = myData.parkingContactName || 'N/A';\n            this.parkingContactPhone = myData.parkingContactPhone || 'N/A';\n            this.parkingAddress = myData.address || 'N/A';\n            this.parkingAddressDesc = myData.parkingAddressDesc || 'N/A';\n\n            this.getVehicleList(this.$route.params.id, myData.areaCoordinate, myData.centerCoordinate);\n        })\n    },\n\n    methods:{\n        getVehicleList(id, area, centerCoor) {//初始化地图\n            httpClient.get('/api/v1/inlotvehiclelist', {\n                params: {\n                    parkingId: id\n                }\n            }).then(response => {\n                let latlng = centerCoor.split(\" \");\n                this.map = {\n                    lat: Number(latlng[1]),\n                    lng: Number(latlng[0]),\n                    area: area,\n                    vehicleInfo: response.data.data,\n                };\n            })\n        },\n        delId(id) {\n            this.curDel = id;\n            this.show = true;\n        },\n        hideTip(type) {\n            if (type) {\n                httpClient.post('/api/v1/lot/delete', {\n                    id: this.curDel\n                }).then(() => {\n                    this.$router.push('/inventory/lots/list');\n                })\n            }\n            this.show = false;\n        },\n    }\n\n}\n",{"version":3,"sources":["lotsDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"lotsDetail.vue","sourceRoot":"src/views/dashboard/dashboardMain","sourcesContent":["<template>\n    <div class=\"animated fadeIn lot-edit\">\n        <b-card :header=\"$t('m.lots.lot_detail')\" class=\"custom-header\">\n            <b-row>\n                <b-col class=\"col-6\">\n                    <b-form-group>\n                        <label>{{ $t('m.lots.name') }}</label>\n                        <b-form-input disabled type=\"text\" v-model=\"parkingName\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group>\n                        <label>{{ $t('m.common.contact_person') }}</label>\n                        <b-form-input disabled type=\"text\" v-model=\"parkingContactName\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group>\n                        <label>{{ $t('m.common.contact_phone') }}</label>\n                        <b-form-input disabled type=\"number\" v-model=\"parkingContactPhone\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group>\n                        <label>{{ $t('m.add_shop.country') }}</label>\n                        <b-form-input disabled type=\"text\" v-model=\"data.parkingCountryName\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group>\n                        <label>{{ $t('m.add_shop.state') }}</label>\n                        <b-form-input disabled type=\"text\" v-model=\"data.parkingStateName\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group>\n                        <label>{{ $t('m.add_shop.city') }}</label>\n                        <b-form-input disabled type=\"text\" v-model=\"data.parkingCityName\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group>\n                        <label>{{ $t('m.add_shop.area') }}</label>\n                        <b-form-input disabled type=\"text\" v-model=\"data.parkingAreaName\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group>\n                        <label>{{ $t('m.lots.address') }}</label>\n                        <b-input-group>\n                            <b-form-input disabled type=\"text\" v-model=\"parkingAddress\"></b-form-input>\n                        </b-input-group>\n                    </b-form-group>\n                    <b-form-group>\n                        <label>{{ $t('m.common.address_des') }}</label>\n                        <b-form-input disabled type=\"text\" v-model=\"parkingAddressDesc\"></b-form-input>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <div style=\"position: relative\">\n                <myMap :map=\"map\" :elementId=\"'lot-map'\"></myMap>\n            </div>\n            <b-row>\n                <b-col class=\"col-12 text-center\" style=\"margin-top: 20px\">\n                    <b-button variant=\"danger\" @click=\"delId(id)\">{{$t('m.cloud.delete')}}</b-button>\n                </b-col>\n            </b-row>\n        </b-card>\n        <model\n            :show=\"show\"\n            :title=\"$t('m.tip.warn')\"\n            :content=\"$t('m.tip.delete_lot')\"\n            :buttonText=\"btnGroup\"\n            @closeRemindBox=\"hideTip\"\n        ></model>\n    </div>\n</template>\n\n<style lang=\"scss\">\n\n</style>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import myMap from '@/components/map';\n    import model from \"@/components/model\";\n    export default {\n        name: 'lotDetail',\n        components: {\n            myMap,model\n        },\n        data() {\n            return {\n                data: null,\n                show:false,\n                id:this.$route.params.id,\n                btnGroup: {\n                    btnFirst: this.$t('m.tip.b_cancel'),\n                    btnSecond: this.$t('m.tip.b_ok')\n                },\n                map: {},\n                parkingName:'',\n                parkingContactName:'',\n                parkingContactPhone:'',\n                parkingAddress:'',\n                parkingAddressDesc:'',\n            }\n        },\n        mounted(){\n            httpClient.get(\"/api/v1/lot/detail\", {\n                params: {\n                    id: this.id\n                }\n            }).then(response => {\n                let myData = response.data.data;\n                this.data = response.data.data;\n                this.parkingName = myData.parkingName || 'N/A';\n                this.parkingContactName = myData.parkingContactName || 'N/A';\n                this.parkingContactPhone = myData.parkingContactPhone || 'N/A';\n                this.parkingAddress = myData.address || 'N/A';\n                this.parkingAddressDesc = myData.parkingAddressDesc || 'N/A';\n\n                this.getVehicleList(this.$route.params.id, myData.areaCoordinate, myData.centerCoordinate);\n            })\n        },\n\n        methods:{\n            getVehicleList(id, area, centerCoor) {//初始化地图\n                httpClient.get('/api/v1/inlotvehiclelist', {\n                    params: {\n                        parkingId: id\n                    }\n                }).then(response => {\n                    let latlng = centerCoor.split(\" \");\n                    this.map = {\n                        lat: Number(latlng[1]),\n                        lng: Number(latlng[0]),\n                        area: area,\n                        vehicleInfo: response.data.data,\n                    };\n                })\n            },\n            delId(id) {\n                this.curDel = id;\n                this.show = true;\n            },\n            hideTip(type) {\n                if (type) {\n                    httpClient.post('/api/v1/lot/delete', {\n                        id: this.curDel\n                    }).then(() => {\n                        this.$router.push('/inventory/lots/list');\n                    })\n                }\n                this.show = false;\n            },\n        }\n\n    }\n</script>\n"]}]}