{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/managerUser/adminInvite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/managerUser/adminInvite.vue","mtime":1577962918000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from '@/utils/httpclient';\nimport Alert from '@components/model'\n\nexport default {\n    name: 'adminInvite',\n    components: {\n        Alert\n    },\n    data() {\n        return {\n            emails: [\n                {\n                    name: ''\n                },\n                {\n                    name: '',\n                }\n            ],\n            btnActive: true,\n            showAlerts: {\n                title: '',\n                content: '',\n                show: false,\n                buttonText: ''\n            },\n            storeName:'',\n            opSave: false\n        }\n    },\n    mounted(){\n        httpClient.post('/api/v1/user/store').then((res)=>{\n            this.storeName = res.data.data.storeName;\n        })\n    },\n    methods: {\n        addInputBox() {\n            this.emails.push({name: ''});\n        },\n        getAllEmails() {\n            let emailsArray = [];\n            let url = '/api/v1/inviteUser';\n            this.emails.map((item, i) => {\n                item.name.length ? emailsArray.push(item.name) : '';\n            });\n            httpClient.post(url, {emails: emailsArray.join(',')}).then((res) => {\n                if (res.data.code === 200) {\n                    this.opSave = true;\n                    this.showAlerts = {\n                        title: this.$t('m.tip.suc'),\n                        content: this.$t('m.tip.save_succ'),\n                        show: true,\n                        buttonText: {\n                            btnSecond: this.$t('m.tip.b_ok'),\n                        }\n                    }\n                }\n            })\n        },\n        verifyEmail(m) {//验证输入值，合法才可以提交\n            let reg = /^.*@\\w+(\\.\\w+)+/;\n            if (!reg.test(m)) {\n                let passData = {\n                    title: this.$t('m.tip.add_user_invite'),\n                    show: true,\n                    content: this.$t('m.tip.add_user_invalid_email'),\n                    buttonText: {\n                        btnFirst: '',\n                        btnSecond: this.$t('m.tip.b_ok'),\n                        userId: ''\n                    }\n                };\n                this.closeRemind(passData);\n            } else {\n                this.btnActive = false\n            }\n        },\n        closeBox() {\n            if (this.opSave) {\n                this.$router.push('/manager-user/list');\n            }\n            this.showAlerts.show = !this.showAlerts.show;\n        },\n        closeRemind(data) {\n            this.showAlerts.show = data.show;\n            this.showAlerts.title = data.title;\n            this.showAlerts.content = data.content;\n            this.showAlerts.buttonText = data.buttonText;\n        },\n    },\n}\n",{"version":3,"sources":["adminInvite.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"adminInvite.vue","sourceRoot":"src/views/dashboard/managerUser","sourcesContent":["<template>\n    <div class=\"animated fadeIn\">\n        <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"card\">\n                    <div class=\"card-header \"> {{ $t('m.admin.add_users') }}</div>\n                    <div class=\"card-body\" style=\"\">\n                        <div class=\"pb-3 text-secondary\">{{ $t('m.admin.invite_p') }}\n                            {{storeName}}</div>\n                        <div class=\"pb-3\" style=\"font-size: 12px\">{{ $t('m.admin.send_content') }} </div>\n                        <div class=\"form-input\">\n                            <div class=\"form-group col-md-6\" v-for=\"(item,i) in emails\" :key=\"i\">\n                                <b-input-group class=\"mt-3\">\n                                    <b-input-group-text slot=\"prepend\"><i class=\"fa fa-envelope\"></i></b-input-group-text>\n                                    <b-form-input v-model=\"item.name\" type=\"email\" @change=\"verifyEmail(item.name)\"></b-form-input>\n                                </b-input-group>\n                            </div>\n                        </div>\n                        <div class=\"form-group col-md-8\" id=\"plusUserDiv\" style=\"margin-top:-48px;margin-left:48%\">\n                            <div class=\"input-group-append col-md-4\" @click=\"addInputBox\">\n                    <span class=\"input-group-text\" id=\"plusUserBtn\">\n                      <i class=\"fa fa-plus\"></i>\n                    </span>\n                            </div>\n                        </div>\n                        <div class=\"form-group form-actions col-6\">\n                            <b-button class=\"btn btn-info text-white\" @click=\"getAllEmails\" :disabled=\"btnActive\">{{ $t('m.common.b_save') }}</b-button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <Alert @closeRemindBox='closeBox' :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n                   :title=\"showAlerts.title\" :content=\"showAlerts.content\">\n            </Alert>\n\n        </div>\n\n\n    </div>\n</template>\n<script>\n    import httpClient from '@/utils/httpclient';\n    import Alert from '@components/model'\n\n    export default {\n        name: 'adminInvite',\n        components: {\n            Alert\n        },\n        data() {\n            return {\n                emails: [\n                    {\n                        name: ''\n                    },\n                    {\n                        name: '',\n                    }\n                ],\n                btnActive: true,\n                showAlerts: {\n                    title: '',\n                    content: '',\n                    show: false,\n                    buttonText: ''\n                },\n                storeName:'',\n                opSave: false\n            }\n        },\n        mounted(){\n            httpClient.post('/api/v1/user/store').then((res)=>{\n                this.storeName = res.data.data.storeName;\n            })\n        },\n        methods: {\n            addInputBox() {\n                this.emails.push({name: ''});\n            },\n            getAllEmails() {\n                let emailsArray = [];\n                let url = '/api/v1/inviteUser';\n                this.emails.map((item, i) => {\n                    item.name.length ? emailsArray.push(item.name) : '';\n                });\n                httpClient.post(url, {emails: emailsArray.join(',')}).then((res) => {\n                    if (res.data.code === 200) {\n                        this.opSave = true;\n                        this.showAlerts = {\n                            title: this.$t('m.tip.suc'),\n                            content: this.$t('m.tip.save_succ'),\n                            show: true,\n                            buttonText: {\n                                btnSecond: this.$t('m.tip.b_ok'),\n                            }\n                        }\n                    }\n                })\n            },\n            verifyEmail(m) {//验证输入值，合法才可以提交\n                let reg = /^.*@\\w+(\\.\\w+)+/;\n                if (!reg.test(m)) {\n                    let passData = {\n                        title: this.$t('m.tip.add_user_invite'),\n                        show: true,\n                        content: this.$t('m.tip.add_user_invalid_email'),\n                        buttonText: {\n                            btnFirst: '',\n                            btnSecond: this.$t('m.tip.b_ok'),\n                            userId: ''\n                        }\n                    };\n                    this.closeRemind(passData);\n                } else {\n                    this.btnActive = false\n                }\n            },\n            closeBox() {\n                if (this.opSave) {\n                    this.$router.push('/manager-user/list');\n                }\n                this.showAlerts.show = !this.showAlerts.show;\n            },\n            closeRemind(data) {\n                this.showAlerts.show = data.show;\n                this.showAlerts.title = data.title;\n                this.showAlerts.content = data.content;\n                this.showAlerts.buttonText = data.buttonText;\n            },\n        },\n    }\n</script>\n<style lang=\"scss\" scoped>\n    #plusUserDiv {\n        cursor: pointer;\n    }\n</style>\n"]}]}