{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/inventory/vehicle.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/inventory/vehicle.vue","mtime":1575343071000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.card-header span {\n    margin-left: 10px;\n}\n.search-box{\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    margin-bottom: 30px;\n    .search-group{\n        margin-top: 0 !important;\n        margin-bottom: 0 !important;\n    }\n}\n.top-holder {\n    margin-top: 12px;\n}\n.filter-left{\n    .card-body{\n        padding-left: 0;\n    }\n    .text-primary{\n        padding-left: 0;\n    }\n    .col-sm-10{\n        padding-left: 0;\n    }\n}\n.vehicle {\n    .select-box{\n        margin-top: 6px;\n    }\n    .my-condition-btn{\n        margin-top: 2px!important;\n    }\n    table {\n        .btn {\n            color: white;\n        }\n    }\n    .show-google-gaode{\n        .bottom-ok-btn{\n            margin-top: 20px;\n            padding-top: 10px;\n            text-align: right;\n            border-top: 1px solid #23282c;\n        }\n    }\n    width: 100%;\n\n    .link-to-detail {\n        cursor: pointer;\n        color: #20a8d8;\n\n        &:hover {\n            text-decoration: underline;\n        }\n    }\n\n    .search-group {\n        width: 40%;\n        margin-top: 2%;\n        display: inline-block;\n\n        input {\n            height: 40px;\n        }\n\n        button {\n            margin-left: 0px;\n            height: 36px;\n        }\n\n        a {\n            margin-left: 10%;\n        }\n    }\n    .my-check-box{\n        margin-right: 5px;\n    }\n\n\n    .collapse-m {\n        border-color: #1FA8D8;\n        border-style: dashed;\n    }\n\n    .table-outline {\n        margin-top: 2%;\n    }\n\n    .filter-content {\n        display: inline-block;\n    }\n\n    .header-right {\n        float: right;\n\n        button {\n            background-color: #20a8d8 !important;\n            border-color: #20a8d8 !important;\n        }\n    }\n}\n\n.btn {\n    margin: 2px;\n}\n\n.mapLocation {\n\n}\n\n.photo-url {\n    img {\n        border-radius: 4px;\n    }\n\n    span {\n        position: absolute;\n        background-color: #73818f;\n        border-radius: 4px;\n        padding: 0.25rem;\n        font-size: 12px;\n    }\n\n    strong {\n\n    }\n}\n.show-map {\n    .modal-dialog {\n        max-width: 80%;\n    }\n}\n.my-icon{\n    background: #000;\n    margin-left: 3px;\n    color: #fff;\n    width: 15px;\n    height: 15px;\n    font-size: 15px;\n    text-align: center;\n    border-radius: 50%;\n}\n\n/*删除和导入两个弹窗的宽度*/\n.del-tip,.insert-vehicle{\n    .modal{\n        .modal-dialog{\n            width: 50%;\n            max-width: 500px;\n        }\n    }\n}\n",{"version":3,"sources":["vehicle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vehicle.vue","sourceRoot":"src/views/dashboard/inventory","sourcesContent":["<template xmlns:v-slot=\"http://www.w3.org/1999/XSL/Transform\">\n    <div class=\"animated fadeIn vehicle\">\n        <b-card style=\"width: 100%;\" class=\"custom-header\">\n            <div slot=\"header\">\n                {{ $t('m.dashboard.vehicles') }}\n                <div class=\"header-right\">\n                    <b-button class=\"btn btn-sm btn-primary mr-2\" style=\"color: white\" @click=\"openChainTip()\">\n                        <i class=\"fa fa-plus-square\"></i>\n                        {{ $t('m.cloud.insert_vehicle') }}\n                    </b-button>\n                    <b-button class=\"btn btn-sm btn-primary mr-2\" style=\"color: white\" @click=\"$router.push('/inventory/vehicle/add')\">\n                        <i class=\"fa fa-plus-square\"></i>\n                        {{ $t('m.vehicle.b_add') }}\n                    </b-button>\n                    <b-button class=\"btn btn-sm btn-primary mr-2\" style=\"color: white\" @click=\"$router.push('/inventory/vehicle/bind')\">\n                        <i class=\"fa fa-wrench\"></i>\n                        {{ $t('m.vehicle.b_install') }}\n                    </b-button>\n                </div>\n            </div>\n            <div class=\"search-box\">\n                <b-row style=\"width: 100%\">\n                    <b-col sm=\"10\" style=\"align-items: center;justify-content: center;\">\n                        <b-form-group label-for=\"elementsAppendButton\" class=\"search-group\">\n                            <b-input-group>\n                                <b-form-input type=\"text\" :placeholder=\" $t('m.vehicle.search_placeholder') \" v-model=\"search\"></b-form-input>\n                                <b-input-group-append>\n                                    <b-button variant=\"primary\" @click=\"showList === 'false'? letChildGetMap():searchData() \"><i class=\"fa fa-search\"></i>{{ $t('m.vehicle.b_search') }}\n                                    </b-button>\n                                </b-input-group-append>\n                            </b-input-group>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"2\" align=\"right\" style=\"padding-top: 5px\">\n                        <button v-b-tooltip.hover :title=\"$t('m.vehicle.list_module')\" :class=\"showList !== 'false' ? 'btn btn-sm btn-primary' :'btn btn-sm btn-secondary' \" @click=\"toggleMapList('true')\">\n                            <i class=\"cui icon-menu\"></i>\n                        </button>\n                        <button v-b-tooltip.hover :title=\"$t('m.vehicle.map_module')\" style=\"color: white;\" :class=\"showList === 'false' ? 'btn btn-sm btn-primary' :'btn btn-sm btn-secondary' \" @click=\"toggleMapList('false')\">\n                            <i class=\"cui icon-map\"></i>\n                        </button>\n                    </b-col>\n                </b-row>\n            </div>\n            <b-row>\n                <b-col class=\"col-md-3\">\n                    <span>{{ $t('m.lots.title') }}</span>\n                    <b-form-select class=\"select-box\" v-model=\"selected_parking\" :options=\"parking_list.list\" @change=\"searchData\">\n                        <template v-slot:first>\n                            <option :value=\"null\">{{ $t('m.sold_vehicle.transform_vehicle_to_other_store_options') }}</option>\n                        </template>\n                    </b-form-select>\n                </b-col>\n                <b-col class=\"col-md-3\">\n                    <span>{{ $t('m.vehicle.battery_voltage') }}</span>\n                    <i v-b-popover.hover.top=\"$t('m.vehicle.vehicle_battery_tip')\" class='fa fa-question my-icon'></i>\n                    <b-form-select class=\"select-box\" v-model=\"selected_battery\" :options=\"battery_list.list\" @change=\"searchData\">\n                        <template v-slot:first>\n                            <option :value=\"null\">{{ $t('m.sold_vehicle.transform_vehicle_to_other_store_options') }}</option>\n                        </template>\n                    </b-form-select>\n                </b-col>\n                <b-col class=\"col-md-3\">\n                    <span>{{ $t('m.common.line_status2') }}</span>\n                    <i v-b-popover.hover.top=\"$t('m.vehicle.vehicle_online_tip')\" class='fa fa-question my-icon'></i>\n                    <b-form-select class=\"select-box\" v-model=\"selected_offline\" :options=\"offline_list.list\" @change=\"searchData\">\n                        <template v-slot:first>\n                            <option :value=\"null\" >{{ $t('m.sold_vehicle.transform_vehicle_to_other_store_options') }}</option>\n                        </template>\n                    </b-form-select>\n                </b-col>\n                <b-col class=\"col-md-3\">\n                    <span>{{ $t('m.common.ava_test_drive') }}</span>\n                    <b-form-select class=\"select-box\" v-model=\"selected_drive\" :options=\"drive_list.list\" @change=\"searchData\">\n                        <template v-slot:first>\n                            <option :value=\"null\">{{ $t('m.sold_vehicle.transform_vehicle_to_other_store_options') }}</option>\n                        </template>\n                    </b-form-select>\n                </b-col>\n            </b-row>\n\n            <div v-show=\"showList === 'true'\" class=\"list-vehicle\">\n                <b-table class=\"mb-0 table-outline\" small striped responsive=\"sm\" :items=\"table\" hover :fields=\"tableFields\"\n                         head-variant=\"light\">\n                    <template slot=\"vehicleNum\" slot-scope=\"data\">\n                        <span>{{data.item.vehicleNum}}</span>\n                    </template>\n                    <template slot=\"photoUrl\" slot-scope=\"data\">\n                        <div class=\"photo-url\" @click=\"$router.push('/inventory/vehicle/detail/' + data.item.vehicleId)\">\n                            <span v-if=\"data.item.unboundStatus\">{{ data.item.unboundStatus }}</span>\n                            <img :src=\"data.item.photoUrl + '?width=300&height=300'\" style=\"object-fit: cover;\" width=\"100px\" height=\"100px\">\n                        </div>\n                    </template>\n                    <template slot=\"battery\" slot-scope=\"data\">\n                        <span class=\"badge badge-pill\" :class=\"data.item.batteryClass ? data.item.batteryClass : '' \">{{ data.item.battery }}</span>\n                    </template>\n                    <template slot=\"vehicle\" slot-scope=\"data\">\n                        <div>\n                            <div @click=\"$router.push(`/inventory/vehicle/detail/${data.item.vehicleId}`)\"><strong\n                                class=\"link-to-detail\">{{data.item.vehicle}}</strong></div>\n                            <div>{{data.item.colorTrim}}</div>\n                            <div>{{data.item.stock}}</div>\n                        </div>\n                    </template>\n                    <template slot=\"online\" slot-scope=\"data\">\n                    <span class=\"badge badge-pill\"\n                          :class=\"data.item.online == 'Online' ? 'badge-success' : 'btn-secondary' \">{{data.item.online == 'Online' ?  $t('m.common.online') : (data.item.online == 'Offline' ?  $t('m.common.offline') : data.item.online) }}</span>\n                    </template>\n                    <template slot=\"use\" slot-scope=\"data\">\n                    <span class=\"badge badge-pill\"\n                          :class=\"data.item.use == 'Available' ? 'badge-success' : 'btn-danger' \">{{ data.item.use == 'Available' ? $t('m.common.avaliable') : $t('m.common.in_use') }}</span>\n                    </template>\n                    <template slot=\"action\" slot-scope=\"data\">\n                        <div class=\"mapLocation\"\n                             v-b-tooltip.hover :title=\"$t('m.common.position_detail')\"\n                             @click=\"showMapTip(data.item.lat, data.item.lng, data.item.area, data.item.info)\"><i\n                            class=\"cui cui-location-pin btn btn-sm btn-secondary\"\n                            :class=\"data.item.lat || data.item.area.length ? 'btn-success' : '' \"></i></div>\n                        <div class=\"btn btn-sm btn-info vehicledetail\"\n                             v-b-tooltip.hover :title=\"$t('m.tooltip.check_detail')\"\n                             @click=\"$router.push('/inventory/vehicle/detail/' + data.item.vehicleId)\"><i class=\"fa fa-eye\"></i></div>\n                        <div class=\"btn btn-sm btn-info vehicleedit\"\n                             v-b-tooltip.hover :title=\"$t('m.common.edit')\"\n                             @click=\"$router.push('/inventory/vehicle/edit/' + data.item.vehicleId)\"><i class=\"fa fa-edit\"></i></div>\n                        <div v-b-modal.del-1 class=\"btn btn-sm btn-danger btn-del\" @click=\"delData(data.item.vehicleId)\"\n                            v-b-tooltip.hover :title=\"$t('m.cloud.delete')\"><i\n                            class=\"cui cui-trash\"></i></div>\n                    </template>\n                </b-table>\n                <b-row class=\"top-holder\">\n                    <b-col sm=\"4\" lg=\"4\">\n                        <div class=\"dataTables_info\" id=\"DataTables0\" role=\"status\" aria-live=\"polite\">\n\t\t\t\t\t\t<span v-if=\"total > 0\">\n\t\t\t\t\t\t\t{{ $t('m.common.show') }} {{10 * (currentPage - 1) + 1 }} {{ $t('m.common.to') }} {{currentPage === pageCount? total :currentPage * 10 }} {{ $t('m.common.of') }} {{total}} {{ $t('m.common.entries') }}\n\t\t\t\t\t\t</span>\n                            <span v-else>\n\t\t\t\t\t\t\t{{ $t('m.common.show') }} 0 {{ $t('m.common.to') }} 0 {{ $t('m.common.of') }} {{total}} {{ $t('m.common.entries') }}\n\t\t\t\t\t\t</span>\n                        </div>\n                    </b-col>\n                    <b-col sm=\"8\" lg=\"8\">\n                        <b-pagination align=\"right\" :total-rows=\"total\" v-model=\"currentPage\" :per-page=\"perPage\"\n                                      @input=\" changePage(currentPage)\"></b-pagination>\n                    </b-col>\n                </b-row>\n                <div class=\"del-tip\">\n                    <b-modal ref=\"my-modal\" hide-footer :title=\"$t('m.tip.d_vehicle')\" v-model=\"showDelMap\"\n                             @ok=\"showDelMap = false\">\n                        <div class=\"text-right\">\n                            <b-button @click=\"hideModal\">{{ $t('m.tip.b_cancel') }}</b-button>\n                            <button class=\"btn btn-primary\" @click=\"apiDel\">{{ $t('m.tip.b_ok') }}</button>\n                        </div>\n                    </b-modal>\n                </div>\n                <b-modal ref=\"my-modal\" v-model=\"showMap\" :ok-title=\"$t('m.tip.b_ok')\" @ok=\"showMap = false\" class=\"show-map show-google-gaode\" ok-only>\n                    <myMap :map=\"map\" type=\"model\"></myMap>\n                </b-modal>\n            </div>\n            <div v-show=\"showList === 'false'\" class=\"map-vehicle\">\n                <p>{{ $t('m.vehicle.filter_map_tip') }}</p>\n                <search-map :map=\"searchGaodeMap\"></search-map>\n            </div>\n            <div class=\"insert-vehicle\">\n                <b-modal ref=\"my-modal\" :title=\"$t('m.cloud.insert_vehicle')\" :ok-title=\"$t('m.tip.b_ok')\" v-model=\"showChainTip\" @ok=\"insertVehicleData()\" ok-only>\n                <p>{{ $t('m.cloud.insert_p') }}</p>\n                <b-form-group class=\"vehicle-id\">\n                    <b-input-group>\n                        <b-input-group-prepend>\n                            <b-input-group-text>{{$t('m.cloud.vehicle_id')}}</b-input-group-text>\n                        </b-input-group-prepend>\n                        <b-form-input v-model=\"vehicleInsertId\"  type=\"number\"></b-form-input>\n                    </b-input-group>\n                </b-form-group>\n                <b-form-group class=\"vehicle-id\">\n                    <b-input-group>\n                        <b-input-group-prepend>\n                            <b-input-group-text>{{$t('m.cloud.vehicle_c')}}</b-input-group-text>\n                        </b-input-group-prepend>\n                        <b-form-input v-model=\"vehicleColor\"  type=\"text\"></b-form-input>\n                    </b-input-group>\n                </b-form-group>\n                <b-form-group>\n                    <b-input-group>\n                        <b-input-group-prepend>\n                            <b-input-group-text>{{$t('m.cloud.vehicle_type')}}</b-input-group-text>\n                        </b-input-group-prepend>\n                        <select class=\"form-control\" name=\"\" v-model=\"vehicleType\">\n                            <option value=\"0\">{{ $t('m.cloud.vehicle_type_p') }}</option>\n                            <option v-for=\"(item, index) in vehicleTypeList\" :key=\"index\" :value=\"item.y\">{{item.c}}</option>\n                        </select>\n                    </b-input-group>\n                </b-form-group>\n            </b-modal>\n            </div>\n        </b-card>\n        <b-modal ref=\"my-modal\" v-model=\"insertTip\" :title=\"insertStatus\" :ok-title=\"$t('m.tip.b_ok')\" @ok=\"reloadPage()\" ok-only>\n            <div>{{ insertTipContent }}</div>\n        </b-modal>\n\n        <b-modal ref=\"my-modal\" v-model=\"showDelError\" :title=\"$t('m.tip.warn')\" :ok-title=\"$t('m.tip.b_ok')\" @ok=\"showDelError = false\" ok-only>\n            <div>{{ delErrContent }}</div>\n        </b-modal>\n    </div>\n</template>\n\n<script>\n    import httpclient from '@/utils/httpclient';\n    import myMap from '@components/map'\n    import searchMap from '@components/searchMap'\n\n    export default {\n        name: \"vehicle\",\n        components: {\n            myMap,\n            searchMap\n        },\n        inject: [\"reload\"],\n        data() {\n            return {\n                selected_parking:null,\n                selected_battery:null,\n                selected_offline:null,\n                selected_drive:null,\n                showDelError: false,\n                delErrContent: '',\n                parking_list:{\n                    label:'',\n                    type:'',\n                    key:'',\n                    list:[]\n                },\n                battery_list:{\n                    label:'',\n                    type:'',\n                    key:'',\n                    list:[]\n                },\n                offline_list:{\n                    label:'',\n                    type:'',\n                    key:'',\n                    list:[]\n                },\n                drive_list:{\n                    label:'',\n                    type:'',\n                    key:'',\n                    list:[]\n                },\n                vehicleInsertId: null,\n                vehicleColor: null,\n                vehicleType: 0,\n                insertTip: false,\n                insertStatus: '',\n                insertTipContent: '',\n                vehicleTypeList: [{c: this.$t('m.common.c_new'), y: \"1\"}, { c: this.$t('m.common.c_used'), y: \"3\"}, { c: this.$t('m.common.c_demo'), y: \"2\" }, {c: this.$t('m.common.test_drive'), y: \"4\"}],\n                showList:'true',\n                searchGoogleMap:{},\n                searchGaodeMap:{},\n                tableFields: {\n                    vehicleNum: {\n                        label: this.$t('m.cloud.vehicle_num'),\n                        class: 'text-center'\n                    },\n                    photoUrl: {\n                        label: this.$t('m.vehicle.photo'),\n                        class: 'text-center'\n                    },\n                    vehicle: {\n                        label: this.$t('m.vehicle.vehicle'),\n                        class: 'text-center'\n                    },\n                    battery: {\n                        label: this.$t('m.common.voltage'),\n                        class: 'text-center'\n                    },\n                    online: {\n                        label: this.$t('m.common.line_status'),\n                        class: 'text-center'\n                    },\n                    use: {\n                        label: this.$t('m.common.use_status'),\n                        class: 'text-center'\n                    },\n                    park: {\n                        label: this.$t('m.common.lot'),\n                        class: 'text-center'\n                    },\n                    price: {\n                        label: this.$t('m.common.price') + this.$t('m.common.mon_type'),\n                        class: 'text-center'\n                    },\n                    mileage: {\n                        label: this.$t('m.vehicle.mileage') + this.$t('m.common.m_type'),\n                        class: 'text-center'\n                    },\n                    inventory: {\n                        label: this.$t('m.vehicle.inv_age'),\n                        class: 'text-center'\n                    },\n                    daysIdle: {\n                        label: this.$t('m.vehicle.day_idle'),\n                        class: 'text-center'\n                    },\n                    action: {\n                        label: this.$t('m.common.action'),\n                        class: 'text-center'\n                    }\n                },\n                countList:[20,50,100,200],\n                countSize:20,\n                data: null,\n                table: null,\n                showMap: false,\n                map: {},\n                rows: 0,\n                currentPage: 1,\n                total: 0,\n                perPage: 10,\n                showDelMap: false,\n                delId: '',\n                showEtip: false,\n                pageCount: 0,\n                gFData: [],\n                search: '',\n                queryData: {},\n                changedLanguage:false,\n                showChainTip: false,\n                delErrorMsg: {\n                    '101': this.$t('m.err_message.vehicle_null'),\n                    '102': this.$t('m.err_message.vehicle_in_point'),\n                    '103': this.$t('m.err_message.vehicle_unbind_fail'),\n                    '104': this.$t('m.err_message.vehicle_del_fail'),\n                    '105': this.$t('m.err_message.vehicle_param_error')\n                },\n                colorList: [{c: this.$t('m.colors.black'), y: \"Black\"}, {c: this.$t('m.colors.white'), y:'White'}, {c: this.$t('m.colors.silver'), y: 'Silver'}, {c: this.$t('m.colors.blue'), y: 'Blue'}, {c: this.$t('m.colors.red'), y: 'Red'}, {c: this.$t('m.colors.brown'), y: 'Brown'}, {c: this.$t('m.colors.gold'), y: 'Gold'}, {c: this.$t('m.colors.orange'), y: 'Orange'}, {c: this.$t('m.colors.yellow'), y: 'Yellow'}, {c: this.$t('m.colors.purple'), y: 'Purple'}, {c: this.$t('m.colors.green'), y: 'Green'}, {c: this.$t('m.colors.pink'), y: 'Pink'},{c: this.$t('m.colors.others'), y: 'Others'}],\n            }\n        },\n        mounted() {\n            let self = this;\n            this.axiosApi(self, 1, this.$route.query.filters ? JSON.parse(this.$route.query.filters) : []);\n            this.getFilter();\n\n\n            if (this.$i18n.locale === 'en-US') {\n                this.changedLanguage = \"English\";\n            } else {\n                this.changedLanguage = 'Chinese';\n            }\n\n        },\n        methods: {\n            reloadPage() {\n                window.location.reload();\n            },\n            openChainTip() {\n                this.showChainTip = true;\n            },\n            insertVehicleData() {\n                if (this.vehicleInsertId && this.vehicleColor && this.vehicleType && this.vehicleType != 0) {\n                    httpclient.post('/api/v1/clouddrive/vehicle/insert', {\n                        carchainVehicleId: this.vehicleInsertId,\n                        color: this.vehicleColor,\n                        vehicleType: this.vehicleType\n                    }).then(res => {\n                        if (res.data.code == 200 && res.data.data.result) {\n                            this.insertStatus = this.$t('m.cloud.insert_succ_title');\n                            this.insertTipContent = this.$t('m.cloud.insert_succ_content');\n                            this.insertTip = true;\n                        } else {\n                            alert(res.data.data.content);\n                        }\n                    })\n                } else {\n                    alert(\"请检查输入参数\");\n                }\n            },\n            letChildGetMap() {//让子组件请求接口展示多点地图\n                let _search=[];\n                if(this.selected_parking){\n                    _search.push({\n                        key:\"parking\",\n                        value:[this.selected_parking]\n                    })\n                }\n                if(this.selected_battery){\n                    _search.push({\n                        key:\"battery\",\n                        value:[this.selected_battery]\n                    })\n                }\n                if(this.selected_offline){\n                    _search.push({\n                        key:\"online\",\n                        value:[this.selected_offline]\n                    })\n                }\n                if(this.selected_drive){\n                    _search.push({\n                        key:\"inUse\",\n                        value:[this.selected_drive]\n                    })\n                }\n\n                let link = '/api/v1/vehiclesearch/searchnewmap?searchText='+this.search+'&source=&pageNo=1&pageSize='+this.countSize;\n                httpclient.post(link,{filters: _search}).then(res => {\n                    this.searchGaodeMap = res.data.data;\n                    this.searchGoogleMap = res.data.data;\n                })\n            },\n            toggleMapList(shows){\n                this.letChildGetMap();\n                this.showList = shows;\n                // if (!shows) {\n                //     this.letChildGetMap();\n                // }\n\n            },\n            getFilter() {\n                httpclient.post('/api/v1/vehiclesearch/filter').then(response => {\n                    this.gFData = response.data.data;\n                    let _data = response.data.data;\n\n                    let parking_arr=[];\n                    _data[0].filters.map(item=>{\n                        parking_arr.push({\n                            text:item.key,\n                            value:item.value\n                        })\n                    });\n                    this.parking_list = {\n                        label:_data[0].label,\n                        type:_data[0].type,\n                        key:_data[0].key,\n                        list:parking_arr\n                    };\n\n                    let battery_arr=[];\n                    _data[1].filters.map(item=>{\n                        battery_arr.push({\n                            text:item.key,\n                            value:item.value\n                        })\n                    });\n                    this.battery_list = {\n                        label:_data[1].label,\n                        type:_data[1].type,\n                        key:_data[1].key,\n                        list:battery_arr\n                    };\n\n                    let offline_arr=[];\n                    _data[2].filters.map(item=>{\n                        offline_arr.push({\n                            text:item.key,\n                            value:item.value\n                        })\n                    });\n                    this.offline_list = {\n                        label:_data[2].label,\n                        type:_data[2].type,\n                        key:_data[2].key,\n                        list:offline_arr\n                    };\n\n                    let drive_arr=[];\n                    _data[3].filters.map(item=>{\n                        drive_arr.push({\n                            text:item.key,\n                            value:item.value\n                        })\n                    });\n                    this.drive_list = {\n                        label:_data[3].label,\n                        type:_data[3].type,\n                        key:_data[3].key,\n                        list:drive_arr\n                    };\n                }).catch((err) => {\n                    console.log(err)\n                });\n            },\n            searchData() {\n                let _search=[];\n                if(this.selected_parking){\n                    _search.push({\n                        key:\"parking\",\n                        value:[this.selected_parking]\n                    })\n                }\n                if(this.selected_battery){\n                    _search.push({\n                        key:\"battery\",\n                        value:[this.selected_battery]\n                    })\n                }\n                if(this.selected_offline){\n                    _search.push({\n                        key:\"online\",\n                        value:[this.selected_offline]\n                    })\n                }\n                if(this.selected_drive){\n                    _search.push({\n                        key:\"inUse\",\n                        value:[this.selected_drive]\n                    })\n                }\n                this.axiosApi(this, 1, _search);\n\n            },\n            axiosApi(self, page, obj) {\n                httpclient.post(`/api/v1/vehiclesearch/searchnew?searchText=${this.search}&source=&pageNo=${page}&pageSize=10`, {\n                    filters: obj\n                }).then((response) => {\n                    self.data = response.data.data;\n                    if (self.data) {\n                        self.total = response.data.data.rowCount ? response.data.data.rowCount : 0;\n                        self.currentPage = response.data.data.pageNo ? response.data.data.pageNo : 0;\n                        this.filterData(self.data.vehicles);\n                    } else {\n                        self.total = 0;\n                        self.currentPage = 0;\n                        this.filterData([]);\n                    }\n                }).catch((err) => {\n                    alert(err)\n                })\n            },\n            formatNumber(nStr) {\n                nStr += '';\n                let x = nStr.split('.');\n                let x1 = x[0];\n                let x2 = x.length > 1 ? '.' + x[1] : '';\n                var rgx = /(\\d+)(\\d{3})/;\n                while (rgx.test(x1)) {\n                    x1 = x1.replace(rgx, '$1' + ',' + '$2');\n                }\n                return x1 + x2;\n            },\n            changePage(page) {\n                let self = this;\n                this.axiosApi(self, page, []);\n            },\n            apiDel() {\n                httpclient.post('/api/v1/vehicle/delete', {\n                    vehicleId: this.delId\n                }).then(response => {\n                    if (response.data.data.errCode == 100) {\n                        this.reload();\n                    } else {\n                        this.delErrContent = this.delErrorMsg[response.data.data.errCode];\n                        this.showDelError = true;\n                    }\n                    this.showDelMap = false;\n                }).catch(() => {\n                    this.delErrContent = this.$t('m.err_message.vehicle_param_error');\n                    this.showDelError = true;\n                })\n            },\n            showMapTip(lat, lng, area, info) {\n                if (lat || area.length) {\n                    this.map = {\n                        lat: lat,\n                        lng: lng,\n                        area: area,\n                        vehicleInfo: info\n                    };\n                    this.showMap = true;\n                }\n            },\n            format_number(nStr) {\n                nStr += '';\n                let x = nStr.split('.');\n                let x1 = x[0];\n                let x2 = x.length > 1 ? '.' + x[1] : '';\n                var rgx = /(\\d+)(\\d{3})/;\n                while (rgx.test(x1)) {\n                    x1 = x1.replace(rgx, '$1' + ',' + '$2');\n                }\n                return x1 + x2;\n            },\n            hideModal() {\n                this.showDelMap = !this.showDelMap\n            },\n            delData(id) {\n                this.delId = id;\n                this.showDelMap = true;\n            },\n            filterData(data) {\n                let self = this;\n                this.table = data.map(function (item) {\n                    let pack = item.outStatus ? (item.outStatus == 1 ? item.parkingName : self.$t('m.vehicle_detail.off_lot')) : 'N/A';\n\n                    let battery = null;\n                    let batteryClass = null;\n                    if (item.currentVoltage) {\n                        let numBat = item.currentVoltage.toFixed(1);\n                        battery = item.currentVoltage.toFixed(1) + ' V';\n                        batteryClass = numBat <= 11.7 ? 'badge-danger' : (numBat > 11.7 && numBat <= 12.1 ? 'badge-warning' : 'badge-success');\n                    } else {\n                        battery = \"N/A\";\n                        batteryClass = 'badge-secondary';\n                    }\n\n                    let color = null;\n                    self.colorList.map(value => { //手动翻译车辆的颜色\n                        if(item.color){\n                            if(item.color === value.y){\n                                color = value.c\n                            } else {\n                                color = item.color;\n                            }\n                        } else {\n                            color = 'N/A'\n                        }\n                    });\n\n                    let onlineStatus = item.isOnline == 1 ? \"Online\" : (item.isOnline == 3 ? 'N/A' : 'Offline') ;\n                    let year = item.year ? item.year : 'N/A';\n                    let make = item.make ? item.make : 'N/A';\n                    let model = item.model ? item.model : 'N/A';\n                    let alias = item.alias ? ('- '+item.alias) :'';\n                    let info = (year == 'N/A' && make == 'N/A' && model == 'N/A' && alias == '') ? 'N/A' : year + ' ' + make + ' ' + model + ' ' + alias;\n                    let trim = item.trim ? item.trim : 'N/A';\n                    let colorTrim = (color == 'N/A' && trim == 'N/A') ? 'N/A' : color + ' , ' + trim;\n                    let lastFlameoutDay = null;\n                    if (item.lastFlameoutDay || item.lastFlameoutDay == 0) {\n                        lastFlameoutDay = item.lastFlameoutDay + self.$t('m.common.days');\n                    } else {\n                        lastFlameoutDay = 'N/A';\n                    }\n\n                    let _mileage = null;//距离单位转换\n                    if(item.currentMileage){\n                        if(self.changedLanguage === 'English'){\n                            _mileage = self.format_number((item.currentMileage * 0.0006214).toFixed(0))\n                        }else{\n                            _mileage = self.format_number((item.currentMileage / 1000).toFixed(0))\n                        }\n                    }else{\n                        _mileage = 'N/A'\n                    }\n\n                    return {\n                        \"vehicleNum\":item.vehicleServiceNum ? item.vehicleServiceNum : 'N/A',\n                        \"photoUrl\": item.photoUrl ? item.photoUrl : require(\"@/assets/pages-img/placeholder.svg\"),\n                        \"vehicle\": info,\n                        \"colorTrim\": colorTrim,\n                        \"stock\": item.stockNumber ? item.stockNumber : 'N/A',\n                        \"park\": pack,\n                        \"battery\": battery,\n                        \"batteryClass\": batteryClass,\n                        \"online\": onlineStatus,\n                        \"use\": item.available == 0 ? 'Available' : 'In Use',\n                        \"price\": item.price ?  self.formatNumber(item.price) : 'N/A',\n                        \"mileage\": _mileage,\n                        \"inventory\": item.inventoryDays ? item.inventoryDays + self.$t('m.common.days') : 'N/A',\n                        \"daysIdle\":  lastFlameoutDay,\n                        \"action\": \"<span>action</span>\",\n                        \"vehicleId\": item.vehicleId,\n                        \"unboundStatus\": item.isOnline == 3 ? self.$t('m.vehicle.unbound') : '',\n                        \"info\": info,\n                        \"lat\": item.lastLocationLat,\n                        \"lng\": item.lastLocationLng,\n                        \"area\": item.areaCoordinates ? item.areaCoordinates : []\n                    }\n                })\n            }\n        }\n\n    }\n</script>\n\n<style lang=\"scss\">\n    .card-header span {\n        margin-left: 10px;\n    }\n    .search-box{\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        margin-bottom: 30px;\n        .search-group{\n            margin-top: 0 !important;\n            margin-bottom: 0 !important;\n        }\n    }\n    .top-holder {\n        margin-top: 12px;\n    }\n    .filter-left{\n        .card-body{\n            padding-left: 0;\n        }\n        .text-primary{\n            padding-left: 0;\n        }\n        .col-sm-10{\n            padding-left: 0;\n        }\n    }\n    .vehicle {\n        .select-box{\n            margin-top: 6px;\n        }\n        .my-condition-btn{\n            margin-top: 2px!important;\n        }\n        table {\n            .btn {\n                color: white;\n            }\n        }\n        .show-google-gaode{\n            .bottom-ok-btn{\n                margin-top: 20px;\n                padding-top: 10px;\n                text-align: right;\n                border-top: 1px solid #23282c;\n            }\n        }\n        width: 100%;\n\n        .link-to-detail {\n            cursor: pointer;\n            color: #20a8d8;\n\n            &:hover {\n                text-decoration: underline;\n            }\n        }\n\n        .search-group {\n            width: 40%;\n            margin-top: 2%;\n            display: inline-block;\n\n            input {\n                height: 40px;\n            }\n\n            button {\n                margin-left: 0px;\n                height: 36px;\n            }\n\n            a {\n                margin-left: 10%;\n            }\n        }\n        .my-check-box{\n            margin-right: 5px;\n        }\n\n\n        .collapse-m {\n            border-color: #1FA8D8;\n            border-style: dashed;\n        }\n\n        .table-outline {\n            margin-top: 2%;\n        }\n\n        .filter-content {\n            display: inline-block;\n        }\n\n        .header-right {\n            float: right;\n\n            button {\n                background-color: #20a8d8 !important;\n                border-color: #20a8d8 !important;\n            }\n        }\n    }\n\n    .btn {\n        margin: 2px;\n    }\n\n    .mapLocation {\n\n    }\n\n    .photo-url {\n        img {\n            border-radius: 4px;\n        }\n\n        span {\n            position: absolute;\n            background-color: #73818f;\n            border-radius: 4px;\n            padding: 0.25rem;\n            font-size: 12px;\n        }\n\n        strong {\n\n        }\n    }\n    .show-map {\n        .modal-dialog {\n            max-width: 80%;\n        }\n    }\n    .my-icon{\n        background: #000;\n        margin-left: 3px;\n        color: #fff;\n        width: 15px;\n        height: 15px;\n        font-size: 15px;\n        text-align: center;\n        border-radius: 50%;\n    }\n\n    /*删除和导入两个弹窗的宽度*/\n    .del-tip,.insert-vehicle{\n        .modal{\n            .modal-dialog{\n                width: 50%;\n                max-width: 500px;\n            }\n        }\n    }\n</style>\n"]}]}