{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/register/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/register/index.vue","mtime":1565693971000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from \"@/utils/httpclient\";\nimport model from \"@/components/model\";\nexport default {\n    name: \"register\",\n    components: {\n        model\n    },\n    data() {\n        return {\n            show: false,\n            btnGroup: {\n                btnFirst: \"Cancel\",\n                btnSecond:'OK'\n            },\n            content: \"\",\n            firstName: \"\",\n            lastName: \"\",\n            email: \"\",\n            password: \"\",\n            confirmP: \"\",\n            phone: \"\",\n            dGroup: \"\",\n            dName: \"\",\n            country: \"\",\n            state: \"\",\n            city: \"\",\n            check: true,\n            list: [],\n            street: \"\",\n            apartment: \"\",\n            zipCode: \"\",\n            disable: true,\n            cityE: false,\n            stateE: false,\n            countryE: false,\n            firstE: false,\n            lastE: false,\n            passwordE: false,\n            confirmpE: false,\n            status: true,\n            emailE: false,\n            phoneE: false,\n            dGroupE: false,\n            dNameE: false,\n            streetE: false,\n            apartE: false,\n            zipE: false\n        }\n    },\n    mounted() {\n        this.initData()\n    },\n    watch: {\n        firstName(newV) {\n            this.firstName = newV;\n            this.checkInput();\n        },\n        lastName(newV) {\n            this.lastName = newV;\n            this.checkInput();\n        }\n    },\n    methods: {\n        initData() {\n            httpClient.get(\"/api/v1/getprovicescity\").then((res) => {\n                if (res.data.code == 200) {\n                    this.list = res.data.data.countryList;\n                }\n            })\n        },\n        choiceRule() {\n            this.check = !this.check;\n            this.checkInput();\n        },\n        checkInput() {\n            this.status = true;\n            if (!this.firstName || !this.lastName || !this.email || !this.password ||\n                !this.confirmP || !this.phone || !this.dGroup || !this.dName || !this.country\n                || !this.state || !this.city || !this.check ) {\n                this.disable = true;\n                this.status = false;\n            }\n            !this.firstName ? this.firstE = true : this.firstE = false;\n            !this.lastName ? this.lastE = true : this.lastE = false;\n            !this.email || (this.email && this.email.indexOf(\"@\") < 0) ? this.emailE = true : this.emailE = false;\n            !this.phone || (this.phone && this.phone.length > 15) ? this.phoneE = true : this.phoneE = false;\n            !this.dGroup ? this.dGroupE = true : this.dGroupE = false;\n            !this.dName ? this.dNameE = true : this.dNameE = false;\n            this.countryE = this.country ? false : true;\n            this.stateE = this.state ? false : true;\n            this.cityE = this.city ? false : true;\n\n            this.checkPassword();\n            this.checkConfirmPa();\n\n            if (this.status) {\n                this.disable = false;\n            }\n        },\n        checkPassword() {\n            if (this.password && this.password.length < 6) {\n                this.passwordE = true;\n                this.status = false;\n            } else {\n                this.passwordE = false;\n            }\n        },\n        checkConfirmPa() {\n            if ( (this.confirmP && this.confirmP.length < 6) ||  this.password != this.confirmP) {\n                this.confirmpE = true;\n                this.status = false;\n            } else {\n                this.confirmpE = false;\n            }\n        },\n        submitData() {\n            this.checkInput();\n            if (this.status) {\n                httpClient.post('/api/v1/manager/reg', {\n                    userEmail: this.email,\n                    password: this.password,\n                    firstName: this.firstName,\n                    lastName: this.lastName,\n                    phone: this.phone,\n                    storeName: this.dName,\n                    storeAddress: this.apartment,\n                    tenantName: this.dGroup,\n                    country: this.list[this.country - 1].countryName,\n                    countryCode: this.list[this.country - 1].countryId,\n                    stateCode: this.list[this.country - 1]['proviceList'][this.state - 1].provicesId,\n                    cityCode: this.list[this.country - 1]['proviceList'][this.state - 1]['cityList'][this.city - 1].cityId,\n                    city: this.list[this.country - 1]['proviceList'][this.state - 1]['cityList'][this.city - 1].cityName,\n                    streetAddress: this.street,\n                    zipCode: this.zipCode,\n                    state: this.list[this.country - 1]['proviceList'][this.state - 1].provicesName,\n                }).then(response => {\n                    if (response.data.data && response.data.data == \"ok\" && response.data.code == 200) {\n                        this.$router.push(\"/register-success\");\n                    } else {\n                        this.show = true;\n                        this.content = response.data.msg;\n                    }\n                }).catch(error => {\n                    window.location.reload();\n                })\n            }\n        }\n    }\n}\n",null]}