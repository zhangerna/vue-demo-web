{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/reseOrderDetail.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/reseOrderDetail.vue","mtime":1573197885000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.order-detail {\n    #check-modal{\n        .modal-dialog{\n            max-width: 800px;\n        }\n    }\n    .order-status {\n        float: right;\n    }\n    .maps #map {\n        height: 26vh;\n    }\n    .box{\n        div{\n            width: 50%;\n        }\n    }\n    .border-grey{\n        border: 2px solid grey;\n        border-radius: 5px;\n        font-weight: 500;\n        width: 100%;\n        height: 240px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: grey;\n    }\n\n}\n",{"version":3,"sources":["reseOrderDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"reseOrderDetail.vue","sourceRoot":"src/views/dashboard/testDrive","sourcesContent":["<template>\n    <div class=\"animated fadeIn order-detail\">\n        <b-card class=\"custom-header\">\n            <div slot=\"header\">\n                {{ $t('m.report.orderNo') + \":\" }}{{ data.orderServiceNum ? data.orderServiceNum : '' }}\n                <div class=\"order-status\">\n                    <button v-if=\"data.orderStatus == 40\" style=\"margin-right: 10px\" class=\"btn btn-primary\" @click=\"$router.push('/test-drive/test-report/detail/' + data.orderId )\">\n                        {{ $t('m.report.see_report_btn') }}\n                    </button>\n                    <template v-if=\"data.orderStatus == 0\">\n                        <span class=\"badge badge-secondary\">{{ $t('m.cloud.wait_accomplish_order') }}</span>\n                    </template>\n                    <template v-if=\"data.orderStatus == 10\">\n                        <span class=\"badge badge-info\">{{ $t('m.cloud.wait_pick_up') }}</span>\n                    </template>\n                    <template v-if=\"data.orderStatus == 20\">\n                        <span class=\"badge badge-success\">{{ $t('m.cloud.wait_return') }}</span>\n                    </template>\n                    <template v-if=\"data.orderStatus == 30\">\n                        <span class=\"badge badge-warning\">{{ $t('m.cloud.returned_vehicle') }}</span>\n                    </template>\n                    <template v-if=\"data.orderStatus == 40\">\n                        <span class=\"badge badge-secondary\">{{ $t('m.cloud.finished') }}</span>\n                    </template>\n                    <template v-if=\"data.orderStatus == 50\">\n                        <span class=\"badge badge-secondary\">{{ $t('m.cloud.canceled') }}</span>\n                    </template>\n                </div>\n            </div>\n            <div class=\"content\">\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t('m.cloud.user_info') }}\n                        <span class=\"float-right\" v-if=\"data.userId\" @click=\"$router.push('/test-drive/test-user/detail/' + data.userId)\" style=\"color: #63c2de;text-decoration: underline;margin-left: 10px;cursor: pointer\">查看更多</span>\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-6\">\n                                <b-list-group>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.common.contact_phone') }}\n                                        </div>\n                                        <div>{{ data && data.phone ?  data.phone : $t('m.cloud.un_get_info') }}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.verify_status') }}\n                                        </div>\n                                        <div>\n                                            <template v-if=\"data.userCheckStatus == 10\">\n                                                {{$t('m.cloud.unsubmit_verify')}}\n                                            </template>\n                                            <template v-if=\"data.userCheckStatus == 20 || data.userCheckStatus == 30\">\n                                                {{$t('m.cloud.wait_verify')}}\n                                            </template>\n                                            <template v-if=\"data.userCheckStatus == 40\">\n                                                {{$t('m.cloud.verify_failed')}}\n                                            </template>\n                                            <template v-if=\"data.userCheckStatus == 50\">\n                                                {{$t('m.cloud.verify_success')}}\n                                            </template>\n                                            <template v-if=\"!data.userCheckStatus || data.userCheckStatus ==0\" >\n                                                {{$t('m.cloud.un_get_info')}}\n                                            </template>\n                                        </div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.admin.name') }}\n                                        </div>\n                                        <div>{{ data && data.usedName ?  data.usedName : $t('m.cloud.un_get_info') }}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.gender') }}\n                                        </div>\n                                        <div>\n                                            <template v-if=\"data.usedGender && data.usedGender == 2\">\n                                                {{ $t('m.common.girl') }}\n                                            </template>\n                                            <template v-else-if=\"data.usedGender && data.usedGender == 1\">\n                                                {{ $t('m.common.boy') }}\n                                            </template>\n                                            <template v-else>\n                                                {{$t('m.cloud.un_get_info')}}\n                                            </template>\n                                        </div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.report.age') }}\n                                        </div>\n                                        <div>{{ data.age ? data.age : $t('m.cloud.un_get_info')}}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.id_card_name') }}\n                                        </div>\n                                        <div>{{ data.idCardNum ? data.idCardNum : $t('m.cloud.un_get_info')}}</div>\n                                    </b-list-group-item>\n\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.birth_day') }}\n                                        </div>\n                                        <div>{{ data.birthDate ? data.birthDate : $t('m.cloud.un_get_info')}}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.drive_type') }}\n                                        </div>\n                                        <div>{{ data.driveLicenseNum ? data.driveLicenseNum : $t('m.cloud.un_get_info')}}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.init_driving_license') }}\n                                        </div>\n                                        <div>{{ data.initialDrivingLicenseDate ? data.initialDrivingLicenseDate + (data.driveAge === 0 ? '（'+$t('m.cloud.not_one_year')+'）' : \"\"): $t('m.cloud.un_get_info')}}</div>\n                                    </b-list-group-item>\n                                </b-list-group>\n                            </div>\n                            <div class=\"col-sm-6\">\n                                <div class=\"row\">\n                                    <div class=\"col-sm-6\">\n                                        <template v-if=\"data.idcardFrontUrl\">\n                                            <viewer>\n                                                <img class=\"table-image\" :src=\"data.idcardFrontUrl\" alt=\"\" width=\"100%\">\n                                            </viewer>\n                                        </template>\n                                        <template v-else>\n                                            <div class=\"border-grey\">\n                                                {{$t('m.cloud.idcard_image_unload')}}\n                                            </div>\n                                        </template>\n                                    </div>\n                                    <div class=\"col-sm-6\">\n                                        <template v-if=\"data.rotateFaceRecognitionUrl || data.faceRecognitionUrl\">\n                                            <viewer>\n                                                <img class=\"table-image\" :src=\"data.rotateFaceRecognitionUrl ? data.rotateFaceRecognitionUrl : data.faceRecognitionUrl\" alt=\"\" width=\"100%\">\n                                            </viewer>\n                                        </template>\n                                        <template v-else>\n                                            <div class=\"border-grey\">\n                                                {{$t('m.cloud.faceid_iamge_unload')}}\n                                            </div>\n                                        </template>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </b-card>\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t('m.cloud.vehicle_info') }}\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-6\">\n                                <b-list-group>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.common.vehicle') }}\n                                        </div>\n                                        <template v-if=\"!data.vehicleYear && !data.vehicleMake && !data.vehicleModel\">\n                                            <div>{{$t('m.cloud.un_get_info')}} {{ data.vehicleAlias ? \"-\" + data.vehicleAlias : '' }}</div>\n                                        </template>\n                                        <template v-else>\n                                            <div>{{ data.vehicleYear ?  data.vehicleYear : $t('m.cloud.un_get_info') }}{{ data.vehicleMake ?  data.vehicleMake : $t('m.cloud.un_get_info') }}{{ data.vehicleModel ?  data.vehicleModel : $t('m.cloud.un_get_info') }}{{ data.vehicleAlias ? \"-\" + data.vehicleAlias : $t('m.cloud.un_get_info') }}</div>\n                                        </template>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.common.color') }}\n                                        </div>\n                                        <div>{{ data && data.vehicleColor ?  data.vehicleColor : $t('m.cloud.un_get_info') }}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.common.alias') }}\n                                        </div>\n                                        <div>{{ data && data.vehicleAlias ?  data.vehicleAlias : $t('m.cloud.un_get_info') }}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.common.stock_num2') }}\n                                        </div>\n                                        <div>{{ data.vehicleStockNum ? data.vehicleStockNum : $t('m.cloud.un_get_info') }}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.plat_number') }}\n                                        </div>\n                                        <div>\n                                            <template v-if=\"data.vehiclePlate\">\n                                                <span style=\"background: #20a8d8;color: #ffffff;padding: 4px;border-radius: 4px;\">{{ data.vehiclePlate }}</span>\n                                            </template>\n                                            <template v-else>\n                                                {{$t('m.cloud.un_get_info')}}\n                                            </template>\n                                        </div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.vehicle_store_name') }}\n                                        </div>\n                                        <div>{{ data.storeName ? data.storeName : $t('m.cloud.un_get_info') }}</div>\n                                    </b-list-group-item>\n\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.point') }}\n                                        </div>\n                                        <div>{{ data.parkingName ? data.parkingName : $t('m.cloud.un_get_info')}}</div>\n                                    </b-list-group-item>\n\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.last_update_time') }}\n                                        </div>\n                                        <div>{{ data.lastLocationTime ? getDateString(data.lastLocationTime) : $t('m.cloud.un_get_info')}}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.common.last_location') }}\n                                        </div>\n                                        <div>{{ data.lastLocation ? data.lastLocation : $t('m.cloud.un_get_info')}}</div>\n                                    </b-list-group-item>\n\n                                </b-list-group>\n                            </div>\n                            <div class=\"col-sm-6\">\n                                <div class=\"row\">\n                                    <div class=\"col-sm-12\">\n                                        <img :src=\"data.vehicleImgUrl ? data.vehicleImgUrl : '/img/placeholder.5367544d.svg' \"\n                                             width=\"100%\" alt=\"\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\" style=\"margin-top: 20px\">\n                            <div class=\"col-sm-12\">\n                                <myMap elementId=\"oder-detail-map\" :map=\"map\"></myMap>\n                            </div>\n                        </div>\n                    </div>\n                </b-card>\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t('m.cloud.order_drive_detail') }}\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-6\">\n                                <b-list-group>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.order_create_time') }}\n                                        </div>\n                                        <div>{{ getDateString(data.createTime) }}</div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.order_drive_time') }}\n                                        </div>\n                                        <div>\n                                            <template v-if=\"data.appointmentStartTime\">\n                                                {{ getDateString(data.appointmentStartTime) }}\n                                            </template>\n                                            <template v-else>\n                                                {{ $t('m.cloud.no_get') }}\n                                            </template>\n                                        </div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.order_drive_store') }}\n                                        </div>\n                                        <div>{{ data.parkingName ?  data.parkingName : 'N/A' }}</div>\n                                    </b-list-group-item>\n                                </b-list-group>\n                            </div>\n                            <div class=\"col-sm-6\">\n                                <b-list-group>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.real_get_car_time') }}\n                                        </div>\n                                        <div>\n                                            <template v-if=\"data.returnTime && data.orderStatus != 0 && data.orderStatus != 10 && data.orderStatus != 50\">\n                                                {{ getDateString(data.takeTime) }}\n                                            </template>\n                                            <template v-else>\n                                                {{ $t('m.cloud.no_get') }}\n                                            </template>\n                                        </div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.real_return_car_time') }}\n                                        </div>\n                                        <div>\n                                            <template v-if=\"data.returnTime && data.orderStatus != 0 && data.orderStatus != 10 && data.orderStatus != 50\">\n                                                {{ getDateString(data.returnTime) }}\n                                            </template>\n                                            <template v-else-if=\"data.orderStatus == 20\">\n                                                {{ $t('m.common.no_return_vehicle') }}\n                                            </template>\n                                            <template v-else>\n                                                {{ $t('m.cloud.no_get') }}\n                                            </template>\n                                        </div>\n                                    </b-list-group-item>\n                                    <b-list-group-item class=\"d-flex box align-items-center\">\n                                        <div>\n                                            {{ $t('m.cloud.drive_time') }}\n                                        </div>\n                                        <div>\n                                            {{ data.appointmentStartTime ?  getMinutesBetween(data.returnTime - data.takeTime)+'分钟' : 'N/A' }}\n                                        </div>\n                                    </b-list-group-item>\n                                </b-list-group>\n                            </div>\n                        </div>\n                    </div>\n                </b-card>\n            </div>\n        </b-card>\n        <div class=\"text-center\" style=\"margin-bottom: 10px;\" v-if=\"data.orderStatus == 0 || data.orderStatus == 10\">\n            <button style=\"color: #ffffff\" class=\"btn btn-danger active\" @click=\"deleteOrder\">{{ $t('m.cloud.delete') }}</button>\n        </div>\n        <b-modal ref=\"my-modal-6\" v-model=\"cancelTip\" :cancel-title=\"$t('m.cloud.cancel_think_again')\" :ok-title=\"$t('m.tip.confirm')\"\n                 @ok=\"cancelOrder()\"  class=\"select-store\" >\n            <template slot=\"modal-title\">\n                {{ $t('m.cloud.can_order') }}\n            </template>\n            <div class=\"text-left\">\n                {{ $t('m.cloud.can_order_content') }}\n            </div>\n        </b-modal>\n    </div>\n</template>\n\n<style lang=\"scss\">\n    .order-detail {\n        #check-modal{\n            .modal-dialog{\n                max-width: 800px;\n            }\n        }\n        .order-status {\n            float: right;\n        }\n        .maps #map {\n            height: 26vh;\n        }\n        .box{\n            div{\n                width: 50%;\n            }\n        }\n        .border-grey{\n            border: 2px solid grey;\n            border-radius: 5px;\n            font-weight: 500;\n            width: 100%;\n            height: 240px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            color: grey;\n        }\n\n    }\n</style>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import { getDateStringChinese,getMinutesBetween } from \"@/utils/date\";\n    import myMap from \"@/components/map\";\n    import \"@/utils/viewer\";//该组件的js是预览图片组件，按需引用即可\n\n    export default {\n        name: \"orderDetail\",\n        components: {\n            myMap\n        },\n        inject: ['reload'],\n        data() {\n            return {\n                data: {},\n                cancelTip: false,\n                showMap: false,\n                map:{},\n                show: false,\n                updateInfo: '',\n                markedAt:'',\n                idcardImage:'',\n                checkImages:true,\n                rotateDeg:'90deg',\n            }\n        },\n        mounted() {\n            httpClient.get('/api/v1/clouddrive/order/detail?orderId=' + this.$route.params.id).then(response => {\n                if (response.data.code == 200) {\n                    this.data = response.data.data;\n                    this.map = {\n                        lat: response.data.data.lastLocationLat ? response.data.data.lastLocationLat : 0,\n                        lng: response.data.data.lastLocationLng ? response.data.data.lastLocationLng : 0,\n                        area: response.data.data.areaCoordinates ? response.data.data.areaCoordinates : [],\n                        vehicleInfo: {}\n                    };\n                }\n            })\n        },\n        methods: {\n            getDateString(data) {\n                return getDateStringChinese(data);\n            },\n            getMinutesBetween(seconds){\n                return getMinutesBetween(seconds)\n            },\n            deleteOrder() {\n                this.cancelTip = true;\n            },\n            cancelOrder() {\n                httpClient.post(`/api/v1/clouddrive/order/cancel`, {\n                    orderId: this.$route.params.id\n                }).then(response => {\n                    if (response.data.code == 200 && response.data.data.result) {\n                        this.$router.push('/test-drive/reservation-order/list')\n                    } else {\n                        alert(\"删除失败\");\n                    }\n                })\n            },\n        }\n    }\n</script>\n\n"]}]}