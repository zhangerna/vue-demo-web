{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/adminEdit.vue?vue&type=style&index=0&id=17264c9c&lang=scss&scoped=true&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/adminEdit.vue","mtime":1560421842000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.card-body {\n  .row {\n    margin-bottom: 20px;\n  }\n  .custom-select:disabled {\n    color: #73818f;\n    background-color: unset;\n  }\n}\n",{"version":3,"sources":["adminEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"adminEdit.vue","sourceRoot":"src/views/dashboard/dashboardMain","sourcesContent":["<template>\n  <div class=\"animated fadeIn\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <strong id=\"header-title\">Edit: {{userName}}</strong>\n          </div>\n\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col-sm-12 col-md-6 col-lg-6\">\n                <b-form-group label=\"FirstName\" label-align-sm=\"top\" class=\"mb-0\">\n                  <b-input disabled :value=\"firstName\"></b-input>\n                </b-form-group>\n              </div>\n              <div class=\"col-sm-12 col-md-6 col-lg-6\">\n                <b-form-group label=\"LastName\" label-align-sm=\"top\" class=\"mb-0\">\n                  <b-input disabled :value=\"lastName\"></b-input>\n                </b-form-group>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-12\">\n                <b-form-group label=\"UserEmail\" label-align-sm=\"top\" class=\"mb-0\">\n                  <b-input disabled :value=\"userEmail\"></b-input>\n                </b-form-group>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-12\">\n                <b-form-group label=\"Phone\" label-align-sm=\"top\" class=\"mb-0\">\n                  <b-input disabled :value=\"phone\"></b-input>\n                </b-form-group>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-sm-12 col-md-6 col-lg-6\">\n                <b-form-group label=\"Role\" label-align-sm=\"top\">\n                  <b-form-select v-model=\"selected1\" :options=\"options1\" :disabled=\"adminId === id\"></b-form-select>\n                </b-form-group>\n              </div>\n\n              <div class=\"col-sm-12 col-md-6 col-lg-6\">\n                <b-form-group label=\"Active Status\" label-align-sm=\"top\">\n                  <b-form-select v-model=\"selected2\" :options=\"options2\" :disabled=\"adminId === id\"></b-form-select>\n                </b-form-group>\n              </div>\n            </div>\n\n            <div class=\"row\" v-if=\"adminId !== id\">\n              <div class=\"col-6\">\n                <b-button variant=\"primary\" @click=\"saveData\">Save</b-button>\n              </div>\n            </div>\n\n            <Alert @closeRemindBox='closeBox' :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n                   :title=\"showAlerts.title\" :content=\"showAlerts.content\">\n            </Alert>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n\timport httpClient from '@/utils/httpclient';\n\timport Alert from '@components/model'\n\n\texport default {\n\t\tname: 'adminEdit',\n\t\tcomponents: {\n\t\t\tAlert\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tid: this.$route.params.id,\n\t\t\t\tuserName: '',\n\t\t\t\tfirstName: '123',\n\t\t\t\tlastName: '432',\n\t\t\t\tuserEmail: '82482@u8u28.com',\n\t\t\t\tphone: '',\n        adminId:0,\n\t\t\t\tstatus: 1,\n\t\t\t\trole: '',\n\t\t\t\toptions1: [\n\t\t\t\t\t'Dealership Staff', 'Dealership Manager', 'Dealership Group Administrator'\n\t\t\t\t],\n\t\t\t\tselected1: '',\n\t\t\t\toptions2: [\n\t\t\t\t\t'Active', 'InActive'\n\t\t\t\t],\n\t\t\t\tselected2: '',\n\t\t\t\tshowAlerts: {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tshow: false,\n\t\t\t\t\tbuttonText: ''\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted() {\n        this.adminId = this.$store.state.userInfo.userId;\n\t\t\tlet url = 'https://api-saas-qa.zus.ai/api/v1/getUserById';\n\t\t\thttpClient.post(url, {userId: this.id}).then((res) => {\n\t\t\t\tlet data = res.data.data;\n\t\t\t\tthis.userName = data.lastName + ' ' + data.firstName;\n\t\t\t\tthis.firstName = data.firstName;\n\t\t\t\tthis.lastName = data.lastName;\n\t\t\t\tthis.userEmail = data.userEmail;\n\t\t\t\tthis.phone = data.phone;\n\t\t\t\tthis.status = data.status === 1 ? 'Active' : 'InActive';\n\t\t\t\tthis.role = data.role;\n\t\t\t\t//初始化role 和 status的下拉选择\n\t\t\t\tlet i = this.options1.findIndex((val) => val === this.role);\n\t\t\t\tthis.selected1 = this.options1[i];\n\t\t\t\tlet j = this.options2.findIndex((item) => item === this.status);\n\t\t\t\tthis.selected2 = this.options2[j]\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\tsaveData() {\n\t\t\t\tlet link = 'https://api-saas-qa.zus.ai/api/v1/updateUser';\n\t\t\t\tlet userRole;\n\t\t\t\tif (this.selected1 === 'Dealership Staff') {\n\t\t\t\t\tuserRole = 'user'\n\t\t\t\t} else if (this.selected1 === 'Dealership Manager') {\n\t\t\t\t\tuserRole = 'manager'\n\t\t\t\t} else {\n\t\t\t\t\tuserRole = 'root'\n\t\t\t\t}\n\t\t\t\tlet data = {\n\t\t\t\t\tuserId: this.id,\n\t\t\t\t\trole: userRole,\n\t\t\t\t\tstatus: this.selected2 === 'Active' ? 1 : 0\n\t\t\t\t};\n\t\t\t\thttpClient.post(link, data).then((res) => {\n\t\t\t\t\tif (res.data.code === 200) {\n\t\t\t\t\t\tlet passData = {\n\t\t\t\t\t\t\ttitle: 'User Information Updated!',\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t\tbuttonText: {\n\t\t\t\t\t\t\t\tbtnFirst: '',\n\t\t\t\t\t\t\t\tbtnSecond: 'OK',\n\t\t\t\t\t\t\t\tuserId: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.closeRemind(passData);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tcloseBox() {\n\t\t\t\tthis.showAlerts.show = !this.showAlerts.show;\n\t\t\t},\n\t\t\tcloseRemind(data) {\n\t\t\t\tthis.showAlerts.show = data.show;\n\t\t\t\tthis.showAlerts.title = data.title;\n\t\t\t\tthis.showAlerts.content = data.content;\n\t\t\t\tthis.showAlerts.buttonText = data.buttonText;\n\t\t\t},\n\t\t}\n\t}\n</script>\n<style lang=\"scss\" scoped>\n  .card-body {\n    .row {\n      margin-bottom: 20px;\n    }\n    .custom-select:disabled {\n      color: #73818f;\n      background-color: unset;\n    }\n  }\n</style>"]}]}