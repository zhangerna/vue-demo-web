{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/managerUser/admin.vue?vue&type=style&index=0&id=4d654633&lang=scss&scoped=true&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/managerUser/admin.vue","mtime":1576031701000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.card {\n    width: 100%;\n}\n.btn {\n    color: #ffffff;\n}\n\n.btn-edit {\n    margin: 0 5px;\n}\n",{"version":3,"sources":["admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"admin.vue","sourceRoot":"src/views/dashboard/managerUser","sourcesContent":["<template>\n    <div class=\"animated fadeIn\">\n        <div class=\"card custom-header\">\n            <div class=\"card-header\">\n                {{ $t('m.dashboard.user_info') }}\n                <div class=\"float-right\">\n                    <a @click=\"$router.push('/manager-user/user-info/invite')\">\n                        <button class=\"btn btn-sm btn-primary\">\n                            <i class=\"fa fa-plus-square\"></i> {{ $t('m.admin.add_user') }}\n                        </button>\n                    </a>\n                </div>\n            </div>\n            <Alert @closeRemindBox='closeBox' :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n                   :title=\"showAlerts.title\" :content=\"showAlerts.content\"></Alert>\n            <div class=\"card-body\">\n                <div>\n                    <b-table class=\"mb-0 table-outline table-responsive-sm\"   striped responsive=\"sm\" hover :items=\"items\" :fields=\"fields\">\n                        <template slot=\"status\" slot-scope=\"data\">\n                          <span :class=\"data.item.status === 1 ? 'badge badge-pill badge-success' : 'badge badge-pill badge-secondary'\">\n                              {{ data.item.status === 1 ? $t('m.common.active') : $t('m.common.inactive') }}\n                          </span>\n                        </template>\n                        <template slot=\"action\" slot-scope=\"data\">\n                            <div v-b-tooltip.hover :title=\"$t('m.tooltip.check_detail')\" class=\"btn btn-sm btn-info\" @click=\"$router.push('/manager-user/user-info/detail/' + data.item.userId)\">\n                                <i class=\"fa fa-eye\"></i></div>\n                            <div v-b-tooltip.hover :title=\"$t('m.common.edit')\" class=\"btn btn-sm btn-info btn-edit\"\n                                 @click=\"$router.push('/manager-user/user-info/edit/' + data.item.userId)\"><i\n                                    class=\"fa fa-edit\"></i></div>\n                            <div v-b-tooltip.hover :title=\"$t('m.detail_shop.del_b')\" v-if=\"data.item.userId !== adminId\" class=\"btn btn-sm btn-danger btn-del\"\n                                 @click=\"openBox(data.item.userId)\"><i\n                                    class=\"cui cui-trash\"></i></div>\n                        </template>\n                    </b-table>\n                </div>\n\n                <b-row>\n                    <b-col sm=\"4\" lg=\"4\">\n                        <div class=\"dataTables_info\" id=\"DataTables0\" role=\"status\" aria-live=\"polite\">\n                            <span v-if=\"totalPages > 0 \">{{ $t('m.common.show') }} {{10 * (currentPage - 1) + 1 }} {{ $t('m.common.to') }} {{currentPage === totalPages? rows :currentPage * 10 }} {{ $t('m.common.of') }} {{rows}} {{ $t('m.common.entries') }}</span>\n                            <span v-else>{{ $t('m.common.show') }} 0 {{ $t('m.common.to') }} 0 {{ $t('m.common.of') }} {{rows}} {{ $t('m.common.entries') }}</span>\n                        </div>\n                    </b-col>\n                    <b-col sm=\"8\" lg=\"8\">\n                        <b-pagination align=\"right\" :total-rows=\"rows\" v-model=\"currentPage\" :per-page=\"perPage\"\n                                      @input=\" turnToPage(currentPage)\"></b-pagination>\n                    </b-col>\n                </b-row>\n\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import httpClient from '@/utils/httpclient';\n    import Alert from '@components/model'\n\n    export default {\n        name: 'user',\n        components: {\n            Alert\n        },\n        data() {\n            return {\n                fields: {\n                    Username: {\n                        key: 'Username',\n                        label: this.$t('m.login.p_username'),\n                        class: \"text-center\"\n                    },\n                    userEmail: {\n                        key: 'Email',\n                        label: this.$t('m.admin.email'),\n                        class: \"text-center\"\n                    },\n                    city: {\n                        key: 'Phone',\n                        label: this.$t('m.common.contact_phone'),\n                        class: \"text-center\"\n                    },\n                    Role: {\n                        key: 'Role',\n                        label: this.$t('m.common.role'),\n                        class: \"text-center\"\n                    },\n                    Dealership: {\n                        key: 'Dealership',\n                        label: this.$t('m.dashboard.store'),\n                        class: \"text-center\"\n                    },\n                    status: {\n                        label: this.$t('m.admin.active'),\n                        class: \"text-center\"\n                    },\n                    action: {\n                        label: this.$t('m.vehicle.actions'),\n                        class: \"text-center\"\n                    },\n                },\n                items: null,\n                data: null,\n                currentPage: 1,\n                rows: 1,\n                perPage: 1,\n                totalPages: 1,\n                adminId: 0,\n                deleteUser: false,\n                showAlerts: {\n                    title: '',\n                    content: '',\n                    show: false\n                }\n            }\n        },\n        mounted() {\n            this.getList(1);\n            this.adminId = this.$store.state.userInfo.userId;\n        },\n        methods: {\n            getList(num) {\n                let url = '/api/v1/listUserDeatil?pageNo=' + num + '&pageSize=10';\n                httpClient.post(url).then((res) => {\n                    this.rows = res.data.data.rowCount;\n                    this.perPage = res.data.data.pageSize;\n                    this.totalPages = res.data.data.totalPages;\n                    this.data = res.data.data.datas;\n                    let myData = res.data.data.datas;\n                    let myItems = [];\n                    myData.map((item, i) => {\n                        let role = item.role == \"Dealership Group Administrator\" ? this.$t('m.common.root') : (item.role == \"Dealership Manager\" ? this.$t('m.common.manager') : this.$t('m.common.user'))\n                        myItems.push({\n                            Username: item.firstName + ' ' + item.lastName,\n                            Email: item.userEmail,\n                            Phone: item.phone,\n                            Role: role,\n                            userId: item.userId,\n                            status: item.status,\n                            Dealership: item.storeName,\n                            \"Active/InActive\": item.status === 1 ? 'Active' : 'InActive',\n                            Action: ''\n                        })\n                    });\n                    this.items = myItems\n                })\n            },\n            turnToPage(p) {\n                this.getList(p);\n            },\n            delData(userid) {\n                httpClient.post('/api/v1/user/delete', {userId: userid}).then((res) => {\n                    if (res.data.data === true) {\n                        this.getList(1, 10)\n                    }\n                }).catch((err) => {\n                });\n            },\n            openBox(clickId) {\n                let passData = {\n                    title: this.$t('m.tip.warn'),\n                    show: true,\n                    content: this.$t('m.tip.del_user'),\n                    buttonText: {\n                        btnFirst: this.$t('m.tip.b_cancel'),\n                        btnSecond: this.$t('m.tip.b_ok'),\n                        userId: clickId\n                    }\n                };\n                this.closeRemind(passData);\n            },\n            closeRemind(data) {\n                this.showAlerts.show = data.show;\n                this.showAlerts.title = data.title;\n                this.showAlerts.content = data.content;\n                this.showAlerts.buttonText = data.buttonText;\n            },\n            closeBox(data, ids) {\n                this.showAlerts.show = !this.showAlerts.show;\n                this.deleteUser = data == 'ok';\n                if (this.deleteUser === true) {\n                    this.delData(ids)\n                }\n            }\n        }\n    }\n</script>\n<style lang=\"scss\" scoped>\n    .card {\n        width: 100%;\n    }\n    .btn {\n        color: #ffffff;\n    }\n\n    .btn-edit {\n        margin: 0 5px;\n    }\n</style>\n"]}]}