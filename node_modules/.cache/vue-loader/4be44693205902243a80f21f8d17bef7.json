{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/adminInvite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/adminInvite.vue","mtime":1574315938000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport httpClient from '@/utils/httpclient';\n\timport Alert from '@components/model'\n\n\texport default {\n\t\tname: 'adminInvite',\n\t\tcomponents: {\n\t\t\tAlert\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\temails: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: ''\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tbtnActive: true,\n\t\t\t\tshowAlerts: {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tshow: false,\n\t\t\t\t\tbuttonText: ''\n\t\t\t\t},\n              storeName:'',\n              opSave: false\n\t\t\t}\n\t\t},\n        mounted(){\n          httpClient.post('/api/v1/user/store').then((res)=>{\n            this.storeName = res.data.data.storeName;\n          })\n        },\n\t\tmethods: {\n\t\t\taddInputBox() {\n\t\t\t\tthis.emails.push({name: ''});\n\t\t\t},\n\t\t\tgetAllEmails() {\n\t\t\t\tlet emailsArray = [];\n\t\t\t\tlet url = '/api/v1/inviteUser';\n\t\t\t\tthis.emails.map((item, i) => {\n\t\t\t\t\titem.name.length ? emailsArray.push(item.name) : '';\n\t\t\t\t});\n\t\t\t\thttpClient.post(url, {emails: emailsArray.join(',')}).then((res) => {\n\t\t\t\t\tif (res.data.code === 200) {\n\t\t\t\t\t    this.opSave = true;\n\t\t\t\t\t\tthis.showAlerts = {\n                            title: this.$t('m.tip.suc'),\n                            content: this.$t('m.tip.save_succ'),\n                            show: true,\n                            buttonText: {\n                              btnSecond: this.$t('m.tip.b_ok'),\n                            }\n                      }\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tverifyEmail(m) {//验证输入值，合法才可以提交\n\t\t\t\tlet reg = /^.*@\\w+(\\.\\w+)+/;\n\t\t\t\tif (!reg.test(m)) {\n\t\t\t\t\tlet passData = {\n\t\t\t\t\t\ttitle: this.$t('m.tip.add_user_invite'),\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tcontent: this.$t('m.tip.add_user_invalid_email'),\n\t\t\t\t\t\tbuttonText: {\n\t\t\t\t\t\t\tbtnFirst: '',\n\t\t\t\t\t\t\tbtnSecond: this.$t('m.tip.b_ok'),\n\t\t\t\t\t\t\tuserId: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.closeRemind(passData);\n\t\t\t\t} else {\n\t\t\t\t\tthis.btnActive = false\n\t\t\t\t}\n\t\t\t},\n\t\t\tcloseBox() {\n              if (this.opSave) {\n                this.$router.push('/manager-user/list');\n              }\n              this.showAlerts.show = !this.showAlerts.show;\n\t\t\t},\n\t\t\tcloseRemind(data) {\n\t\t\t\tthis.showAlerts.show = data.show;\n\t\t\t\tthis.showAlerts.title = data.title;\n\t\t\t\tthis.showAlerts.content = data.content;\n\t\t\t\tthis.showAlerts.buttonText = data.buttonText;\n\t\t\t},\n\t\t},\n\t}\n",{"version":3,"sources":["adminInvite.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"adminInvite.vue","sourceRoot":"src/views/dashboard/dashboardMain","sourcesContent":["<template>\n  <div class=\"animated fadeIn\">\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <div class=\"card\">\n          <div class=\"card-header fa fa-plus-square-o\"> {{ $t('m.admin.add_user') }}</div>\n          <div class=\"card-body\" style=\"\">\n            <div class=\"pb-3 text-secondary\">{{ $t('m.admin.invite_p') }}\n              <strong> <span id=\"storeName\">{{storeName}}</span> </strong></div>\n            <div class=\"pb-3\" style=\"font-size: 12px\">{{ $t('m.admin.send_content') }} </div>\n            <div class=\"form-input\">\n              <div class=\"form-group col-md-6\" v-for=\"(item,i) in emails\" :key=\"i\">\n                <b-input-group class=\"mt-3\">\n                  <b-input-group-text slot=\"prepend\"><i class=\"fa fa-envelope\"></i></b-input-group-text>\n                  <b-form-input v-model=\"item.name\" type=\"email\" @change=\"verifyEmail(item.name)\"></b-form-input>\n                </b-input-group>\n              </div>\n            </div>\n            <div class=\"form-group col-md-8\" id=\"plusUserDiv\" style=\"margin-top:-48px;margin-left:48%\">\n              <div class=\"input-group-append col-md-4\" @click=\"addInputBox\">\n                    <span class=\"input-group-text\" id=\"plusUserBtn\">\n                      <i class=\"fa fa-plus\"></i>\n                    </span>\n              </div>\n            </div>\n            <div class=\"form-group form-actions col-6\">\n              <b-button class=\"btn btn-info text-white\" @click=\"getAllEmails\" :disabled=\"btnActive\">{{ $t('m.common.b_save') }}</b-button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Alert @closeRemindBox='closeBox' :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n             :title=\"showAlerts.title\" :content=\"showAlerts.content\">\n      </Alert>\n\n    </div>\n\n\n  </div>\n</template>\n<script>\n\timport httpClient from '@/utils/httpclient';\n\timport Alert from '@components/model'\n\n\texport default {\n\t\tname: 'adminInvite',\n\t\tcomponents: {\n\t\t\tAlert\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\temails: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: ''\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tbtnActive: true,\n\t\t\t\tshowAlerts: {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tshow: false,\n\t\t\t\t\tbuttonText: ''\n\t\t\t\t},\n              storeName:'',\n              opSave: false\n\t\t\t}\n\t\t},\n        mounted(){\n          httpClient.post('/api/v1/user/store').then((res)=>{\n            this.storeName = res.data.data.storeName;\n          })\n        },\n\t\tmethods: {\n\t\t\taddInputBox() {\n\t\t\t\tthis.emails.push({name: ''});\n\t\t\t},\n\t\t\tgetAllEmails() {\n\t\t\t\tlet emailsArray = [];\n\t\t\t\tlet url = '/api/v1/inviteUser';\n\t\t\t\tthis.emails.map((item, i) => {\n\t\t\t\t\titem.name.length ? emailsArray.push(item.name) : '';\n\t\t\t\t});\n\t\t\t\thttpClient.post(url, {emails: emailsArray.join(',')}).then((res) => {\n\t\t\t\t\tif (res.data.code === 200) {\n\t\t\t\t\t    this.opSave = true;\n\t\t\t\t\t\tthis.showAlerts = {\n                            title: this.$t('m.tip.suc'),\n                            content: this.$t('m.tip.save_succ'),\n                            show: true,\n                            buttonText: {\n                              btnSecond: this.$t('m.tip.b_ok'),\n                            }\n                      }\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tverifyEmail(m) {//验证输入值，合法才可以提交\n\t\t\t\tlet reg = /^.*@\\w+(\\.\\w+)+/;\n\t\t\t\tif (!reg.test(m)) {\n\t\t\t\t\tlet passData = {\n\t\t\t\t\t\ttitle: this.$t('m.tip.add_user_invite'),\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tcontent: this.$t('m.tip.add_user_invalid_email'),\n\t\t\t\t\t\tbuttonText: {\n\t\t\t\t\t\t\tbtnFirst: '',\n\t\t\t\t\t\t\tbtnSecond: this.$t('m.tip.b_ok'),\n\t\t\t\t\t\t\tuserId: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.closeRemind(passData);\n\t\t\t\t} else {\n\t\t\t\t\tthis.btnActive = false\n\t\t\t\t}\n\t\t\t},\n\t\t\tcloseBox() {\n              if (this.opSave) {\n                this.$router.push('/manager-user/list');\n              }\n              this.showAlerts.show = !this.showAlerts.show;\n\t\t\t},\n\t\t\tcloseRemind(data) {\n\t\t\t\tthis.showAlerts.show = data.show;\n\t\t\t\tthis.showAlerts.title = data.title;\n\t\t\t\tthis.showAlerts.content = data.content;\n\t\t\t\tthis.showAlerts.buttonText = data.buttonText;\n\t\t\t},\n\t\t},\n\t}\n</script>\n<style lang=\"scss\" scoped>\n  #plusUserDiv {\n    cursor: pointer;\n  }\n</style>\n"]}]}