{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/soldVehicle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/soldVehicle.vue","mtime":1568630157000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from \"@/utils/httpclient\";\nimport myMap from '@/components/map';\nexport default {\n    name: 'lots',\n    inject: ['reload'],\n    components: {\n        myMap,\n    },\n    data() {\n        return {\n            currentPage: 1,\n            pageSize: 10,\n            table: null,\n            curDel: null,\n            show: false,\n            btnGroup: {\n                btnFirst: this.$t('m.tip.b_cancel'),\n                btnSecond: this.$t('m.tip.b_ok')\n            },\n            tableFields: {\n                photo: {\n                    label: this.$t('m.vehicle.photo'),\n                    class: \"text-center\"\n                },\n                info: {\n                    label: this.$t('m.sold_vehicle.info'),\n                    class: \"text-center\"\n                },\n                mileage: {\n                    label: this.$t('m.sold_vehicle.mileage'),\n                    class: \"text-center\"\n                },\n                days: {\n                    label: this.$t('m.sold_vehicle.sold_days'),\n                    class: \"text-center\"\n                },\n                actions: {\n                    label: this.$t('m.vehicle.actions'),\n                    class: \"text-center\"\n                }\n            },\n            total: 0,\n            totalPages:0,\n            tipTitle: '',\n            showMap: false,\n            map: {}\n\n        }\n    },\n    mounted() {\n        this.initData(this.currentPage);\n    },\n    methods: {\n        initData(page) {\n            httpClient.get(`/api/v1/saledvehicle/list?pageNo=${page}`).then(response => {\n                if (response.data.data && response.data.code == 200) {\n                    this.total = response.data.data ? response.data.data.rowCount : 0;\n                    this.filterData(response.data.data);\n                    this.totalPages = response.data.data.totalPages;\n                }\n            })\n        },\n        filterData(data){\n            this.table = data.datas.map(item => {\n                let year = item.vehicleYear ? item.vehicleYear : 'N/A';\n                let make = item.vehicleMake ? item.vehicleMake : 'N/A';\n                let model = item.vehicleModel ? item.vehicleModel : 'N/A';\n                let alias = item.alias ? \"-\" + item.alias : '';\n                let color = item.color ? item.color : 'N/A';\n                let trim = item.trim ? item.trim : 'N/A';\n                let stock = item.stockNumber ? item.stockNumber : 'N/A';\n                let mile = \"N/A\";\n                if (this.$i18n.locale === 'en-US') {\n                    mile = (item.odbmeter * 0.0006214).toFixed(0)\n                } else {\n                    mile = (item.odbmeter / 1000).toFixed(0)\n                }\n                return {\n                    photo: item.vehicleUrl ? item.vehicleUrl : require(\"@/assets/pages-img/placeholder.svg\"),\n                    info: `<p style=\"margin-bottom: 0px;line-height: 32px;\"><span style=\"color:rgb(32, 168, 216);font-weight: bolder; \">${year} ${make} ${model} ${alias}</span></p><p style=\"line-height: 14px;margin-bottom: 6px;\">${color}„ÄÅ${trim}</p> <p style=\"line-height: 14px;margin-bottom: 6px;\"> ${stock}</p> `,\n                    stock: item.stockNumber,\n                    mileage: mile,\n                    lat: item.lastLocationLat,\n                    lng: item.lastLocationLng,\n                    days: item.saledDays ? item.saledDays : 0,\n                    id: item.id,\n                }\n            });\n        },\n        prevPage(){\n            this.initData(this.currentPage > 1  ? this.currentPage - 1 : 1)\n        },\n        nextPage(){\n            this.initData(this.currentPage >= this.pageCount  ? this.currentPage : this.currentPage + 1)\n        },\n        changePage(page) {\n            this.initData(page);\n        },\n        showMapTip(lat, lng) {\n            if (lat) {\n                this.map = {\n                    lat: lat,\n                    lng: lng,\n                    area: [],\n                    info: \"\"\n                };\n                this.showMap = true;\n            }\n        },\n    }\n}\n",null]}