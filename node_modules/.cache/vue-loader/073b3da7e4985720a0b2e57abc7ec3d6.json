{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/testReportDetail.vue?vue&type=style&index=0&id=660f473a&lang=scss&scoped=true&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/testReportDetail.vue","mtime":1578049308000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#acceleration,\n#emotion,\n#speed,\n#turn,\n#pong {\n    height: 400px;\n}\n.whole-emotion {\n    .card-body {\n        padding: 0;\n        .breadcrumb {\n            padding: 7px 10px;\n            margin-bottom: 0;\n        }\n    }\n}\n.hot-link {\n    color: rgb(99, 194, 222);\n    cursor: pointer;\n}\n.blue {\n    color: #3b5998;\n}\n.green {\n    color: #a2dab6;\n}\n.green-deep {\n    color: #4dbd74;\n}\n.red-deep {\n    color: #f86c6b;\n}\n.yellow,\n.fa-star {\n    color: #fbdc7f;\n}\n.margin20 {\n    margin-top: 20px;\n}\n.red {\n    color: #f8b2b1;\n}\n.space-holder {\n    margin-left: 10px;\n}\n.icon-style {\n    display: inline-block;\n    height: 10px;\n    width: 10px;\n    margin-right: 6px;\n}\n.blue-icon {\n    background: #3b5998;\n}\n.green-icon {\n    background: #a2dab6;\n}\n.yellow-icon {\n    background: #fbdc7f;\n}\n.red-icon {\n    background: #f8b2b1;\n}\n.no-feedback {\n    color: rgba(174, 182, 177, 0.767);\n    font-size: 0.875rem;\n}\n.badge-style {\n    width: 100px;\n    font-size: 0.75rem;\n    padding: 5px 20px;\n}\n.max-width {\n    max-width: 154px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.dis-relative {\n    display: relative;\n}\n.advise-alert {\n    width: 260px;\n    // height: 100px;\n    color: #ffffff;\n    position: absolute;\n    background-color: rgba(17, 16, 16, 0.7);\n    right: 3%;\n    bottom: 101%;\n    border-radius: 2px;\n    padding: 13px 10px;\n}\n.star-size {\n    font-size: 22px;\n    padding: 0px 3px;\n    color: #ffc107;\n}\n.surveyReport {\n    .col-sm-6 {\n        padding-left: 0;\n    }\n}\n.report-style {\n    padding: 8px 20px;\n}\n.success-color {\n    background-color: #4dbd74;\n    color: #ffffff;\n}\n.primary-color {\n    background-color: #63c2de;\n    color: #ffffff;\n}\n.warning-color {\n    background-color: #ffc107;\n    color: #ffffff;\n}\n.danger-color {\n    background-color: #f86c6b;\n    color: #ffffff;\n}\n.sec-color {\n    background-color: #c8ced3;\n}\n",{"version":3,"sources":["testReportDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"testReportDetail.vue","sourceRoot":"src/views/dashboard/testDrive","sourcesContent":["<template>\n    <div>\n        <b-card class=\"custom-header\">\n            <div slot=\"header\">\n                {{ $t(\"m.report.title\") }}\n                <div class=\"float-right\">{{ $t(\"m.report.createTime\") }}:{{ driveInfo.reportFinishTime ? getDateString4(driveInfo.reportFinishTime) : \"\" }}</div>\n            </div>\n            <div class=\"content\">\n                <!--                客户信息-->\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t(\"m.report.user_title\") }}\n                        <div class=\"float-right\">\n                            {{ $t(\"m.report.userId\") }}:\n                            {{ userDetail.userServiceNum }}\n                        </div>\n                    </div>\n                    <div class=\"content\">\n                        <b-row style=\"position: relative\">\n                            <b-col sm=\"4\" style=\"overflow: hidden\">\n                                <img id=\"img-user\" :src=\"userDetail.rotateFaceRecognitionUrl ? userDetail.rotateFaceRecognitionUrl : userDetail.faceRecognitionUrl\" width=\"100%\" style=\"max-width: 250px\" />\n                            </b-col>\n                            <b-col sm=\"4\">\n                                <p>{{ $t(\"m.admin.name\") }}:{{ userDetail.idCardUserName }}</p>\n                                <p>{{ $t(\"m.add_shop.manager_phone\") }}:{{ userDetail.userPhone }}</p>\n                                <p>{{ $t(\"m.cloud.birth_day\") }}:{{ userDetail.idCardBirthDate ? filterCardTime(userDetail.idCardBirthDate) : \"\" }}</p>\n                                <p>{{ $t(\"m.report.age\") }}:{{ userDetail.userAge ? userDetail.userAge : \"\" }}</p>\n                                <p>{{ $t(\"m.report.id_card_valid\") }}:{{ userDetail.idCardExpireDate ? filterCardTime(userDetail.idCardExpireDate.split(\"-\")[0]) : \"\" }}-{{ userDetail.idCardExpireDate ? filterCardTime(userDetail.idCardExpireDate.split(\"-\")[1]) : \"\" }}</p>\n                                <p>\n                                    {{ $t(\"m.report.quasi_drive_type\") }}:\n                                    {{ userDetail.driveLicenseQuasiDrivingModel }}\n                                </p>\n                                <p>\n                                    {{ $t(\"m.report.appoint_address\") }}:\n                                    {{ userDetail.userConfirmAddress }}\n                                </p>\n                                <p>{{ $t(\"m.report.driveAge\") }}: {{ userDetail.driveAgeYear }}{{ $t(\"m.report.year\") }}{{ userDetail.driveAgeMonth }}{{ $t(\"m.report.month\") }}</p>\n                            </b-col>\n                            <b-col sm=\"4\">\n                                <p>{{ $t(\"m.cloud.gender\") }}:{{ userDetail.driveLicenseGender ? (userDetail.driveLicenseGender == 1 ? $t(\"m.common.boy\") : $t(\"m.common.girl\")) : \"\" }}</p>\n                                <p>{{ $t(\"m.report.national\") }}:{{ userDetail.idCardEthnicGroup }}</p>\n                                <p>{{ $t(\"m.report.id_card_num\") }}:{{ userDetail.idCardNumber }}</p>\n                                <p>{{ $t(\"m.report.regist_address\") }}:{{ userDetail.idCardAddress }}</p>\n                                <p>\n                                    {{ $t(\"m.report.drive_date\") }}:\n                                    {{ userDetail.driveLicenseInitDate ? filterCardTime(userDetail.driveLicenseInitDate) : \"\" }}\n                                </p>\n                                <p>\n                                    {{ $t(\"m.report.drive_valid\") }}:{{ userDetail.driveLicenseInitDate ? filterCardTime(userDetail.driveLicenseInitDate) : \"\" }}\n                                    -\n                                    {{ userDetail.driveLicenseExpireDate ? filterCardTime(userDetail.driveLicenseExpireDate) : \"\" }}\n                                </p>\n                                <p>\n                                    {{ $t(\"m.cloud.order_create_time\") }}:\n                                    {{ userDetail.orderCreateTime ? getDateStringEnglish(userDetail.orderCreateTime) : \"\" }}\n                                </p>\n                                <p>{{ $t(\"m.report.phone_type\") }}:{{ userDetail.userAgent }}</p>\n                            </b-col>\n                        </b-row>\n                    </div>\n                </b-card>\n                <!--                试驾信息-->\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t(\"m.report.drive_title\") }}\n                        <div class=\"float-right\">\n                            {{ $t(\"m.report.orderNo\") }}:\n                            {{ userDetail.orderServiceNum }}\n                        </div>\n                    </div>\n                    <div class=\"content\">\n                        <b-row>\n                            <b-col sm=\"4\">\n                                <polygon-map :map=\"area\"> </polygon-map>\n                            </b-col>\n                            <b-col sm=\"4\">\n                                <p>{{ $t(\"m.common.test_drive\") }}: {{ userDetail.year }}{{ userDetail.make }}{{ userDetail.model }}</p>\n                                <p>\n                                    {{ $t(\"m.report.vehicle_config\") }}:\n                                    {{ userDetail.vehicleTrim }}\n                                </p>\n                                <p>\n                                    {{ $t(\"m.lots.lot2\") }}:\n                                    {{ userDetail.parkingName }}\n                                </p>\n                                <p>\n                                    {{ $t(\"m.cloud.vehicle_store_name\") }}:\n                                    {{ userDetail.storeName }}\n                                </p>\n                                <p>\n                                    {{ $t(\"m.report.test_time\") }}:\n                                    {{ userDetail.orderTakeTime ? timeInspect(userDetail.orderTakeTime, userDetail.orderReturnTime) : \"\" }}\n                                </p>\n                                <p>{{ $t(\"m.report.test_drive_mileage\") }}: {{ driveInfo.totalTrip ? driveInfo.totalTrip : \"0\" }}{{ $t(\"m.report.km\") }}</p>\n                                <p>{{ $t(\"m.report.test_drive_avg_speed\") }}: {{ driveInfo.averageSpeed ? driveInfo.averageSpeed.toFixed(2) : \"0\" }}{{ $t(\"m.report.speed_unit\") }}</p>\n                                <p>{{ $t(\"m.report.totalOil\") }}: {{ driveInfo.totalOilConsumption ? driveInfo.totalOilConsumption.toFixed(2) : \"0\" }}{{ $t(\"m.report.ltre\") }}</p>\n                                <p>\n                                    {{ $t(\"m.report.isPong\") }}:\n                                    {{ driveInfo.collisionStatus == 0 ? $t(\"m.report.col0\") : $t(\"m.report.col1\") }}\n                                </p>\n                            </b-col>\n                            <b-col sm=\"4\">\n                                <p>\n                                    {{ $t(\"m.cloud.plat_number\") }}:\n                                    {{ userDetail.plat }}\n                                </p>\n                                <p>\n                                    {{ $t(\"m.cloud.vehicle_c\") }}:\n                                    {{ userDetail.color }}\n                                </p>\n                                <p>\n                                    {{ $t(\"m.report.appoint_time\") }}:\n                                    {{ userDetail.appointmentStartTime ? getDateString2(userDetail.appointmentStartTime) : 0 }}\n                                </p>\n                                <p>{{ $t(\"m.report.test_drive_duration\") }}: {{ userDetail.driveTime ? (userDetail.driveTime / 1000 / 60).toFixed(0) : \"0\" }}{{ $t(\"m.report.min\") }}</p>\n                                <p>{{ $t(\"m.report.maxSpeed\") }}: {{ driveInfo.maxSpeed ? driveInfo.maxSpeed.toFixed(0) : 0 }}{{ $t(\"m.report.speed_unit\") }}</p>\n                                <p>{{ $t(\"m.report.acceSpeed\") }}: {{ driveInfo.maxAcceleration ? driveInfo.maxAcceleration.toFixed(0) : 0 }}{{ $t(\"m.report.acc_unit\") }}</p>\n                                <p>{{ $t(\"m.report.aOil\") }}: {{ driveInfo.averageOilConsumption ? driveInfo.averageOilConsumption.toFixed(2) : 0 }}{{ $t(\"m.report.oilMile\") }}</p>\n                                <p>{{ $t(\"m.report.test_drive_times\") }}: {{ userDetail.driveTimes ? userDetail.driveTimes : 0 }}{{ $t(\"m.report.times\") }}</p>\n                                <!-- <p>{{ $t('m.cloud.drive_rate') }}:\n                                    <template v-if=\"stars\">\n                                        <i v-for=\"k in Number(stars)\" :key=\"k\" class=\"fa fa-star\"></i>\n                                    </template>\n                                    <template v-else>\n                                        {{ $t('m.cloud.user_no_rate') }}\n                                    </template>\n                                </p> -->\n                            </b-col>\n                        </b-row>\n                    </div>\n                </b-card>\n                <!--                试驾情绪综合分析-->\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t(\"m.report.spaceTitle\") }}\n                    </div>\n                    <div class=\"content whole-emotion\">\n                        <b-row>\n                            <b-col sm=\"6\">\n                                <b-card style=\"height: 84%\">\n                                    <div slot=\"header\" style=\"font-weight:bolder\">\n                                        {{ $t(\"m.report.whole_emotion\") }}\n                                    </div>\n                                    <div class=\"content\">\n                                        <div id=\"emotion\"></div>\n                                    </div>\n                                </b-card>\n                            </b-col>\n                            <b-col sm=\"6\">\n                                <!--                                高兴情绪-->\n                                <table class=\"table table-responsive-sm table-bordered\">\n                                    <thead style=\"background: #f0f3f5\">\n                                        <tr>\n                                            <th>\n                                                {{ $t(\"m.report.project_sort\") }}\n                                            </th>\n                                            <th>\n                                                {{ $t(\"m.cloud.emotion_net_worth\") }}\n                                            </th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr v-for=\"(item, key) in emotionNetData\" :key=\"key\" v-if=\"key < 3\" :class=\"key < 3 ? 'green-deep' : ''\">\n                                            <td>{{ item.name }}</td>\n                                            <td>{{ item.value }}%</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                                <!--                                不高兴情绪   -->\n                                <table class=\"table table-responsive-sm table-bordered\">\n                                    <thead style=\"background: #f0f3f5\">\n                                        <tr>\n                                            <th>\n                                                {{ $t(\"m.report.no_sure_project_sort\") }}\n                                            </th>\n                                            <th>\n                                                {{ $t(\"m.cloud.emotion_net_worth\") }}\n                                            </th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr v-for=\"(item, key) in reverseEmotionData\" :key=\"key\" :class=\"key < 3 ? ' red-deep' : ''\">\n                                            <td>{{ item.name }}</td>\n                                            <td>{{ item.value }}%</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </b-col>\n                        </b-row>\n                    </div>\n                    <div class=\"content\"></div>\n                </b-card>\n                <!--                用户行为统计-->\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t(\"m.report.user_behavior\") }}\n                    </div>\n                    <div class=\"content\">\n                        <table class=\"table table-responsive-sm table-bordered text-center\">\n                            <thead>\n                                <tr style=\"background: #f0f3f5\">\n                                    <th>{{ $t(\"m.report.laDoor\") }}</th>\n                                    <th>{{ $t(\"m.report.raDoor\") }}</th>\n                                    <th>{{ $t(\"m.report.lbDoor\") }}</th>\n                                    <th>{{ $t(\"m.report.rbDoor\") }}</th>\n                                    <th>{{ $t(\"m.report.trunk\") }}</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td>{{ userBehavior.lfDoor }}{{ $t(\"m.report.times\") }}</td>\n                                    <td>{{ userBehavior.rfDoor }}{{ $t(\"m.report.times\") }}</td>\n                                    <td>{{ userBehavior.raDoor }}{{ $t(\"m.report.times\") }}</td>\n                                    <td>{{ userBehavior.laDoor }}{{ $t(\"m.report.times\") }}</td>\n                                    <td>{{ userBehavior.trunk }}{{ $t(\"m.report.times\") }}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </b-card>\n                <!--            速度分析       -->\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t(\"m.report.powerTitle\") }}\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"label-group row text-center\" style=\"width: 60%;margin: 0 auto\">\n                            <div class=\"col-sm-3 blue\"><i class=\"icon-style blue-icon\"></i>{{ $t(\"m.report.route_speed\") }}</div>\n                            <div class=\"col-sm-3 green\"><i class=\"icon-style green-icon\"></i>{{ $t(\"m.report.emotion20\") }}</div>\n                            <div class=\"col-sm-3 red\"><i class=\"icon-style red-icon\"></i>{{ $t(\"m.report.emotion30\") }}</div>\n                            <div class=\"col-sm-3 yellow\"><i class=\"icon-style yellow-icon\"></i>{{ $t(\"m.report.emotion10\") }}</div>\n                        </div>\n                        <div id=\"speed\"></div>\n                        <div class=\"margin20\">\n                            <!--                            速度表格-->\n                            <tableCard v-if=\"speedTable\" type=\"speed\" :data=\"speedTable\"></tableCard>\n                        </div>\n                    </div>\n                </b-card>\n                <!--                加速度-->\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t(\"m.report.acceTitle\") }}\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"label-group row text-center\" style=\"width: 60%;margin: 0 auto\">\n                            <div class=\"col-sm-3 blue\"><i class=\"icon-style blue-icon\"></i>{{ $t(\"m.report.accele\") }}</div>\n                            <div class=\"col-sm-3 green\"><i class=\"icon-style green-icon\"></i>{{ $t(\"m.report.emotion20\") }}</div>\n                            <div class=\"col-sm-3 red\"><i class=\"icon-style red-icon\"></i>{{ $t(\"m.report.emotion30\") }}</div>\n                            <div class=\"col-sm-3 yellow\"><i class=\"icon-style yellow-icon\"></i>{{ $t(\"m.report.emotion10\") }}</div>\n                        </div>\n                        <div id=\"acceleration\"></div>\n                        <div class=\"margin20\">\n                            <!--                            加速度表格-->\n                            <tableCard v-if=\"accTable\" type=\"acc\" :data=\"accTable\"></tableCard>\n                        </div>\n                    </div>\n                </b-card>\n                <!--                转弯曲线-->\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t(\"m.report.turnTitle\") }}\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"label-group row text-center\" style=\"width: 60%;margin: 0 auto\">\n                            <div class=\"col-sm-3 blue\"><i class=\"icon-style blue-icon\"></i>{{ $t(\"m.report.turn\") }}</div>\n                            <div class=\"col-sm-3 green\"><i class=\"icon-style green-icon\"></i>{{ $t(\"m.report.emotion20\") }}</div>\n                            <div class=\"col-sm-3 red\"><i class=\"icon-style red-icon\"></i>{{ $t(\"m.report.emotion30\") }}</div>\n                            <div class=\"col-sm-3 yellow\"><i class=\"icon-style yellow-icon\"></i>{{ $t(\"m.report.emotion10\") }}</div>\n                        </div>\n                        <div id=\"turn\"></div>\n                        <div class=\"margin20\">\n                            <!--                            转弯表格-->\n                            <tableCard v-if=\"turnTable\" type=\"turn\" :data=\"turnTable\"></tableCard>\n                        </div>\n                    </div>\n                </b-card>\n                <!--        颠簸点 -->\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t(\"m.report.pongTitle\") }}\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"label-group row text-center\" style=\"width: 60%;margin: 0 auto\">\n                            <div class=\"col-sm-3\" style=\"color: red\"><i style=\"background: red;height: 10px;width: 10px;display: inline-block;margin-right: 10px;\"></i>{{ $t(\"m.report.pongPoint\") }}</div>\n                            <div class=\"col-sm-3 green\"><i class=\"icon-style green-icon\"></i>{{ $t(\"m.report.emotion20\") }}</div>\n                            <div class=\"col-sm-3 red\"><i class=\"icon-style red-icon\"></i>{{ $t(\"m.report.emotion30\") }}</div>\n                            <div class=\"col-sm-3 yellow\"><i class=\"icon-style yellow-icon\"></i>{{ $t(\"m.report.emotion10\") }}</div>\n                        </div>\n                        <div id=\"pong\"></div>\n                        <div class=\"margin20\">\n                            <!--                            颠簸表格-->\n                            <tableCard v-if=\"pongTable\" type=\"pong\" :data=\"pongTable\"></tableCard>\n                        </div>\n                    </div>\n                </b-card>\n                <!-- 单人试驾报告 -->\n                <b-card>\n                    <div slot=\"header\">{{ $t(\"m.report.surveyTitle\") }}</div>\n                    <div class=\"content surveyReport\" v-if=\"surveyReport\">\n                        <div v-for=\"item in surveyReport\" :key=\"item.subjectId\">\n                            <div class=\"col-sm-6 float-left report-style\">\n                                <b-row>\n                                    <b-col sm=\"6\" md=\"6\" lg=\"6\">\n                                        <span class=\"float-left\">{{ item.subjectId }}.{{ reportArray[item.subjectId] }}</span>\n                                    </b-col>\n                                    <b-col sm=\"6\" md=\"6\" lg=\"6\">\n                                        <b-badge class=\"float-left badge-style success-color\" v-if=\"item.questionnaireContent === $t('m.report.very_satisfied')\">{{ item.questionnaireContent }}</b-badge>\n                                        <b-badge class=\"float-left badge-style primary-color\" v-else-if=\"item.questionnaireContent === $t('m.report.satisfied')\">{{ item.questionnaireContent }}</b-badge>\n                                        <b-badge class=\"float-left badge-style warning-color\" v-else-if=\"item.questionnaireContent === $t('m.report.common')\">{{ item.questionnaireContent }}</b-badge>\n                                        <b-badge class=\"float-left badge-style danger-color\" v-else-if=\"item.questionnaireContent === $t('m.report.dissatisfied')\">{{ item.questionnaireContent }}</b-badge>\n                                        <b-badge class=\"float-left badge-style sec-color\" v-else-if=\"item.questionnaireContent === $t('m.report.no_evaluation')\">{{ item.questionnaireContent }}</b-badge>\n                                    </b-col>\n                                </b-row>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 float-left report-style\">\n                            <b-row>\n                                <b-col sm=\"6\" md=\"6\" lg=\"6\">\n                                    <span class=\"float-left\">{{ starId }}.{{ reportArray[ starId ] }}</span>\n                                </b-col>\n                                <b-col sm=\"6\" md=\"6\" lg=\"6\">\n                                    <div class=\"float-left\">\n                                        <i class=\"fa fa-star star-size\" v-for=\"item in starNum\" :key=\"item\"></i>\n                                    </div>\n                                </b-col>\n                            </b-row>\n                        </div>\n                        <div class=\"col-sm-6 float-left dis-relative report-style\">\n                            <b-row>\n                                <b-col sm=\"6\" md=\"6\" lg=\"6\">\n                                    <div class=\"float-left\">{{ surveyMsgId }}.{{ reportArray[surveyMsgId] }}</div>\n                                </b-col>\n                                <b-col sm=\"6\" md=\"6\" lg=\"6\">\n                                    <div class=\"float-left advise-style\" style=\"height: 300%\">\n                                        {{ surveyMsg ? surveyMsg : \"\" }}\n                                    </div>\n                                </b-col>\n                            </b-row>\n                        </div>\n                    </div>\n                    <div class=\"content surveyReport\" v-else>\n                        <div class=\"text-center no-feedback\">\n                            {{ $t(\"m.report.no_feedback\") }}\n                        </div>\n                    </div>\n                </b-card>\n            </div>\n        </b-card>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n#acceleration,\n#emotion,\n#speed,\n#turn,\n#pong {\n    height: 400px;\n}\n.whole-emotion {\n    .card-body {\n        padding: 0;\n        .breadcrumb {\n            padding: 7px 10px;\n            margin-bottom: 0;\n        }\n    }\n}\n.hot-link {\n    color: rgb(99, 194, 222);\n    cursor: pointer;\n}\n.blue {\n    color: #3b5998;\n}\n.green {\n    color: #a2dab6;\n}\n.green-deep {\n    color: #4dbd74;\n}\n.red-deep {\n    color: #f86c6b;\n}\n.yellow,\n.fa-star {\n    color: #fbdc7f;\n}\n.margin20 {\n    margin-top: 20px;\n}\n.red {\n    color: #f8b2b1;\n}\n.space-holder {\n    margin-left: 10px;\n}\n.icon-style {\n    display: inline-block;\n    height: 10px;\n    width: 10px;\n    margin-right: 6px;\n}\n.blue-icon {\n    background: #3b5998;\n}\n.green-icon {\n    background: #a2dab6;\n}\n.yellow-icon {\n    background: #fbdc7f;\n}\n.red-icon {\n    background: #f8b2b1;\n}\n.no-feedback {\n    color: rgba(174, 182, 177, 0.767);\n    font-size: 0.875rem;\n}\n.badge-style {\n    width: 100px;\n    font-size: 0.75rem;\n    padding: 5px 20px;\n}\n.max-width {\n    max-width: 154px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.dis-relative {\n    display: relative;\n}\n.advise-alert {\n    width: 260px;\n    // height: 100px;\n    color: #ffffff;\n    position: absolute;\n    background-color: rgba(17, 16, 16, 0.7);\n    right: 3%;\n    bottom: 101%;\n    border-radius: 2px;\n    padding: 13px 10px;\n}\n.star-size {\n    font-size: 22px;\n    padding: 0px 3px;\n    color: #ffc107;\n}\n.surveyReport {\n    .col-sm-6 {\n        padding-left: 0;\n    }\n}\n.report-style {\n    padding: 8px 20px;\n}\n.success-color {\n    background-color: #4dbd74;\n    color: #ffffff;\n}\n.primary-color {\n    background-color: #63c2de;\n    color: #ffffff;\n}\n.warning-color {\n    background-color: #ffc107;\n    color: #ffffff;\n}\n.danger-color {\n    background-color: #f86c6b;\n    color: #ffffff;\n}\n.sec-color {\n    background-color: #c8ced3;\n}\n</style>\n\n<script>\nimport echarts from \"echarts\";\nimport httpClient from \"@/utils/httpclient\";\nimport polygonMap from \"@/components/tripMap\";\nimport tableCard from \"./components/reportDetail/index.vue\";\nimport { emotion, speed, accele, turns, pong, initEmotion, insertTable } from \"./components/reportDetail/index\";\nimport { timeInspect, getDateString2, filterCardTime, getDateString3, getDateString4, getDateStringEnglish } from \"@/utils/date\";\nexport default {\n    name: \"testReport\",\n    inject: [\"reload\"],\n    components: {\n        polygonMap,\n        tableCard\n    },\n    data() {\n        return {\n            emotion,\n            speed,\n            accele,\n            turns,\n            pong,\n            speedTable: null,\n            accTable: null,\n            turnTable: null,\n            pongTable: null,\n            userDetail: {},\n            driveInfo: {},\n            area: null,\n            satisify: [\n                {\n                    name: this.$t(\"m.report.milege30\"),\n                    id: 9\n                },\n                {\n                    name: this.$t(\"m.report.static\"),\n                    id: 10\n                },\n                {\n                    name: this.$t(\"m.report.more60\"),\n                    id: 2\n                },\n                {\n                    name: this.$t(\"m.report.straight\"),\n                    id: 14\n                },\n                {\n                    name: this.$t(\"m.report.acceleration\"),\n                    id: 12\n                },\n                {\n                    name: this.$t(\"m.report.content_speed\"),\n                    id: 11\n                },\n                {\n                    name: this.$t(\"m.report.normal_speed\"),\n                    id: 16\n                },\n                {\n                    name: this.$t(\"m.report.turnCard\"),\n                    id: 15\n                },\n                {\n                    name: this.$t(\"m.report.pongPoint\"),\n                    id: 8\n                },\n                {\n                    name: this.$t(\"m.report.brake\"),\n                    id: 13\n                },\n                {\n                    name: this.$t(\"m.report.cut30\"),\n                    id: 3\n                }\n            ],\n            emotionNetData: [],\n            reverseEmotionData: {},\n            userBehavior: {},\n            // stars: 0\n            reportArray: [\"\", this.$t(\"m.report.outline_size\"), this.$t(\"m.report.modeling_aesthetics\"), this.$t(\"m.report.ride_comfort\"), this.$t(\"m.report.comfortable_seat\"), this.$t(\"m.report.sound_effects\"), this.$t(\"m.report.air_conditioning\"), this.$t(\"m.report.sound_effect\"), this.$t(\"m.report.feeling_wheel\"), this.$t(\"m.report.brake_force\"), this.$t(\"m.report.steering_flexibility\"), this.$t(\"m.report.view\"), this.$t(\"m.report.starting_acceleration\"), this.$t(\"m.report.halfway_acceleration\"), this.$t(\"m.report.dynamic_stability\"), this.$t(\"m.report.stability_denaturation\"), this.$t(\"m.report.automotive_interior\"), this.$t(\"m.report.technological_level\"), this.$t(\"m.report.interior_color\"), this.$t(\"m.report.internal_space\"), this.$t(\"m.report.operation_key\"), this.$t(\"m.report.overall_satisfaction\"), this.$t(\"m.report.suggestions_evaluation\")],\n            surveyReport: false,\n            surveyMsg: \"\",\n            showAdviseAlert: false,\n            questionnaireContent: \"\",\n            starId: 0,\n            starNum: 0,\n            surveyMsgId: 0\n        };\n    },\n    mounted() {\n        // coordinatetype 1,WGS84全球坐标系  2,GCJ02火星坐标系  3,BD09百度坐标系\n        httpClient.get(\"/api/v1/clouddrive/report/detail?coordinatetype=1&orderid=\" + this.$route.params.id).then(response => {\n            if (response.data.code == 200) {\n                const { data } = response.data;\n                // this.stars = response.data.data.surveyFeedbackDTO ? response.data.data.surveyFeedbackDTO[0].questionnaireContent :'';\n                this.userDetail = data.userDetailDTO ? data.userDetailDTO : {};\n                this.driveInfo = data.cloudDriveReportDTO.clouddriveTripDataDTO;\n                this.area = {\n                    area: data.cloudDriveReportDTO.tracesDataDTOList,\n                    center: data.cloudDriveReportDTO.tracesDataDTOList[0]\n                };\n                this.userBehavior = data.cloudDriveReportDTO.alarmPushDTOList;\n                this.getEmotion(data.cloudDriveReportDTO.wholeEmotionDTO);\n                this.getSpeed(data.cloudDriveReportDTO.emotionList, data.cloudDriveReportDTO.speedList, data.cloudDriveReportDTO.clouddriveTripDataDTO.maxSpeed);\n                this.getAcceleration(data.cloudDriveReportDTO.emotionList, data.cloudDriveReportDTO.accelerationDataList, data.cloudDriveReportDTO.clouddriveTripDataDTO.maxAcceleration);\n                this.getTurn(data.cloudDriveReportDTO.emotionList, data.cloudDriveReportDTO.turnDataDTOS);\n                //碰撞点为0， 则不现实整个模块\n                this.getPong(data.cloudDriveReportDTO.emotionList, data.cloudDriveReportDTO.accelerationDataList, data.cloudDriveReportDTO ? data.cloudDriveReportDTO.bumpyEventsNew : []);\n                data.cloudDriveReportDTO.clouddriveEmotionStatisticsDataDTO ? this.initTable(data.cloudDriveReportDTO.clouddriveEmotionStatisticsDataDTO) : null;\n                // 单人试驾报告\n                if (data.surveyFeedbackDTO) {\n                    this.surveyReport = data.surveyFeedbackDTO.slice(0, 20);\n                    this.starId = data.surveyFeedbackDTO.slice(20, 21)[0].subjectId;\n                    this.starNum = Number(data.surveyFeedbackDTO.slice(20, 21)[0].questionnaireContent);\n                    if (data.surveyFeedbackDTO[21]) {\n                        this.surveyMsg = data.surveyFeedbackDTO.slice(21)[0].questionnaireContent;\n                        this.surveyMsgId = data.surveyFeedbackDTO.slice(21)[0].subjectId;\n                    }\n                }\n            }\n        });\n    },\n    methods: {\n        initBaseData(driveData) {\n            let driveDatas = [];\n            driveData.map(item => {\n                driveDatas.push(getDateString3(item.driveTime));\n            });\n            return {\n                driveDatas\n            };\n        },\n        initTable(data) {\n            let temp = {};\n            let sortData = [];\n            data.map(item => {\n                this.satisify.map(it => {\n                    if (it.id == item.driveType) {\n                        sortData.push({\n                            id: it.id,\n                            name: it.name,\n                            value: (item.emotionNetWorth * 100).toFixed(1)\n                        });\n                    }\n                });\n                temp[item.driveType] = {\n                    durationTime: item.durationTime,\n                    durationTimeStatictics: (item.durationTimeStatictics * 100).toFixed(1),\n                    neutralEmotionStatistics: (item.neutralEmotionStatistics * 100).toFixed(1),\n                    positiveEmotionStatistics: (item.positiveEmotionStatistics * 100).toFixed(1),\n                    negativeEmotionStatistics: (item.negativeEmotionStatistics * 100).toFixed(1),\n                    emotionNetWorth: (item.emotionNetWorth * 100).toFixed(1)\n                };\n            });\n            this.speedTable = insertTable(\"speed\", [10, 3, 9, 2], temp);\n            this.accTable = insertTable(\"acc\", [11, 12, 13, 0], temp);\n            this.turnTable = insertTable(\"turn\", [14, 15, 0, 0], temp);\n            this.pongTable = insertTable(\"pong\", [16, 8, 0, 0], temp);\n            let emotionArray = sortData.sort((f, l) => {\n                return l.value - f.value;\n            });\n            this.emotionNetData = JSON.parse(JSON.stringify(emotionArray));\n            this.reverseEmotionData = emotionArray.reverse().slice(0, 3);\n        },\n        getPong(data, driveData, eventData) {\n            let eventList = [];\n            eventData.map(item => {\n                eventList.push({\n                    xAxis: getDateString3(item.driveTime),\n                    tooltip: {\n                        trigger: \"item\",\n                        formatter: data => {\n                            return data.data.xAxis + `<br />${this.$t(\"m.report.pongPoint\")}`;\n                        }\n                    },\n                    yAxis: 20\n                });\n            });\n            let { emotionList, area, line } = initEmotion(data);\n            this.pong.series.markArea.data = area;\n            let { driveDatas } = this.initBaseData(driveData);\n            this.pong.xAxis.data = driveDatas;\n            this.pong.series.data = emotionList;\n            this.pong.series.markLine.data = line;\n            this.pong.series.markPoint.data = eventList;\n            echarts.init(document.getElementById(\"pong\")).setOption(this.pong);\n        },\n        getTurn(data, accData) {\n            let accList = [];\n            let yList = [];\n            let { area, line } = this.defaultEmotion(data);\n            accData.map(item => {\n                accList.push(getDateString3(item.driveTime));\n                yList.push(item.turn);\n            });\n            this.turns.series.markArea.data = area;\n            this.turns.series.markLine.data = line;\n            this.turns.xAxis.data = accList;\n            this.turns.series.data = yList;\n            echarts.init(document.getElementById(\"turn\")).setOption(this.turns);\n        },\n        defaultEmotion(data, max) {\n            let emotionList = [];\n            let area = [];\n            let line = [];\n            data.map(item => {\n                emotionList.push(item.emotion);\n                if (item.emotion == 10 || item.emotion == 0) {\n                    line.push([\n                        {\n                            xAxis: item.emotionStartTime ? getDateString3(item.emotionStartTime) : 0,\n                            yAxis: 0,\n                            itemStyle: {\n                                color: \"#fbdc7f\",\n                                width: 2\n                            }\n                        },\n                        {\n                            yAxis: 0,\n                            xAxis: item.emotionEndTIme ? getDateString3(item.emotionEndTIme) : 0\n                        }\n                    ]);\n                } else {\n                    area.push([\n                        {\n                            xAxis: item.emotionStartTime ? getDateString3(item.emotionStartTime) : 0,\n                            temp: item.emotion,\n                            yAxis: max ? (item.emotion == 20 ? 0 : Number(\"-\" + max)) : item.emotion == 20 ? 0 : -10,\n                            itemStyle: {\n                                color: item.emotion == 20 ? \"#a2dab6\" : item.emotion == 30 ? \"#f8b2b1\" : \"#fbdc7f\"\n                            }\n                        },\n                        {\n                            yAxis: max ? (item.emotion == 20 ? max : 0) : item.emotion == 20 ? 10 : 0,\n                            xAxis: item.emotionEndTIme ? getDateString3(item.emotionEndTIme) : 0\n                        }\n                    ]);\n                }\n            });\n            return {\n                emotionList,\n                area,\n                line\n            };\n        },\n        getAcceleration(data, accData, maxAcc) {\n            let { area, line } = this.defaultEmotion(data, Math.ceil(maxAcc));\n            let accList = [];\n            let yList = [];\n            accData.map(item => {\n                accList.push(getDateString3(item.driveTime));\n                yList.push(item.acceleration.toFixed(1));\n            });\n            this.accele.yAxis.min = \"-\" + Math.ceil(Number(maxAcc));\n            this.accele.yAxis.max = Math.ceil(Number(maxAcc));\n            this.accele.yAxis.interval = Math.ceil(Number(maxAcc));\n            this.accele.series.markArea.data = area;\n            this.accele.series.markLine.data = line;\n            this.accele.xAxis.data = accList;\n            this.accele.series.data = yList;\n            echarts.init(document.getElementById(\"acceleration\")).setOption(this.accele);\n        },\n        getSpeed(data, speedData, highSpeed) {\n            let { area, line } = initEmotion(data, \"speed\", highSpeed);\n            let speedList = [];\n            let yList = [];\n            speedData.map(item => {\n                speedList.push(getDateString3(item.driveTime));\n                yList.push(item.speed.toFixed(1));\n            });\n            this.speed.series.markArea.data = area;\n            this.speed.series.markLine.data = line;\n            this.speed.xAxis.data = speedList;\n            this.speed.yAxis.interval = Math.ceil(highSpeed / 2);\n            this.speed.yAxis.max = Math.ceil(highSpeed);\n            this.speed.series.data = yList;\n            echarts.init(document.getElementById(\"speed\")).setOption(this.speed);\n        },\n        getEmotion(data) {\n            this.emotion.series[0].data[0].value = (data.positiveEmotionStatistics * 100).toFixed(1);\n            this.emotion.series[0].data[1].value = (data.negativeEmotionStatistics * 100).toFixed(1);\n            this.emotion.series[0].data[2].value = (data.neutralEmotionStatistics * 100).toFixed(1);\n            echarts.init(document.getElementById(\"emotion\")).setOption(this.emotion);\n        },\n        showAdvise() {\n            if (this.surveyMsg === \"\") {\n                this.showAdviseAlert = false;\n            } else {\n                this.showAdviseAlert = true;\n            }\n        },\n        closeAdvise() {\n            this.showAdviseAlert = false;\n        },\n        filterCardTime,\n        timeInspect,\n        getDateString2,\n        getDateString4,\n        getDateStringEnglish\n    }\n};\n</script>\n"]}]}