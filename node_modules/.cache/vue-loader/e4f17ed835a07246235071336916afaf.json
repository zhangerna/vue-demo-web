{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/components/vehicleForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/components/vehicleForm.vue","mtime":1560497684000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpClient from \"@/utils/httpclient\";\nimport model from \"@/components/model\";\nexport default {\n    name: \"vehicleForm\",\n    components: {\n        model\n    },\n    props: ['vehicleInfo'],\n    data() {\n        return {\n            title: '',\n            content: '',\n            show: false,\n            showB: false,\n            vin: '',\n            data: {},\n            year: '',\n            make: '',\n            trim: '',\n            engine: '',\n            price: '',\n            stock: '',\n            condition: 'new',\n            odometer: '',\n            model: '',\n            color: 'Black',\n            date: '',\n            plate: '',\n            photo: '',\n            deviceMac: ''\n        }\n    },\n    watch: {\n        'vehicleInfo':{\n            immediate: true,\n            handler(curVal){\n                console.log(\"---watch-----\");\n                console.log(curVal);\n                this.showB = false;\n                this.data = curVal;\n                this.year = this.data.year;\n                this.make = this.data.make;\n                this.model = this.data.model;\n                this.trim = this.data.trim;\n                this.engine = this.data.engineType;\n                this.price = this.data.price;\n                this.color = this.data.color;\n                this.date = this.data.inventoryDays;\n                this.stock = this.data.stockNumber;\n                this.condition = this.data.vehicleType;\n                this.odometer = this.data.currentMileage/1609.344;\n                this.plate = this.data.plate;\n                this.photo = this.data.photoPath;\n                this.vin = this.data.vin;\n                this.deviceMac = this.data.mac;\n            },\n            deep: true\n        }\n    },\n    methods: {\n        savefile(event) {\n            let file = event.target.files;\n            let fb = new FormData();\n            fb.append(\"image\", file[0]);\n            httpClient.post('/api/v1/user/updateAvatar', fb).then(response => {\n                if (response.data.code == 200) {\n                    this.photo = response.data.data.avatarUrl;\n                    this.title = \"Success\";\n                    this.content = \"Photo Uploaded Successfully\";\n                    this.show = true;\n                    this.showB = false;\n                }\n            }).catch(error => {\n                console.error(error)\n            })\n        },\n        saveData() {\n\n            httpClient.post('/api/v1/vehicle/bind/device',{\n                vin: this.vin,\n                year: this.year,\n                make: this.make,\n                deviceMac: this.deviceMac,\n                model: this.model,\n                trim: this.trim,\n                engineType: this.engine,\n                color: this.color,\n                price: Number(this.price) ? this.price : '',\n                stockNumber: this.stock,\n                inventoryDate: new Date(this.date).getTime(),\n                vehicleType: this.confidence,\n                currentMileage: this.odometer,\n                plate: this.plate,\n                photoPath: this.photo\n\n            }).then(response => {\n                this.$emit(\"showStep3\", response.data.data)\n            }).catch(err => {\n                console.log(\"server error\");\n            })\n        }\n    }\n}\n",{"version":3,"sources":["vehicleForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vehicleForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"animated fadeIn vehicleForm\">\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>year</label>\n                    <b-form-input type=\"number\" v-model=\"year\" placeholder=\"Enter Year\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>make</label>\n                    <b-form-input type=\"text\" v-model=\"make\"  placeholder=\"Enter Make\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>model</label>\n                    <b-form-input type=\"text\" v-model=\"model\" placeholder=\"Enter Model\"></b-form-input>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Trim</label>\n                    <b-form-input type=\"text\" v-model=\"trim\" placeholder=\"Enter Trim\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Engine</label>\n                    <b-form-input type=\"text\" v-model=\"engine\" placeholder=\"Enter Engine\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Color</label>\n                    <b-form-select v-model=\"color\"\n                                   size=\"lg\"\n                                   :plain=\"true\"\n                                   :options=\"['Black','White', 'Silver', 'Blue', 'Red', 'Brown', 'Gold', 'Orange', 'Yellow', 'Purple', 'Green', 'Pink', 'other']\"\n                                   value=\"Please select\">\n                    </b-form-select>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Price</label>\n                    <b-form-input v-model=\"price\"  type=\"number\" placeholder=\"Enter Price\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Stock Number</label>\n                    <b-form-input type=\"number\" v-model=\"stock\" placeholder=\"Enter Stock Number\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Inventory Date</label>\n                    <b-form-input type=\"date\" v-model=\"date\"></b-form-input>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Condition</label>\n                    <b-form-select  v-model=\"condition\"\n                                    size=\"lg\"\n                                    :plain=\"true\"\n                                    :options=\"['new','Used', 'Demo']\"\n                                    value=\"Please select\">\n                    </b-form-select>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Odometer</label>\n                    <b-form-input type=\"text\" v-model=\"odometer\" placeholder=\"Enter Current Mileage\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>Plate Number</label>\n                    <b-form-input type=\"text\" v-model=\"plate\" placeholder=\"Enter Plate Number\"></b-form-input>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <div class=\"upload-group text-center\">\n            <label>Upload Photo</label>\n            <img v-show=\"photo\" :src=\"photo\" width=\"100%\">\n            <div>\n                <input type=\"file\" style=\"margin-left: 16%\" id=\"uploadAvatar\" @change=\"savefile($event)\" accept=\"image/jpeg,image/png,image/jpg\" ref=\"upload\">\n            </div>\n            <b-button class=\"btn btn-success\" style=\"margin-top: 4%\" :disabled=\"showB\" @click=\"saveData\">\n                Submit\n            </b-button>\n        </div>\n        <model :title=\"title\"\n               :content=\"content\"\n               :show=\"show\">\n        </model>\n    </div>\n</template>\n\n<style lang=\"scss\">\n    .vehicleForm {\n        select {\n            height: 35px!important;\n        }\n        .upload-group {\n            width: 30%;\n            margin: 0 auto;\n            button {\n                margin-top: 20px;\n            }\n\n        }\n    }\n</style>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import model from \"@/components/model\";\n    export default {\n        name: \"vehicleForm\",\n        components: {\n            model\n        },\n        props: ['vehicleInfo'],\n        data() {\n            return {\n                title: '',\n                content: '',\n                show: false,\n                showB: false,\n                vin: '',\n                data: {},\n                year: '',\n                make: '',\n                trim: '',\n                engine: '',\n                price: '',\n                stock: '',\n                condition: 'new',\n                odometer: '',\n                model: '',\n                color: 'Black',\n                date: '',\n                plate: '',\n                photo: '',\n                deviceMac: ''\n            }\n        },\n        watch: {\n            'vehicleInfo':{\n                immediate: true,\n                handler(curVal){\n                    console.log(\"---watch-----\");\n                    console.log(curVal);\n                    this.showB = false;\n                    this.data = curVal;\n                    this.year = this.data.year;\n                    this.make = this.data.make;\n                    this.model = this.data.model;\n                    this.trim = this.data.trim;\n                    this.engine = this.data.engineType;\n                    this.price = this.data.price;\n                    this.color = this.data.color;\n                    this.date = this.data.inventoryDays;\n                    this.stock = this.data.stockNumber;\n                    this.condition = this.data.vehicleType;\n                    this.odometer = this.data.currentMileage/1609.344;\n                    this.plate = this.data.plate;\n                    this.photo = this.data.photoPath;\n                    this.vin = this.data.vin;\n                    this.deviceMac = this.data.mac;\n                },\n                deep: true\n            }\n        },\n        methods: {\n            savefile(event) {\n                let file = event.target.files;\n                let fb = new FormData();\n                fb.append(\"image\", file[0]);\n                httpClient.post('/api/v1/user/updateAvatar', fb).then(response => {\n                    if (response.data.code == 200) {\n                        this.photo = response.data.data.avatarUrl;\n                        this.title = \"Success\";\n                        this.content = \"Photo Uploaded Successfully\";\n                        this.show = true;\n                        this.showB = false;\n                    }\n                }).catch(error => {\n                    console.error(error)\n                })\n            },\n            saveData() {\n\n                httpClient.post('/api/v1/vehicle/bind/device',{\n                    vin: this.vin,\n                    year: this.year,\n                    make: this.make,\n                    deviceMac: this.deviceMac,\n                    model: this.model,\n                    trim: this.trim,\n                    engineType: this.engine,\n                    color: this.color,\n                    price: Number(this.price) ? this.price : '',\n                    stockNumber: this.stock,\n                    inventoryDate: new Date(this.date).getTime(),\n                    vehicleType: this.confidence,\n                    currentMileage: this.odometer,\n                    plate: this.plate,\n                    photoPath: this.photo\n\n                }).then(response => {\n                    this.$emit(\"showStep3\", response.data.data)\n                }).catch(err => {\n                    console.log(\"server error\");\n                })\n            }\n        }\n    }\n</script>"]}]}