{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/index.vue","mtime":1571637246000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport {\n    Header as AppHeader,\n    SidebarToggler,\n    Sidebar as AppSidebar,\n    SidebarFooter,\n    SidebarForm,\n    SidebarHeader,\n    SidebarMinimizer,\n    SidebarNav,\n    Footer as TheFooter,\n} from '@coreui/vue';\nimport DefaultHeaderDropdownAccnt from './component/account';\nimport Socket from '@/components/socket';\nimport httpclient from \"@/utils/httpclient\";\n\nexport default {\n    name: 'dashboard',\n    inject: ['reload'],\n    components: {\n        AppHeader,\n        AppSidebar,\n        TheFooter,\n        SidebarForm,\n        SidebarFooter,\n        SidebarToggler,\n        SidebarHeader,\n        SidebarNav,\n        SidebarMinimizer,\n        DefaultHeaderDropdownAccnt,\n        Socket\n    },\n    data() {\n        return {\n            data: [\n                {\n                    url: '/index',\n                    icon: 'icon-speedometer',\n                    id: 'lotmanger_dashboard',\n                    name: this.$t('m.dashboard.dashboard')\n                },\n                {\n                    name: this.$t('m.dashboard.vehicle_m'),\n                    url: \"/inventory\",\n                    icon: \"nav-icon icon-list\",\n                    id: \"lotmanger\",\n                    children: [\n                        {\n                            name: this.$t('m.dashboard.vehicles'),\n                            url: '/inventory/vehicle',\n                            icon: 'fa fa-car',\n                            id: 'lotmanger_vehicles'\n                        },\n                        {\n                            name: this.$t('m.dashboard.alerts'),\n                            url: '/inventory/alerts',\n                            icon: 'cui-bell',\n                            id: 'lotmanger_alerts'\n                        },\n                        {\n                            name: this.$t('m.dashboard.devices'),\n                            url: '/inventory/device',\n                            icon: 'cui-tablet',\n                            id: 'lotmanger_devices'\n                        },\n                        {\n                            name: this.$t('m.dashboard.admin'),\n                            url: '/inventory/admin',\n                            icon: 'cui-people',\n                            id: 'lotmanger_admin'\n                        },\n                        {\n                            name: this.$t('m.dashboard.lots'),\n                            url: '/inventory/lots',\n                            icon: 'cui-dashboard',\n                            id: 'lotmanger_lots'\n                        },\n                        {\n                            name: this.$t('m.dashboard.shop'),\n                            url: '/inventory/shop-manager',\n                            icon: 'fa fa-institution',\n                            id: 'lotmanger_store'\n                        },\n                    ]\n                },\n                {\n                    name: this.$t('m.sold_vehicle.vehicle_management'),\n                    url: '/sold-manager',\n                    icon: 'fa fa-handshake-o',\n                    id: 'After-sales',\n                    children: [\n                        {\n                            name: this.$t('m.sold_vehicle.vehicle_sold'),\n                            url: '/sold-manager/list',\n                            icon: 'fa fa-car',\n                            id: \"After-sales_vehicle\"\n                        }\n                    ]\n                },\n                {\n                    name: this.$t('m.dashboard.cloud'),\n                    url: '/test-drive',\n                    icon: 'nav-icon icon-list',\n                    id: \"clouddrive\",\n                    children: [\n                        {\n                            name: this.$t('m.dashboard.appoint_order'),\n                            url: '/test-drive/reservation-order',\n                            icon: 'fa fa-list',\n                            id: \"clouddrive_appointment\"\n                        },\n                        {\n                            name: this.$t('m.dashboard.test_vehicle'),\n                            url: '/test-drive/test-vehicle',\n                            icon: 'fa fa-car',\n                            id: \"clouddrive_testvehicle\"\n                        },\n                        {\n                            name: this.$t('m.dashboard.test_user'),\n                            url: '/test-drive/test-user',\n                            icon: 'cui-people',\n                            id: \"clouddrive_testuser\"\n                        },\n                        {\n                            name: this.$t('m.dashboard.test_point'),\n                            url: '/test-drive/test-point',\n                            icon: 'cui-dashboard',\n                            id: \"clouddrive_testpoint\"\n                        },\n                        {\n                            name: this.$t('m.dashboard.car_box'),\n                            url: '/test-drive/car-box',\n                            icon: 'cui-tablet',\n                            id: \"clouddrive_vehiclebox\"\n                        },\n                    ]\n                }\n            ],\n            nav: [\n            ],\n            root: false,\n            rootData: [],\n            storeName: '',\n            env: ''\n        }\n    },\n    mounted() {\n        this.env = process.env.VUE_APP_ENV;\n        this.root = localStorage.getItem('role') == 'root' ? true : false;\n        httpclient.get(\"/api/v1/listmenus\").then((response) => {\n            this.filterList(response.data.data);\n        }).catch((e) => {\n            console.log('listmenus error')\n        });\n        if (this.root) {\n            this.storeName = sessionStorage.getItem('storeName') ? sessionStorage.getItem('storeName') : this.$t('m.common.all_store');\n            httpclient.get(\"/api/v1/store/list\").then(res => {\n                if (res.data.code == 200) {\n                    this.rootData = res.data.data;\n                }\n            })\n        }\n    },\n    methods: {\n        changeStore(id, name) {\n            if (id) {\n                sessionStorage.setItem('storeName', name);\n                sessionStorage.setItem('storeId', id);\n            } else {\n                sessionStorage.removeItem('storeId');\n                sessionStorage.removeItem('storeName');\n            }\n            this.reload();\n        },\n        filterChildren(key, menus, key2) {\n            let list = [];\n            menus[key2].menuList ? menus[key2].menuList.map(i => {\n                this.data[key].children.map(t => {\n                    if (i.menuCode == t.id ) {\n                        list.push(t)\n                    }\n                });\n            }) : '';\n            return list.length > 0 ? list : null;\n        },\n        filterList(menus) {\n            this.nav = [];\n            this.data.map((it, key) => {\n                menus.map((item, key2) => {\n                    if (item.menuCode == it.id) {\n                        this.nav.push({\n                            name: it.name,\n                            url: it.url,\n                            icon: it.icon,\n                            id: it.id,\n                            children: this.filterChildren(key, menus, key2)\n                        });\n                    }\n                });\n            });\n        }\n    }\n}\n",null]}