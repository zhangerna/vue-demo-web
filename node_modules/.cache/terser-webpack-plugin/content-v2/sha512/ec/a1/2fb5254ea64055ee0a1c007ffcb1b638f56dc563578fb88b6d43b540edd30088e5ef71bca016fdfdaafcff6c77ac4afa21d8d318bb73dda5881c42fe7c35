{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"profile\"],{\"17d1\":function(a,e,t){\"use strict\";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t(\"div\",{staticClass:\"animated fadeIn profile-content\"},[t(\"b-card\",{staticClass:\"profile\",attrs:{header:\"Profile\"}},[t(\"div\",{staticClass:\"content\"},[t(\"div\",{staticClass:\"group-img\"},[t(\"img\",{attrs:{src:a.img,width:\"160px\",height:\"160px\"}}),t(\"input\",{ref:\"upload\",attrs:{type:\"file\",id:\"uploadAvatar\",accept:\"image/jpeg,image/png,image/jpg\"},on:{change:function(e){return a.savefile(e)}}})]),t(\"div\",[t(\"b-form-group\",[t(\"label\",{attrs:{for:\"email\"}},[a._v(\"Email\")]),t(\"b-form-input\",{attrs:{id:\"email\",type:\"email\",required:\"\",disabled:\"\",autocomplete:\"email\"},model:{value:a.email,callback:function(e){a.email=e},expression:\"email\"}})],1),t(\"b-row\",{staticStyle:{\"padding-left\":\"0px\"}},[t(\"b-col\",{attrs:{sm:\"6\"}},[t(\"b-form-group\",[t(\"label\",{attrs:{for:\"firstname\"}},[a._v(\"Firstname\")]),t(\"b-form-input\",{attrs:{id:\"firstname\",type:\"text\",placeholder:\"Enter Firstname..\",required:\"\"},model:{value:a.firstname,callback:function(e){a.firstname=e},expression:\"firstname\"}})],1)],1),t(\"b-col\",[t(\"b-form-group\",[t(\"label\",{attrs:{for:\"lastname\"}},[a._v(\"Lastname\")]),t(\"b-form-input\",{attrs:{id:\"lastname\",type:\"text\",placeholder:\"Enter Lastname..\",required:\"\"},model:{value:a.lastname,callback:function(e){a.lastname=e},expression:\"lastname\"}})],1)],1)],1),t(\"b-form-group\",[t(\"label\",{attrs:{for:\"phone\"}},[a._v(\"Phone\")]),t(\"b-form-input\",{attrs:{id:\"phone\",type:\"text\",placeholder:\"Enter Lastname..\",required:\"\"},model:{value:a.phone,callback:function(e){a.phone=e},expression:\"phone\"}})],1),t(\"b-form-group\",[t(\"label\",{attrs:{for:\"Role\"}},[a._v(\"Role\")]),t(\"b-form-input\",{attrs:{id:\"role\",type:\"text\",disabled:\"\",required:\"\"},model:{value:a.role,callback:function(e){a.role=e},expression:\"role\"}})],1),t(\"b-form-group\",[t(\"label\",[a._v(\"Dealership\")]),t(\"b-form-input\",{attrs:{type:\"text\",disabled:\"\",required:\"\"},model:{value:a.dealship,callback:function(e){a.dealship=e},expression:\"dealship\"}})],1),t(\"b-form-group\",[t(\"label\",[a._v(\"Dealership Group\")]),t(\"b-form-input\",{attrs:{type:\"text\",disabled:\"\",required:\"\"},model:{value:a.dealGroup,callback:function(e){a.dealGroup=e},expression:\"dealGroup\"}})],1),t(\"b-form-group\",[t(\"button\",{staticClass:\"btn btn-primary\",on:{click:a.saveUserInfo}},[a._v(\"\\n                        Save\\n                    \")]),t(\"button\",{staticClass:\"btn btn-ghost-danger\",on:{click:function(e){return a.$router.push(\"/change-password\")}}},[a._v(\"\\n                        Change Password\\n                    \")])])],1)])]),t(\"b-modal\",{ref:\"my-modal\",attrs:{title:\"Profile Saved Successfully\"},on:{ok:function(e){a.showTip=!1}},model:{value:a.showTip,callback:function(e){a.showTip=e},expression:\"showTip\"}}),t(\"b-modal\",{ref:\"my-modal\",attrs:{title:\"Profile Saved Failed\"},on:{ok:function(e){a.showETip=!1}},model:{value:a.showETip,callback:function(e){a.showETip=e},expression:\"showETip\"}})],1)},s=[],o=t(\"f499\"),i=t.n(o),n=t(\"3159\"),l={name:\"profile\",inject:[\"reload\"],data:function(){return{data:null,email:\"\",firstname:\"\",lastname:\"\",phone:\"\",role:\"\",dealGroup:\"\",dealship:\"\",img:\"\",showTip:!1,showETip:!1}},mounted:function(){var a=this;this.img=this.$store.state.userInfo.avatarUrl,n[\"a\"].post(\"/api/v1/getUserById\",{userId:this.$store.state.userInfo.userId}).then(function(e){a.email=e.data.data.userEmail?e.data.data.userEmail:\"\",a.firstname=e.data.data.firstName,a.lastname=e.data.data.lastName,a.phone=e.data.data.phone,a.role=e.data.data.role,a.dealship=e.data.data.storeName,a.dealGroup=e.data.data.tenantName})},methods:{savefile:function(a){var e=this,t=a.target.files,r=new FormData;r.append(\"image\",t[0]),n[\"a\"].post(\"/api/v1/user/updateAvatar\",r).then(function(a){if(200===a.data.code){e.img=a.data.data.avatarUrl;var t={avatarUrl:e.img,firstName:e.firstname,lastName:e.lastname};e.$store.dispatch(\"user_Personal_Info\",t);var r=JSON.parse(localStorage.getItem(\"user_info\"));r.avatarUrl=e.img,localStorage.setItem(\"user_info\",i()(r)),e.showTip=!0}else e.showETip=!0})},saveUserInfo:function(){var a=this;this.firstname&&this.lastname&&this.phone&&n[\"a\"].post(\"/api/v1/updateUserDetail\",{firstName:this.firstname,lastName:this.lastname,userPhone:this.phone}).then(function(e){if(200===e.data.code){var t={avatarUrl:a.img,firstName:a.firstname,lastName:a.lastname};a.$store.dispatch(\"user_Personal_Info\",t);var r=JSON.parse(localStorage.getItem(\"user_info\"));r.firstName=a.firstname,r.lastName=a.lastname,localStorage.setItem(\"user_info\",i()(r)),a.showTip=!0}}).catch(function(){a.showETip=!0})}}},p=l,m=(t(\"503a\"),t(\"2877\")),d=Object(m[\"a\"])(p,r,s,!1,null,null,null);e[\"default\"]=d.exports},\"503a\":function(a,e,t){\"use strict\";var r=t(\"a53c\"),s=t.n(r);s.a},a53c:function(a,e,t){}}]);","extractedComments":[]}