{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4517bbc3\"],{\"050b\":function(t,e,n){\"use strict\";var o=n(\"6c4a\"),a=n.n(o);a.a},\"11e9\":function(t,e,n){var o=n(\"52a7\"),a=n(\"4630\"),r=n(\"6821\"),i=n(\"6a99\"),s=n(\"69a8\"),c=n(\"c69a\"),l=Object.getOwnPropertyDescriptor;e.f=n(\"9e1e\")?l:function(e,n){if(e=r(e),n=i(n,!0),c)try{return l(e,n)}catch(t){}if(s(e,n))return a(!o.f.call(e,n),e[n])}},\"469f\":function(t,e,n){n(\"6c1c\"),n(\"1654\"),t.exports=n(\"7d7b\")},\"5d73\":function(t,e,n){t.exports=n(\"469f\")},\"5dbc\":function(t,e,n){var o=n(\"d3f4\"),a=n(\"8b97\").set;t.exports=function(t,e,n){var r,i=e.constructor;return i!==n&&\"function\"==typeof i&&(r=i.prototype)!==n.prototype&&o(r)&&a&&a(t,r),t}},\"6c4a\":function(t,e,n){},\"7d7b\":function(t,e,n){var o=n(\"e4ae\"),a=n(\"7cd6\");t.exports=n(\"584a\").getIterator=function(t){var e=a(t);if(\"function\"!=typeof e)throw TypeError(t+\" is not iterable!\");return o(e.call(t))}},\"842b\":function(t,e,n){},\"8b97\":function(t,e,n){var o=n(\"d3f4\"),a=n(\"cb7c\"),r=function(t,e){if(a(t),!o(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,e,o){try{o=n(\"9b43\")(Function.call,n(\"11e9\").f(Object.prototype,\"__proto__\").set,2),o(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:r}},9093:function(t,e,n){var o=n(\"ce10\"),a=n(\"e11e\").concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return o(t,a)}},aa77:function(t,e,n){var o=n(\"5ca1\"),a=n(\"be13\"),r=n(\"79e5\"),i=n(\"fdef\"),s=\"[\"+i+\"]\",c=\"​\",l=RegExp(\"^\"+s+s+\"*\"),d=RegExp(s+s+\"*$\"),p=function(t,e,n){var a={},s=r(function(){return!!i[t]()||c[t]()!=c}),l=a[t]=s?e(u):i[t];n&&(a[n]=l),o(o.P+o.F*s,\"String\",a)},u=p.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(l,\"\")),2&e&&(t=t.replace(d,\"\")),t};t.exports=p},b92c:function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"draw-map\"},[n(\"b-row\",[n(\"b-col\",{attrs:{sm:\"6\"}},[n(\"b-form-group\",[n(\"label\",[t._v(t._s(t.$t(\"m.lots.name\")))]),n(\"b-form-input\",{attrs:{type:\"text\"},model:{value:t.parkingName,callback:function(e){t.parkingName=e},expression:\"parkingName\"}})],1),n(\"b-form-group\",[n(\"label\",[t._v(t._s(t.$t(\"m.common.contact_person\")))]),n(\"b-form-input\",{attrs:{type:\"text\",maxlength:\"30\"},on:{change:function(e){return t.changeStatus()}},model:{value:t.user,callback:function(e){t.user=e},expression:\"user\"}})],1),n(\"b-form-group\",[n(\"label\",[t._v(t._s(t.$t(\"m.common.contact_phone\")))]),n(\"b-form-input\",{attrs:{type:\"number\",maxlength:\"15\"},on:{change:function(e){return t.changeStatus()}},model:{value:t.phone,callback:function(e){t.phone=e},expression:\"phone\"}})],1),n(\"b-form-group\",[n(\"label\",[t._v(t._s(t.$t(\"m.lots.address\")))]),n(\"b-input-group\",[n(\"b-form-input\",{attrs:{type:\"text\",maxlength:\"100\"},model:{value:t.address,callback:function(e){t.address=e},expression:\"address\"}}),n(\"b-input-group-append\",[n(\"b-button\",{attrs:{variant:\"secondary\",id:\"locate\"},on:{click:function(e){return t.getLocate()}}},[t._v(t._s(t.$t(\"m.lots.b_locate\")))])],1)],1)],1),n(\"b-form-group\",[n(\"label\",[t._v(t._s(t.$t(\"m.common.address_des\")))]),n(\"b-form-input\",{attrs:{type:\"text\",maxlength:\"200\"},on:{change:function(e){return t.changeStatus()}},model:{value:t.parkingDes,callback:function(e){t.parkingDes=e},expression:\"parkingDes\"}})],1)],1),n(\"b-col\",{attrs:{sm:\"6\"}},[n(\"p\",[t._v(t._s(t.$t(\"m.lots.add_lot_p\")))]),n(\"div\",{attrs:{id:\"map-canvas\"}})])],1),n(\"model\",{attrs:{show:t.show,title:t.$t(\"m.tip.warn\"),content:t.content,buttonText:t.btnGroup},on:{closeRemindBox:t.hideTip}}),n(\"b-button\",{staticClass:\"btn btn-primary submit\",staticStyle:{\"margin-top\":\"12px\",color:\"#ffffff\"},attrs:{disabled:t.disable},on:{click:function(e){return t.submitData()}}},[t._v(t._s(t.$t(\"m.common.submit\")))])],1)},a=[],r=(n(\"a481\"),n(\"5d73\")),i=n.n(r),s=(n(\"c5f6\"),n(\"28a5\"),n(\"3159\")),c=n(\"4287\"),l=n.n(c),d=n(\"ebd9\"),p={name:\"drawMap\",props:[\"data\"],components:{model:d[\"a\"]},watch:{data:function(t){this.parkingName=t.parkingName,this.address=t.address,this.areaCoord=t.areaCoordinate,this.centerCoordinate=t.centerCoordinate,this.user=t.parkingContactName,this.phone=t.parkingContactPhone,this.parkingDes=t.parkingAddressDesc,this.initEdit()},parkingName:function(t){this.parkingName=this.trim(t),this.checkInput()},address:function(t){this.address=this.trim(t),this.checkInput()}},data:function(){return{user:\"\",parkingDes:\"\",phone:\"\",disable:!0,mapObj:null,infoWindow:null,geocoders:null,drawManager:null,polygonCompete:null,locations:[],parkingName:\"\",centerCoordinate:null,address:\"\",show:!1,content:\"\",btnGroup:{btnSecond:this.$t(\"m.tip.b_ok\")},areaCoord:null,bermudaTriangle:null,isMapChanged:!1}},mounted:function(){this.$route.params.id||this.initialize()},methods:{initEdit:function t(){this.disable=!1;var e=this.centerCoordinate.split(\" \");this.mapObj=new l.a.maps.Map(document.getElementById(\"map-canvas\"),{zoom:15,center:{lat:Number(e[1]),lng:Number(e[0])}});var n=document.createElement(\"div\");this.centerControl(n),n.index=1,this.mapObj.controls[l.a.maps.ControlPosition.TOP_CENTER].push(n),this.geocoders=new l.a.maps.Geocoder;var o=[],a=!0,r=!1,s=void 0;try{for(var c,d=i()(this.areaCoord);!(a=(c=d.next()).done);a=!0){var p=c.value;o.push({lat:Number(p.split(\",\")[1]),lng:Number(p.split(\",\")[0])})}}catch(t){r=!0,s=t}finally{try{a||null==d.return||d.return()}finally{if(r)throw s}}this.bermudaTriangle=new l.a.maps.Polygon({paths:o,strokeColor:\"#FF0000\",strokeOpacity:.8,strokeWeight:2,fillColor:\"#FF0000\",fillOpacity:.35}),this.bermudaTriangle.setMap(this.mapObj),this.initDrawManager()},hideTip:function(){this.show=!1,this.disable=!0},changeStatus:function(){this.checkInput()},centerControl:function(t){var e=this,n=document.createElement(\"div\");n.style.backgroundColor=\"#fff\",n.style.border=\"2px solid #fff\",n.style.borderRadius=\"2px\",n.style.boxShadow=\"0 2px 6px rgba(0,0,0,.3)\",n.style.cursor=\"pointer\",n.style.marginTop=\"10px\",n.style.marginBottom=\"22px\",n.style.textAlign=\"center\",n.title=\"Click to draw a geo fence\",t.appendChild(n);var o=document.createElement(\"div\");o.style.color=\"rgb(25,25,25)\",o.style.fontFamily=\"Roboto,Arial,sans-serif\",o.style.fontSize=\"16px\",o.style.lineHeight=\"38px\",o.style.paddingLeft=\"5px\",o.style.paddingRight=\"5px\",o.innerHTML=this.$t(\"m.map.start_draw\"),n.appendChild(o);var a=document.createElement(\"div\");a.style.display=\"none\",a.style.backgroundColor=\"#fff\",a.style.border=\"2px solid #fff\",a.style.borderRadius=\"2px\",a.style.boxShadow=\"0 2px 6px rgba(0,0,0,.3)\",a.style.cursor=\"pointer\",a.style.marginTop=\"10px\",a.style.marginBottom=\"22px\",a.style.textAlign=\"center\",a.title=\"Click to redraw the geo fence\",t.appendChild(a);var r=document.createElement(\"div\");r.style.color=\"rgb(25,25,25)\",r.style.fontFamily=\"Roboto,Arial,sans-serif\",r.style.fontSize=\"16px\",r.style.lineHeight=\"38px\",r.style.paddingLeft=\"5px\",r.style.paddingRight=\"5px\",r.innerHTML=this.$t(\"m.map.redraw\"),a.appendChild(r);var i=new l.a.maps.Polyline({strokeColor:\"#0000FF\",strokeOpacity:.8,strokeWeight:2});i.setMap(this.mapObj),n.addEventListener(\"click\",function(){n.style.display=\"none\",a.style.display=\"block\",e.drawManager.setOptions({drawingMode:\"polygon\",fillColor:\"#fff\"}),e.$route.params.id&&e.bermudaTriangle.setMap(null)}),a.addEventListener(\"click\",function(){e.polygonCompete.setMap(null),e.drawManager.setOptions({drawingMode:\"polygon\",fillColor:\"#fff\"})})},initDrawManager:function(){var t=this;this.drawManager=new l.a.maps.drawing.DrawingManager({drawingMode:\"\",drawingControl:!1,circleOptions:{fillColor:\"#ffff00\",fillOpacity:1,strokeWeight:5,clickable:!1,editable:!0,zIndex:1},polygonOptions:{strokeColor:\"#FF0000\",strokeOpacity:.8,strokeWeight:2,fillColor:\"#FF0000\",fillOpacity:.35,editable:!0}}),this.drawManager.setMap(this.mapObj),l.a.maps.event.addListener(this.drawManager,\"polygoncomplete\",function(e){t.polygonCompete=e,t.drawManager.setOptions({drawingMode:\"\"})}),l.a.maps.event.addListener(this.drawManager,\"polygoncomplete\",function(e){var n=e.getPath().getArray();t.showLonLat(n)})},initialize:function(){var t=this,e={zoom:15};this.mapObj=new l.a.maps.Map(document.getElementById(\"map-canvas\"),e),this.infoWindow=new l.a.maps.InfoWindow,navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};t.infoWindow.setPosition(n),t.infoWindow.setContent(\"Current Location\"),t.mapObj.setCenter(n);var o=document.createElement(\"div\");t.centerControl(o),o.index=1,t.geocoders=new l.a.maps.Geocoder,t.mapObj.controls[l.a.maps.ControlPosition.TOP_CENTER].push(o)},function(){this.handleError(!0)}):this.handleError(!1),this.initDrawManager()},handleError:function(t){this.infoWindow.setPosition(this.mapObj.getCenter()),this.infoWindow.setContent(t?\"Error: The Geolocation service failed.\":\"Error: Your browser doesn't support geolocation.\"),this.infoWindow.open(this.mapObj)},showTip:function(t){this.show=!0,this.content=this.$t(\"m.map.warn_repeat\",{data:t})},getLocate:function(){var t=this;this.checkInput(),this.address&&this.geocoders.geocode({address:this.address},function(e,n){\"OK\"==n?(t.mapObj.setCenter(e[0].geometry.location),new l.a.maps.Marker({map:t.mapObj,position:e[0].geometry.location,icon:{url:\"https://cdn.shopify.com/s/files/1/0703/1149/files/Location.png?807016\",scaledSize:new l.a.maps.Size(30,30)}})):console.log(\"Geocode was not successful for the following reason: \"+n)})},trim:function(t){return t.replace(/(^\\s*)|(\\s*$)/g,\"\")},checkInput:function(){this.parkingName&&this.user&&this.phone&&this.address&&this.areaCoord&&0!=this.areaCoord.length?this.disable=!1:this.disable=!0},showLonLat:function(t){var e=this,n=[];t.map(function(t){n.push(t)}),this.areaCoord=n,n[t.length]=t[0],s[\"a\"].post(\"/api/v1/lot/isRepeated\",{parkingName:this.parkingName,address:this.address,areaCoordinate:n,id:this.$route.params.id,lotType:1}).then(function(t){null!=t.data.data?(e.isMapChanged=!0,e.showTip(t.data.data)):(e.checkInput(),e.isMapChanged=!0)})},submitData:function(){var t=this;this.checkInput();var e=\"\";e=this.data?\"/api/v1/lot/update\":\"/api/v1/lot/insert\",s[\"a\"].post(e,{parkingName:this.parkingName,address:this.address,areaCoordinate:!0===this.isMapChanged?this.areaCoord:[],id:this.$route.params.id,parkingAddressDesc:this.parkingDes,parkingContactName:this.user,parkingContactPhone:this.phone}).then(function(e){200==e.data.code?t.$router.push(\"/inventory/lots\"):(t.show=!0,t.content=\"Lot Name: <strong>\".concat(e.data.data,\"</strong> Existed.\"))})}}},u=p,f=(n(\"050b\"),n(\"2877\")),h=Object(f[\"a\"])(u,o,a,!1,null,null,null);e[\"default\"]=h.exports},c5f6:function(t,e,n){\"use strict\";var o=n(\"7726\"),a=n(\"69a8\"),r=n(\"2d95\"),i=n(\"5dbc\"),s=n(\"6a99\"),c=n(\"79e5\"),l=n(\"9093\").f,d=n(\"11e9\").f,p=n(\"86cc\").f,u=n(\"aa77\").trim,f=\"Number\",h=o[f],m=h,g=h.prototype,b=r(n(\"2aeb\")(g))==f,_=\"trim\"in String.prototype,y=function(t){var e=s(t,!1);if(\"string\"==typeof e&&e.length>2){e=_?e.trim():u(e,3);var n,o,a,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+e}for(var i,c=e.slice(2),l=0,d=c.length;l<d;l++)if(i=c.charCodeAt(l),i<48||i>a)return NaN;return parseInt(c,o)}}return+e};if(!h(\" 0o1\")||!h(\"0b1\")||h(\"+0x1\")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(b?c(function(){g.valueOf.call(n)}):r(n)!=f)?i(new m(y(e)),n,h):y(e)};for(var v,w=n(\"9e1e\")?l(m):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),C=0;w.length>C;C++)a(m,v=w[C])&&!a(h,v)&&p(h,v,d(m,v));h.prototype=g,g.constructor=h,n(\"2aba\")(o,f,h)}},cdb6:function(t,e,n){\"use strict\";var o=n(\"842b\"),a=n.n(o);a.a},ebd9:function(t,e,n){\"use strict\";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"transition\",{attrs:{name:\"fade\"}},[t.show?n(\"div\",{attrs:{id:\"popup-edit\"}},[n(\"div\",{staticClass:\"modal-dialog modal-md popup-content\"},[n(\"div\",{staticClass:\"modal-content\",attrs:{role:\"document\",id:\"__BVID__42___BV_modal_content_\",\"aria-labelledby\":\"__BVID__42___BV_modal_header_\",\"aria-describedby\":\"__BVID__42___BV_modal_body_\"}},[n(\"header\",{staticClass:\"modal-header\",attrs:{id:\"__BVID__42___BV_modal_header_\"}},[n(\"h5\",{staticClass:\"modal-title\"},[t._v(t._s(t.title))]),n(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"aria-label\":\"Close\"},on:{click:function(e){return t.closePopup()}}},[t._v(\"×\")])]),n(\"div\",{staticClass:\"modal-body\",attrs:{id:\"__BVID__42___BV_modal_body_\"}},[n(\"div\",[t._v(t._s(t.content))])]),n(\"footer\",{staticClass:\"modal-footer\",attrs:{id:\"__BVID__42___BV_modal_footer_\"}},[t.buttonText&&t.buttonText.btnFirst?n(\"button\",{staticClass:\"btn btn-secondary\",attrs:{type:\"button\"},on:{click:function(e){return t.closePopup()}}},[t._v(t._s(t.buttonText?t.buttonText.btnFirst:\"\")+\"\\n                  \")]):t._e(),t.buttonText&&t.buttonText.btnSecond?n(\"button\",{staticClass:\"btn btn-primary\",attrs:{type:\"button\"},on:{click:function(e){return t.closePopup(t.type=\"ok\",t.buttonText.userId)}}},[t._v(t._s(t.buttonText.btnSecond)+\"\\n                  \")]):t._e()])])]),n(\"div\",{staticClass:\"bg\",on:{click:function(e){return t.closePopup()}}})]):t._e()])},a=[],r={name:\"modal\",props:[\"show\",\"title\",\"content\",\"buttonText\"],methods:{closePopup:function(t,e){this.$emit(\"closeRemindBox\",t,e)}}},i=r,s=(n(\"cdb6\"),n(\"2877\")),c=Object(s[\"a\"])(i,o,a,!1,null,\"76acff4f\",null);e[\"a\"]=c.exports},fdef:function(t,e){t.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"}}]);","extractedComments":[]}