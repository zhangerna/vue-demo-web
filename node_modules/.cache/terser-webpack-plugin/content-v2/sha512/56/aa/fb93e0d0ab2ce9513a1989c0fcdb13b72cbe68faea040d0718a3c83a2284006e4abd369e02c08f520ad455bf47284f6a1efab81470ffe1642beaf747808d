{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"lots\"],{\"11e9\":function(t,e,a){var n=a(\"52a7\"),o=a(\"4630\"),i=a(\"6821\"),r=a(\"6a99\"),s=a(\"69a8\"),l=a(\"c69a\"),c=Object.getOwnPropertyDescriptor;e.f=a(\"9e1e\")?c:function(e,a){if(e=i(e),a=r(a,!0),l)try{return c(e,a)}catch(t){}if(s(e,a))return o(!n.f.call(e,a),e[a])}},\"1f47\":function(t,e,a){\"use strict\";var n=a(\"5e7d\"),o=a.n(n);o.a},4331:function(t,e,a){e=t.exports=a(\"24fb\")(!1),e.push([t.i,\"#map{height:50vh}\",\"\"])},\"469f\":function(t,e,a){a(\"6c1c\"),a(\"1654\"),t.exports=a(\"7d7b\")},\"52cb\":function(t,e,a){e=t.exports=a(\"24fb\")(!1),e.push([t.i,\".card{width:100%}.lots .card-header .add-lot{float:right}.lots td,.lots th{height:44px;line-height:44px}\",\"\"])},\"5d738\":function(t,e,a){t.exports=a(\"469f\")},\"5dbc\":function(t,e,a){var n=a(\"d3f4\"),o=a(\"8b97\").set;t.exports=function(t,e,a){var i,r=e.constructor;return r!==a&&\"function\"==typeof r&&(i=r.prototype)!==a.prototype&&n(i)&&o&&o(t,i),t}},\"5e7d\":function(t,e,a){var n=a(\"4331\");\"string\"===typeof n&&(n=[[t.i,n,\"\"]]),n.locals&&(t.exports=n.locals);var o=a(\"499e\").default;o(\"d52bd3f8\",n,!0,{sourceMap:!1,shadowMode:!1})},\"607c\":function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{attrs:{id:\"map\"}})},o=[],i=(a(\"28a5\"),a(\"c5f6\"),a(\"5d738\")),r=a.n(i),s=a(\"4287\"),l=a.n(s),c={name:\"googleMap\",props:[\"map\"],data:function(){return{mapInfo:null,mapObj:null,marker:null,polygon:null,markers:[]}},watch:{map:function(t){this.mapInfo=t,this.initMap()}},methods:{addMarker:function(t,e,a){var n=new l.a.maps.InfoWindow({content:a}),o=new l.a.maps.Marker({position:t,map:this.mapObj,animation:l.a.maps.Animation.DROP,title:e});this.markers.push(o),o.addListener(\"click\",function(){n.open(this.mapObj,o)})},initMap:function t(){var e=this,a=[],n=!0,o=!1,i=void 0;try{for(var s,c=r()(this.mapInfo[\"area\"]);!(n=(s=c.next()).done);n=!0){var u=s.value;a.push({lat:Number(u.split(\",\")[1]),lng:Number(u.split(\",\")[0])})}}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}this.mapObj=new l.a.maps.Map(document.getElementById(\"map\"),{zoom:15,center:{lng:this.mapInfo.lng,lat:this.mapInfo.lat},mapTypeId:l.a.maps.MapTypeId.SATELLITE}),this.mapInfo.showMult?this.mapInfo.vehicleInfo.map(function(t){var a={lat:t.lastLocationLat,lng:t.lastLocationLng},n=\"\".concat(t.year,\" \").concat(t.make,\" \").concat(t.model),o=\"<a href='/vehicle/detail/\".concat(t.vehicleId,\"'>\\n                        <img src=\\\"\").concat(t.photoPath,'\" width=\"40%\">\\n                        <h5 id=\"firstHeading\" class=\"firstHeading\">').concat(t.year,\" \").concat(t.make,\" \").concat(t.model,\"</h5>\\n                        </a>\");e.addMarker(a,n,o)}):this.marker=new l.a.maps.Marker({position:{lng:this.mapInfo.lng,lat:this.mapInfo.lat},map:this.mapObj,title:this.mapInfo.vehicleInfo}),this.polygon=new l.a.maps.Polygon({paths:a,strokeColor:\"#FF0000\",strokeOpacity:.8,strokeWeight:2,fillColor:\"#FF0000\",fillOpacity:.35}),this.polygon.setMap(this.mapObj),new l.a.maps.drawing.DrawingManager({drawingControl:!0,drawingControlOptions:{position:l.a.maps.ControlPosition.TOP_CENTER,drawingModes:[l.a.maps.drawing.OverlayType.POLYGON]},circleOptions:{fillColor:\"#ffff00\",fillOpacity:1,strokeWeight:5,clickable:!1,editable:!0,zIndex:1},polygonOptions:{strokeColor:\"#FF0000\",strokeOpacity:.8,strokeWeight:2,fillColor:\"#FF0000\",fillOpacity:.35,editable:!0}})}}},u=c,p=(a(\"1f47\"),a(\"2877\")),d=Object(p[\"a\"])(u,n,o,!1,null,null,null);e[\"a\"]=d.exports},\"62da\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"animated fadeIn lots\"},[a(\"b-card\",[a(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[a(\"i\",{staticClass:\"nav-icon cui-account-logout\"}),t._v(\"\\n            Lots\\n            \"),a(\"button\",{staticClass:\"btn btn-sm btn-primary add-lot\",on:{click:function(e){return t.$router.push(\"/lots/add\")}}},[a(\"i\",{staticClass:\"fa fa-plus-square\"}),t._v(\"\\n                Add a New Lot\\n            \")])]),a(\"div\",{staticClass:\"content\"},[a(\"b-table\",{staticClass:\"mb-0 table-outline\",attrs:{small:\"\",striped:\"\",responsive:\"sm\",items:t.table,hover:\"\",fields:t.tableFields},scopedSlots:t._u([{key:\"vehicles\",fn:function(e){return[a(\"span\",{staticClass:\"btn btn-sm btn-block btn-outline-success\",on:{click:function(a){return t.linkVehicles(e.item.id)}}},[t._v(t._s(e.item.vehicles))])]}},{key:\"battery\",fn:function(e){return[a(\"span\",{staticClass:\"btn btn-sm btn-block btn-outline-danger\",on:{click:function(a){return t.linkBattery(e.item.id)}}},[t._v(t._s(e.item.battery))])]}},{key:\"offline\",fn:function(e){return[a(\"span\",{staticClass:\"btn btn-sm btn-block btn-outline-secondary\",on:{click:function(a){return t.linkSecondary(e.item.id)}}},[t._v(t._s(e.item.offline))])]}},{key:\"actions\",fn:function(e){return[a(\"button\",{staticClass:\"btn btn-sm btn-success\"},[a(\"i\",{staticClass:\"cui icon-map\",on:{click:function(a){return t.mapInfo(e.item.id)}}})]),a(\"button\",{staticClass:\"btn btn-sm btn-info  m-1\",on:{click:function(a){return t.$router.push(\"/lots/edit/\"+e.item.id)}}},[a(\"i\",{staticClass:\"fa fa-edit\"})]),a(\"button\",{staticClass:\"btn btn-sm btn-danger btn-del\",on:{click:function(a){return t.delId(e.item.id)}}},[a(\"i\",{staticClass:\"cui cui-trash\"})])]}}])})],1)]),t.total>0?a(\"b-row\",[a(\"b-col\",{attrs:{sm:\"4\",lg:\"4\"}},[a(\"div\",{staticClass:\"dataTables_info\",attrs:{id:\"DataTables0\",role:\"status\",\"aria-live\":\"polite\"}},[t._v(\"\\n                Showing \"+t._s(10*(t.currentPage-1)+1)+\" to \"+t._s(t.currentPage===t.totalPages?t.total:10*t.currentPage)+\" of \"+t._s(t.total)+\" entries\\n            \")])]),a(\"b-col\",{attrs:{sm:\"8\",lg:\"8\"}},[a(\"b-pagination\",{attrs:{align:\"right\",\"total-rows\":t.total,\"per-page\":t.pageSize},on:{input:function(e){return t.changePage(t.currentPage)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:\"currentPage\"}})],1)],1):t._e(),a(\"b-modal\",{ref:\"my-modal\",attrs:{title:t.tipTitle},on:{ok:function(e){t.showMap=!1}},model:{value:t.showMap,callback:function(e){t.showMap=e},expression:\"showMap\"}},[a(\"google-map\",{attrs:{map:t.map}})],1),a(\"model\",{attrs:{show:t.show,title:\"Warn\",content:\"Are you sure to delete the lot?\",buttonText:t.btnGroup},on:{closeRemindBox:t.hideTip}})],1)},o=[],i=(a(\"c5f6\"),a(\"28a5\"),a(\"3159\")),r=a(\"607c\"),s=a(\"ebd9\"),l={name:\"lots\",inject:[\"reload\"],components:{googleMap:r[\"a\"],model:s[\"a\"]},data:function(){return{currentPage:1,pageSize:10,table:null,curDel:null,show:!1,btnGroup:{btnFirst:\"Cancel\",btnSecond:\"OK\"},tableFields:{name:{label:\"Lot Name\",class:\"text-center\"},address:{label:\"Lot Address\",class:\"text-center\"},dealership:{label:\"Dealership\",class:\"text-center\"},vehicles:{label:\"All Vehicles\",class:\"text-center\"},battery:{label:\"Low Battery\",class:\"text-center\"},offline:{label:\"Offline\",class:\"text-center\"},actions:{label:\"Actions\",class:\"text-center\"}},total:0,totalPages:0,tipTitle:\"\",showMap:!1,map:{}}},mounted:function(){this.initData(this.currentPage)},methods:{initData:function(t){var e=this;i[\"a\"].get(\"/api/v1/lot/page?pageNo=\".concat(t)).then(function(t){e.currentPage=t.data.data.pageNo,e.total=t.data.data.rowCount,e.filterData(t.data.data),e.totalPages=t.data.data.totalPages})},filterData:function(t){this.table=t.datas.map(function(t){return{name:t.parkingName,address:t.address,dealership:t.storeName,vehicles:t.vehicleFilter.num,battery:t.lowBatteryFilter.num,offline:t.offLineFilter.num,id:t.id}})},delId:function(t){this.curDel=t,this.show=!0},hideTip:function(t){var e=this;t&&i[\"a\"].post(\"/api/v1/lot/delete\",{id:this.curDel}).then(function(t){e.reload()}),this.show=!1},linkVehicles:function(t){var e='[{\"key\":\"parking\",\"value\":[\"'.concat(t,'\"]}]');this.$router.push({name:\"vehicle\",query:{filters:e}})},linkBattery:function(t){this.$router.push({name:\"vehicle\",query:{filters:'[{\"key\":\"parking\",\"value\":[\"'.concat(t,'\"]},{\"key\":\"battery\",\"value\":[\"1\"]}]')}})},linkSecondary:function(t){this.$router.push({name:\"vehicle\",query:{filters:'[{\"key\":\"parking\",\"value\":[\"'.concat(t,'\"]},{\"key\":\"online\",\"value\":[\"2\"]}]')}})},prevPage:function(){this.initData(this.currentPage>1?this.currentPage-1:1)},nextPage:function(){this.initData(this.currentPage>=this.pageCount?this.currentPage:this.currentPage+1)},changePage:function(t){this.initData(t)},getVehicleList:function(t,e,a,n){var o=this;i[\"a\"].get(\"/api/v1/inlotvehiclelist\",{params:{parkingId:t}}).then(function(t){var i=a.split(\" \");o.map={lat:Number(i[1]),lng:Number(i[0]),area:e,vehicleInfo:t.data.data,showMult:!0},o.tipTitle=n,o.showMap=!0})},mapInfo:function(t){var e=this;i[\"a\"].get(\"/api/v1/lot/detail\",{params:{id:t}}).then(function(a){var n=a.data.data;e.getVehicleList(t,n.areaCoordinate,n.centerCoordinate,n.parkingName)})}}},c=l,u=(a(\"7c77\"),a(\"2877\")),p=Object(u[\"a\"])(c,n,o,!1,null,null,null);e[\"default\"]=p.exports},\"679e\":function(t,e,a){var n=a(\"8c50\");\"string\"===typeof n&&(n=[[t.i,n,\"\"]]),n.locals&&(t.exports=n.locals);var o=a(\"499e\").default;o(\"6b677c8a\",n,!0,{sourceMap:!1,shadowMode:!1})},\"7c70\":function(t,e,a){var n=a(\"52cb\");\"string\"===typeof n&&(n=[[t.i,n,\"\"]]),n.locals&&(t.exports=n.locals);var o=a(\"499e\").default;o(\"625319b9\",n,!0,{sourceMap:!1,shadowMode:!1})},\"7c77\":function(t,e,a){\"use strict\";var n=a(\"7c70\"),o=a.n(n);o.a},\"7d7b\":function(t,e,a){var n=a(\"e4ae\"),o=a(\"7cd6\");t.exports=a(\"584a\").getIterator=function(t){var e=o(t);if(\"function\"!=typeof e)throw TypeError(t+\" is not iterable!\");return n(e.call(t))}},\"8b97\":function(t,e,a){var n=a(\"d3f4\"),o=a(\"cb7c\"),i=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,e,n){try{n=a(\"9b43\")(Function.call,a(\"11e9\").f(Object.prototype,\"__proto__\").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:i}},\"8c50\":function(t,e,a){e=t.exports=a(\"24fb\")(!1),e.push([t.i,\".mo-module .modal-footer button.btn-secondary[data-v-36f4ae4e]{display:none}.fade-enter[data-v-36f4ae4e]{opacity:0}.fade-enter-active[data-v-36f4ae4e]{-webkit-transition:opacity .3s;transition:opacity .3s}.fade-leave-active[data-v-36f4ae4e]{-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}#popup-edit[data-v-36f4ae4e]{width:100%;height:100%;position:fixed;left:0;top:0;z-index:2222}#popup-edit .popup-content[data-v-36f4ae4e]{width:100%;position:fixed;z-index:10;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%;top:25%}#popup-edit .bg[data-v-36f4ae4e]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(10,53,68,.5);z-index:8}\",\"\"])},9093:function(t,e,a){var n=a(\"ce10\"),o=a(\"e11e\").concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},\"976a\":function(t,e,a){\"use strict\";var n=a(\"679e\"),o=a.n(n);o.a},aa77:function(t,e,a){var n=a(\"5ca1\"),o=a(\"be13\"),i=a(\"79e5\"),r=a(\"fdef\"),s=\"[\"+r+\"]\",l=\"​\",c=RegExp(\"^\"+s+s+\"*\"),u=RegExp(s+s+\"*$\"),p=function(t,e,a){var o={},s=i(function(){return!!r[t]()||l[t]()!=l}),c=o[t]=s?e(d):r[t];a&&(o[a]=c),n(n.P+n.F*s,\"String\",o)},d=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,\"\")),2&e&&(t=t.replace(u,\"\")),t};t.exports=p},c5f6:function(t,e,a){\"use strict\";var n=a(\"7726\"),o=a(\"69a8\"),i=a(\"2d95\"),r=a(\"5dbc\"),s=a(\"6a99\"),l=a(\"79e5\"),c=a(\"9093\").f,u=a(\"11e9\").f,p=a(\"86cc\").f,d=a(\"aa77\").trim,f=\"Number\",h=n[f],m=h,b=h.prototype,g=i(a(\"2aeb\")(b))==f,_=\"trim\"in String.prototype,v=function(t){var e=s(t,!1);if(\"string\"==typeof e&&e.length>2){e=_?e.trim():d(e,3);var a,n,o,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var r,l=e.slice(2),c=0,u=l.length;c<u;c++)if(r=l.charCodeAt(c),r<48||r>o)return NaN;return parseInt(l,n)}}return+e};if(!h(\" 0o1\")||!h(\"0b1\")||h(\"+0x1\")){h=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof h&&(g?l(function(){b.valueOf.call(a)}):i(a)!=f)?r(new m(v(e)),a,h):v(e)};for(var y,k=a(\"9e1e\")?c(m):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),w=0;k.length>w;w++)o(m,y=k[w])&&!o(h,y)&&p(h,y,u(m,y));h.prototype=b,b.constructor=h,a(\"2aba\")(n,f,h)}},ebd9:function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"transition\",{attrs:{name:\"fade\"}},[t.show?a(\"div\",{attrs:{id:\"popup-edit\"}},[a(\"div\",{staticClass:\"modal-dialog modal-md popup-content\"},[a(\"div\",{staticClass:\"modal-content\",attrs:{role:\"document\",id:\"__BVID__42___BV_modal_content_\",\"aria-labelledby\":\"__BVID__42___BV_modal_header_\",\"aria-describedby\":\"__BVID__42___BV_modal_body_\"}},[a(\"header\",{staticClass:\"modal-header\",attrs:{id:\"__BVID__42___BV_modal_header_\"}},[a(\"h5\",{staticClass:\"modal-title\"},[t._v(t._s(t.title))]),a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"aria-label\":\"Close\"},on:{click:function(e){return t.closePopup()}}},[t._v(\"×\")])]),a(\"div\",{staticClass:\"modal-body\",attrs:{id:\"__BVID__42___BV_modal_body_\"}},[a(\"div\",[t._v(t._s(t.content))])]),a(\"footer\",{staticClass:\"modal-footer\",attrs:{id:\"__BVID__42___BV_modal_footer_\"}},[t.buttonText.btnFirst?a(\"button\",{staticClass:\"btn btn-secondary\",attrs:{type:\"button\"},on:{click:function(e){return t.closePopup()}}},[t._v(t._s(t.buttonText.btnFirst)+\"\\n                  \")]):t._e(),a(\"button\",{staticClass:\"btn btn-primary\",attrs:{type:\"button\"},on:{click:function(e){return t.closePopup(t.type=\"ok\",t.buttonText.userId)}}},[t._v(t._s(t.buttonText.btnSecond)+\"\\n                  \")])])])]),a(\"div\",{staticClass:\"bg\",on:{click:function(e){return t.closePopup()}}})]):t._e()])},o=[],i={name:\"modal\",props:[\"show\",\"title\",\"content\",\"buttonText\"],methods:{closePopup:function(t,e){this.$emit(\"closeRemindBox\",t,e)}}},r=i,s=(a(\"976a\"),a(\"2877\")),l=Object(s[\"a\"])(r,n,o,!1,null,\"36f4ae4e\",null);e[\"a\"]=l.exports},fdef:function(t,e){t.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"}}]);","extractedComments":[]}