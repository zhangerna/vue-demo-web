{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"admin-invite\"],{1834:function(t,s,e){\"use strict\";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"animated fadeIn\"},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-lg-12\"},[e(\"div\",{staticClass:\"card\"},[e(\"div\",{staticClass:\"card-header fa fa-plus-square-o\"},[t._v(\" \"+t._s(t.$t(\"m.admin.add_user\")))]),t.submitSuccess?t._e():e(\"div\",{staticClass:\"card-body\"},[e(\"div\",{staticClass:\"pb-3 text-secondary\"},[t._v(t._s(t.$t(\"m.admin.invite_p\"))+\"\\n            \"),e(\"strong\",[e(\"span\",{attrs:{id:\"storeName\"}},[t._v(t._s(t.storeName))])])]),e(\"div\",{staticClass:\"pb-3\",staticStyle:{\"font-size\":\"12px\"}},[t._v(t._s(t.$t(\"m.admin.send_content\"))+\" \")]),e(\"div\",{staticClass:\"form-input\"},t._l(t.emails,function(s,n){return e(\"div\",{key:n,staticClass:\"form-group col-md-6\"},[e(\"b-input-group\",{staticClass:\"mt-3\"},[e(\"b-input-group-text\",{attrs:{slot:\"prepend\"},slot:\"prepend\"},[e(\"i\",{staticClass:\"fa fa-envelope\"})]),e(\"b-form-input\",{attrs:{type:\"email\"},on:{change:function(e){return t.verifyEmail(s.name)}},model:{value:s.name,callback:function(e){t.$set(s,\"name\",e)},expression:\"item.name\"}})],1)],1)}),0),e(\"div\",{staticClass:\"form-group col-md-8\",staticStyle:{\"margin-top\":\"-48px\",\"margin-left\":\"48%\"},attrs:{id:\"plusUserDiv\"}},[e(\"div\",{staticClass:\"input-group-append col-md-4\",on:{click:t.addInputBox}},[t._m(0)])]),e(\"div\",{staticClass:\"form-group form-actions col-6\"},[e(\"b-button\",{attrs:{variant:\"success\",disabled:t.btnActive},on:{click:t.getAllEmails}},[t._v(t._s(t.$t(\"m.common.submit\")))])],1)]),t.submitSuccess?e(\"div\",{staticClass:\"card-body\"},[e(\"div\",{staticClass:\"row justify-content-center align-items-center\",attrs:{id:\"success_body\"}},[e(\"div\",{staticClass:\"col-md-8 col-lg-6\"},[e(\"div\",{staticClass:\" mx-4\"},[e(\"div\",{staticClass:\" px-4 align-items-center text-center\"},[t._m(1),e(\"p\",{staticClass:\"text-muted\"},[t._v(t._s(t.$t(\"m.add_user.tip1\")))]),e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-6\"},[e(\"button\",{staticClass:\"btn btn-block btn-outline-primary\",attrs:{type:\"button\"},on:{click:function(s){return t.$router.push(\"/index\")}}},[t._v(\"\\n                        \"+t._s(t.$t(\"m.dashboard.dashboard\"))+\"\\n                      \")])]),e(\"div\",{staticClass:\"col-6\"},[e(\"button\",{staticClass:\"btn btn-sm btn-block btn-outline-primary\",attrs:{type:\"button\"},on:{click:t.continueInvite}},[t._v(\"\\n                        \"+t._s(t.$t(\"m.vehicle_bind.continue\"))+\"\\n                      \")])])])])])])])]):t._e()])]),e(\"Alert\",{attrs:{buttonText:t.showAlerts.buttonText,show:t.showAlerts.show,title:t.showAlerts.title,content:t.showAlerts.content},on:{closeRemindBox:t.closeBox}})],1)])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"span\",{staticClass:\"input-group-text\",attrs:{id:\"plusUserBtn\"}},[e(\"i\",{staticClass:\"fa fa-plus\"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"p\",{staticStyle:{\"font-size\":\"144px\"}},[e(\"i\",{staticClass:\"cui cui-check\"})])}],a=(e(\"7f7f\"),e(\"3159\")),o=e(\"ebd9\"),c={name:\"adminInvite\",components:{Alert:o[\"a\"]},data:function(){return{emails:[{name:\"\"},{name:\"\"}],btnActive:!0,submitSuccess:!1,showAlerts:{title:\"\",content:\"\",show:!1,buttonText:\"\"},storeName:\"\"}},mounted:function(){var t=this;a[\"a\"].post(\"/api/v1/user/store\").then(function(s){t.storeName=s.data.data.storeName})},methods:{addInputBox:function(){this.emails.push({name:\"\"})},getAllEmails:function(){var t=this,s=[],e=\"/api/v1/inviteUser\";this.emails.map(function(t,e){t.name.length&&s.push(t.name)}),a[\"a\"].post(e,{emails:s.join(\",\")}).then(function(s){200===s.data.code&&(t.submitSuccess=!t.submitSuccess)})},verifyEmail:function(t){var s=/^.*@\\w+(\\.\\w+)+/;if(s.test(t))this.btnActive=!1;else{var e={title:this.$t(\"m.tip.add_user_invite\"),show:!0,content:this.$t(\"m.tip.add_user_invalid_email\"),buttonText:{btnFirst:\"\",btnSecond:this.$t(\"m.tip.b_ok\"),userId:\"\"}};this.closeRemind(e)}},closeBox:function(){this.showAlerts.show=!this.showAlerts.show},continueInvite:function(){this.submitSuccess=!this.submitSuccess,this.btnActive=!this.btnActive,this.emails.map(function(t,s){t.name=\"\"})},closeRemind:function(t){this.showAlerts.show=t.show,this.showAlerts.title=t.title,this.showAlerts.content=t.content,this.showAlerts.buttonText=t.buttonText}}},l=c,r=(e(\"fb76\"),e(\"2877\")),u=Object(r[\"a\"])(l,n,i,!1,null,\"610759a0\",null);s[\"default\"]=u.exports},\"842b\":function(t,s,e){},cdb6:function(t,s,e){\"use strict\";var n=e(\"842b\"),i=e.n(n);i.a},ebd9:function(t,s,e){\"use strict\";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"transition\",{attrs:{name:\"fade\"}},[t.show?e(\"div\",{attrs:{id:\"popup-edit\"}},[e(\"div\",{staticClass:\"modal-dialog modal-md popup-content\"},[e(\"div\",{staticClass:\"modal-content\",attrs:{role:\"document\",id:\"__BVID__42___BV_modal_content_\",\"aria-labelledby\":\"__BVID__42___BV_modal_header_\",\"aria-describedby\":\"__BVID__42___BV_modal_body_\"}},[e(\"header\",{staticClass:\"modal-header\",attrs:{id:\"__BVID__42___BV_modal_header_\"}},[e(\"h5\",{staticClass:\"modal-title\"},[t._v(t._s(t.title))]),e(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"aria-label\":\"Close\"},on:{click:function(s){return t.closePopup()}}},[t._v(\"Ã—\")])]),e(\"div\",{staticClass:\"modal-body\",attrs:{id:\"__BVID__42___BV_modal_body_\"}},[e(\"div\",[t._v(t._s(t.content))])]),e(\"footer\",{staticClass:\"modal-footer\",attrs:{id:\"__BVID__42___BV_modal_footer_\"}},[t.buttonText&&t.buttonText.btnFirst?e(\"button\",{staticClass:\"btn btn-secondary\",attrs:{type:\"button\"},on:{click:function(s){return t.closePopup()}}},[t._v(t._s(t.buttonText?t.buttonText.btnFirst:\"\")+\"\\n                  \")]):t._e(),t.buttonText&&t.buttonText.btnSecond?e(\"button\",{staticClass:\"btn btn-primary\",attrs:{type:\"button\"},on:{click:function(s){return t.closePopup(t.type=\"ok\",t.buttonText.userId)}}},[t._v(t._s(t.buttonText.btnSecond)+\"\\n                  \")]):t._e()])])]),e(\"div\",{staticClass:\"bg\",on:{click:function(s){return t.closePopup()}}})]):t._e()])},i=[],a={name:\"modal\",props:[\"show\",\"title\",\"content\",\"buttonText\"],methods:{closePopup:function(t,s){this.$emit(\"closeRemindBox\",t,s)}}},o=a,c=(e(\"cdb6\"),e(\"2877\")),l=Object(c[\"a\"])(o,n,i,!1,null,\"76acff4f\",null);s[\"a\"]=l.exports},f4db:function(t,s,e){},fb76:function(t,s,e){\"use strict\";var n=e(\"f4db\"),i=e.n(n);i.a}}]);","extractedComments":[]}