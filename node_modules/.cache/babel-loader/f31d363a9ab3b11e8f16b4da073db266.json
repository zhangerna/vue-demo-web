{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/src/router/index.js","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/router/index.js","mtime":1576031701000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Promise from \"/Users/nonda/nonda/nonda-saas-web/node_modules/@babel/runtime-corejs2/core-js/promise\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/nonda/nonda/nonda-saas-web/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/Users/nonda/nonda/nonda-saas-web/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport store from '../store';\nimport httpclient from '@/utils/httpclient';\nimport dashboard from './dashboard';\nimport testRouter from './testDrive';\nimport inventory from './inventory';\nimport soldManager from './soldManager';\nimport admin from './admin';\nimport noLogin from './noLoginPage';\nimport profile from './profile';\nVue.use(Router);\n\nvar Dashboard = function Dashboard() {\n  return import(\n  /* webpackChunkName:'dashboard'*/\n  '@/views/dashboard/index');\n};\n\nvar router = new Router({\n  mode: 'history',\n  linkActiveClass: 'open active',\n  scrollBehavior: function scrollBehavior() {\n    return {\n      y: 0\n    };\n  },\n  routes: [{\n    path: '/',\n    redirect: '/index',\n    name: 'Home',\n    content: \"home\",\n    component: Dashboard,\n    children: [].concat(_toConsumableArray(dashboard), _toConsumableArray(inventory), _toConsumableArray(testRouter), _toConsumableArray(soldManager), _toConsumableArray(admin), _toConsumableArray(profile))\n  }].concat(_toConsumableArray(noLogin))\n});\nrouter.beforeEach(\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(to, from, next) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!store.getters.noLoginList.includes(to.name)) {\n              _context.next = 4;\n              break;\n            }\n\n            next();\n            _context.next = 7;\n            break;\n\n          case 4:\n            if (localStorage.getItem(\"user_info\")) {\n              store.dispatch(\"user_info\", JSON.parse(localStorage.getItem(\"user_info\")));\n            }\n\n            _context.next = 7;\n            return new _Promise(function (resolve, reject) {\n              httpclient.get(\"/api/v1/checklogin\", {}).then(function () {\n                next();\n                resolve();\n              }).catch(function (e) {\n                next('/login');\n                reject(e);\n              });\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.onError(function (error) {\n  if (/Loading chunk ([A-Za-z0-9_-])* failed/.test(error.message)) {\n    window.location.reload();\n  }\n});\nexport default router;",{"version":3,"sources":["/Users/nonda/nonda/nonda-saas-web/src/router/index.js"],"names":["Vue","Router","store","httpclient","dashboard","testRouter","inventory","soldManager","admin","noLogin","profile","use","Dashboard","router","mode","linkActiveClass","scrollBehavior","y","routes","path","redirect","name","content","component","children","beforeEach","to","from","next","getters","noLoginList","includes","localStorage","getItem","dispatch","JSON","parse","resolve","reject","get","then","catch","e","onError","error","test","message","window","location","reload"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEAV,GAAG,CAACW,GAAJ,CAAQV,MAAR;;AAEA,IAAMW,SAAS,GAAG,SAAZA,SAAY;AAAA,SAAM;AAAO;AAAiC,2BAAxC,CAAN;AAAA,CAAlB;;AAEA,IAAMC,MAAM,GAAI,IAAIZ,MAAJ,CAAY;AAC3Ba,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,eAAe,EAAE,aAFU;AAG3BC,EAAAA,cAAc,EAAE;AAAA,WAAO;AAACC,MAAAA,CAAC,EAAC;AAAH,KAAP;AAAA,GAHW;AAI3BC,EAAAA,MAAM,GACL;AACCC,IAAAA,IAAI,EAAE,GADP;AAECC,IAAAA,QAAQ,EAAE,QAFX;AAGCC,IAAAA,IAAI,EAAE,MAHP;AAICC,IAAAA,OAAO,EAAE,MAJV;AAKCC,IAAAA,SAAS,EAAEX,SALZ;AAMCY,IAAAA,QAAQ,+BACJpB,SADI,sBAEJE,SAFI,sBAGJD,UAHI,sBAIJE,WAJI,sBAKJC,KALI,sBAMJE,OANI;AANT,GADK,4BAgBFD,OAhBE;AAJqB,CAAZ,CAAhB;AAwBAI,MAAM,CAACY,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,iBACb1B,KAAK,CAAC2B,OAAN,CAAcC,WAAd,CAA0BC,QAA1B,CAAmCL,EAAE,CAACL,IAAtC,CADa;AAAA;AAAA;AAAA;;AAEhBO,YAAAA,IAAI;AAFY;AAAA;;AAAA;AAIhB,gBAAII,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAJ,EAAuC;AACtC/B,cAAAA,KAAK,CAACgC,QAAN,CAAe,WAAf,EAA4BC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAA5B;AACA;;AANe;AAAA,mBAOV,aAAY,UAACI,OAAD,EAAUC,MAAV,EAAqB;AACtCnC,cAAAA,UAAU,CAACoC,GAAX,CAAe,oBAAf,EAAqC,EAArC,EAAyCC,IAAzC,CAA8C,YAAM;AACnDZ,gBAAAA,IAAI;AACJS,gBAAAA,OAAO;AACP,eAHD,EAGGI,KAHH,CAGS,UAACC,CAAD,EAAO;AACfd,gBAAAA,IAAI,CAAC,QAAD,CAAJ;AACAU,gBAAAA,MAAM,CAACI,CAAD,CAAN;AACA,eAND;AAOA,aARK,CAPU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAoBA7B,MAAM,CAAC8B,OAAP,CAAe,UAAAC,KAAK,EAAI;AACvB,MAAI,wCAAwCC,IAAxC,CAA6CD,KAAK,CAACE,OAAnD,CAAJ,EAAiE;AAChEC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA;AACD,CAJD;AAMA,eAAepC,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from '../store'\nimport httpclient from '@/utils/httpclient'\nimport dashboard from './dashboard'\nimport testRouter from './testDrive'\nimport inventory from './inventory'\nimport soldManager from './soldManager'\nimport admin from './admin'\nimport noLogin from './noLoginPage'\nimport profile from './profile'\n\nVue.use(Router);\n\nconst Dashboard = () => import(/* webpackChunkName:'dashboard'*/'@/views/dashboard/index');\n\nconst router =  new Router ({\n\tmode: 'history',\n\tlinkActiveClass: 'open active',\n\tscrollBehavior: () => ({y:0}),\n\troutes: [\n\t\t{\n\t\t\tpath: '/',\n\t\t\tredirect: '/index',\n\t\t\tname: 'Home',\n\t\t\tcontent: \"home\",\n\t\t\tcomponent: Dashboard,\n\t\t\tchildren: [\n\t\t\t\t...dashboard,\n\t\t\t\t...inventory,\n\t\t\t\t...testRouter,\n\t\t\t\t...soldManager,\n\t\t\t\t...admin,\n\t\t\t\t...profile\n\t\t\t]\n\t\t},\n\t\t...noLogin\n\t]\n});\n\nrouter.beforeEach(async (to, from, next) => {\n\tif (store.getters.noLoginList.includes(to.name)) {\n\t\tnext();\n\t} else {\n\t\tif (localStorage.getItem(\"user_info\")) {\n\t\t\tstore.dispatch(\"user_info\", JSON.parse(localStorage.getItem(\"user_info\")));\n\t\t}\n\t\tawait new Promise((resolve, reject) => {\n\t\t\thttpclient.get(\"/api/v1/checklogin\", {}).then(() => {\n\t\t\t\tnext();\n\t\t\t\tresolve();\n\t\t\t}).catch((e) => {\n\t\t\t\tnext('/login');\n\t\t\t\treject(e)\n\t\t\t});\n\t\t});\n\n\t}\n});\n\nrouter.onError(error => {\n\tif (/Loading chunk ([A-Za-z0-9_-])* failed/.test(error.message)) {\n\t\twindow.location.reload()\n\t}\n});\n\nexport default router\n"]}]}