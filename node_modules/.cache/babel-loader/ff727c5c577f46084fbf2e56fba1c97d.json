{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/addVehicle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/addVehicle.vue","mtime":1574414921000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from \"@/utils/httpclient\";\nimport model from \"@/components/model\";\nexport default {\n  name: \"addVehicle\",\n  components: {\n    model: model\n  },\n  data: function data() {\n    return {\n      title: '',\n      content: '',\n      show: false,\n      showB: true,\n      vin: '',\n      vinIsVaild: false,\n      vinSuccess: false,\n      data: {},\n      year: '',\n      make: '',\n      alias: '',\n      trim: '',\n      engine: '',\n      price: '',\n      stock: '',\n      condition: '',\n      odometer: '',\n      model: '',\n      color: '',\n      date: '',\n      plate: '',\n      photo: '',\n      changedLanguage: null,\n      disabled: false,\n      currentTip: '',\n      curVehicleid: '',\n      conditionList: [{\n        c: this.$t('m.common.c_new'),\n        y: \"1\"\n      }, {\n        c: this.$t('m.common.c_used'),\n        y: \"3\"\n      }, {\n        c: this.$t('m.common.c_demo'),\n        y: \"2\"\n      }, {\n        c: this.$t('m.common.c_test'),\n        y: \"4\"\n      }]\n    };\n  },\n  mounted: function mounted() {\n    if (this.$i18n.locale === 'en-US') {\n      this.changedLanguage = \"English\";\n    } else {\n      this.changedLanguage = 'Chinese';\n    }\n  },\n  watch: {\n    vin: function vin(curVal) {\n      var _this = this;\n\n      if (curVal.length == 17) {\n        this.disabled = true;\n        httpClient.get('/api/v1/vehicle/detail/vin?vin=' + this.vin).then(function (response) {\n          var _mileage = null; //距离单位转换\n\n          if (response.data.data.odometer) {\n            if (_this.changedLanguage === 'English') {\n              _mileage = (response.data.data.odometer * 0.0006214).toFixed(0);\n            } else {\n              _mileage = (response.data.data.odometer / 1000).toFixed(0);\n            }\n          } else {\n            _mileage = 0;\n          }\n\n          _this.vinSuccess = true;\n          _this.vinIsVaild = false;\n          _this.showB = false;\n          _this.data = response.data.data;\n          _this.year = _this.data.year;\n          _this.make = _this.data.make;\n          _this.model = _this.data.model;\n          _this.alias = _this.data.alias;\n          _this.trim = _this.data.trim;\n          _this.engine = _this.data.engineType;\n          _this.price = _this.data.price;\n          _this.color = _this.data.color;\n          _this.date = _this.data.inventoryDays;\n          _this.stock = _this.data.stockNumber;\n          _this.condition = _this.data.vehicleTypeCode;\n          _this.odometer = _mileage;\n          _this.plate = _this.data.plate;\n          _this.photo = _this.data.photoPath;\n        }).catch(function () {\n          _this.vinIsVaild = false;\n          _this.vinSuccess = false;\n          _this.showB = false;\n        });\n      } else {\n        this.vinIsVaild = true;\n      }\n    }\n  },\n  methods: {\n    closeTip: function closeTip() {\n      if (this.currentTip == 'save') {\n        this.$router.push('/inventory/vehicle/detail/' + this.curVehicleid);\n      }\n\n      this.show = false;\n    },\n    savefile: function savefile(event) {\n      var _this2 = this;\n\n      var file = event.target.files;\n      var fb = new FormData();\n      fb.append(\"image\", file[0]);\n      httpClient.post('/api/v1/uploadFile', fb).then(function (response) {\n        if (response.data.code == 200) {\n          _this2.photo = response.data.data.path;\n          _this2.title = _this2.$t('m.tip.suc');\n          _this2.content = _this2.$t('m.tip.upload');\n          _this2.currentTip = '';\n          _this2.show = true;\n          _this2.showB = false;\n        }\n      }).catch(function (error) {\n        console.error(error);\n      });\n    },\n    saveData: function saveData() {\n      var _this3 = this;\n\n      var _mileage = null; //距离单位转换\n\n      if (this.odometer) {\n        if (this.changedLanguage === 'English') {\n          _mileage = (this.odometer * 1609.344).toFixed(0);\n        } else {\n          _mileage = (this.odometer * 1000).toFixed(0);\n        }\n      } else {\n        _mileage = 0;\n      }\n\n      httpClient.post('/api/v1/vehicle/insert/vehicle', {\n        vin: this.vin,\n        year: this.year,\n        make: this.make,\n        model: this.model,\n        alias: this.alias,\n        trim: this.trim,\n        engineType: this.engine,\n        color: this.color,\n        price: this.price,\n        stockNumber: this.stock,\n        inventoryDate: new Date(this.date).getTime(),\n        vehicleTypeCode: Number(this.condition),\n        currentMileage: _mileage,\n        plate: this.plate,\n        photoPath: this.photo\n      }).then(function (response) {\n        if (response.data.data.bindResult == true) {\n          _this3.curVehicleid = response.data.data.vehicleId;\n          _this3.title = _this3.$t('m.tip.suc');\n          _this3.content = _this3.$t('m.tip.save_succ');\n          _this3.currentTip = 'save';\n          _this3.show = true;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["addVehicle.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"animated fadeIn add-vehicle\">\n        <b-card>\n            <div slot=\"header\">\n                {{ $t('m.add_vehicle.new_add_vehicle') }}\n            </div>\n            <div class=\"content\">\n                <b-row>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.vin') }}</label>\n                            <b-form-input type=\"text\" :placeholder=\"$t('m.common.enter') + ' ' +  $t('m.common.vin') \" v-model=\"vin\" :class=\"vinIsVaild ? 'is-invalid' : ''\" :disabled=\"vinSuccess || disabled\" maxlength=\"17\"></b-form-input>\n                            <p v-show=\"vinIsVaild\" class=\"warn-vin\">{{ $t('m.common.vin3') + $t('m.vehicle_bind.invalid') }}</p>\n                            <p v-show=\"vinSuccess\" class=\"primary-vin\">{{ $t('m.common.vin3') + $t('m.vehicle_bind.valid') }}</p>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.year') }}</label>\n                            <b-form-input type=\"text\" v-model=\"year\" :placeholder=\"$t('m.common.enter') + $t('m.common.year')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.make') }}</label>\n                            <b-form-input type=\"text\" v-model=\"make\"  :placeholder=\"$t('m.common.enter') + $t('m.common.make')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <b-row>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.model') }}</label>\n                            <b-form-input type=\"text\" v-model=\"model\" :placeholder=\"$t('m.common.model')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.alias') }}</label>\n                            <b-form-input type=\"text\" v-model=\"alias\" :placeholder=\"$t('m.common.alias')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.trim') }}</label>\n                            <b-form-input type=\"text\" v-model=\"trim\" :placeholder=\"$t('m.common.enter') + $t('m.common.trim')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <b-row>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.engine') }}</label>\n                            <b-form-input type=\"text\" v-model=\"engine\" :placeholder=\"$t('m.common.enter') + $t('m.common.engine')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.color') }}</label>\n                            <b-form-input type=\"text\" v-model=\"color\" :placeholder=\"$t('m.common.enter') + $t('m.common.color')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group class=\"price-dorlar\">\n                            <label>{{ $t('m.common.price') }}</label>\n                            <b-input-group>\n                                <b-input-group-prepend>\n                                    <b-input-group-text style=\"color: #ffffff\">{{$t('m.common.moneyType')}}</b-input-group-text>\n                                </b-input-group-prepend>\n                                <b-form-input v-model=\"price\"  type=\"number\" :placeholder=\"$t('m.common.enter') + $t('m.common.price')\"></b-form-input>\n                            </b-input-group>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <b-row>\n\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.stock_num') }}</label>\n                            <b-form-input type=\"text\" v-model=\"stock\" :placeholder=\"$t('m.common.enter') + $t('m.common.stock_num')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.inv_date') }}</label>\n                            <b-form-input type=\"date\" v-model=\"date\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.cloud.vehicle_type') }}</label>\n                            <select class=\"form-control\" name=\"\" id=\"vehicletype\" v-model=\"condition\">\n                                <option v-for=\"(item, index) in conditionList\" :key=\"index\" :value=\"item.y\">{{item.c}}</option>\n                            </select>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <b-row>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.odometer') }}</label>\n                            <b-form-input type=\"text\" v-model=\"odometer\" :placeholder=\"$t('m.common.enter') + $t('m.common.c_mileage')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                    <b-col sm=\"4\">\n                        <b-form-group>\n                            <label>{{ $t('m.common.plate_num') }}</label>\n                            <b-form-input type=\"text\" v-model=\"plate\" :placeholder=\"$t('m.common.enter') + $t('m.common.plate_num')\"></b-form-input>\n                        </b-form-group>\n                    </b-col>\n                </b-row>\n                <div class=\"upload-group\">\n                    <label>{{ $t('m.common.upload_img') }}</label>\n                    <img v-show=\"photo\" :src=\"photo\" width=\"100%\">\n                    <div>\n                        <input type=\"file\" id=\"uploadAvatar\" @change=\"savefile($event)\" accept=\"image/jpeg,image/png,image/jpg\" ref=\"upload\">\n                    </div>\n                    <b-button class=\"btn btn-sm btn-info text-white\" :disabled=\"showB\" @click=\"saveData\">\n                        {{ $t('m.common.b_save') }}\n                    </b-button>\n                </div>\n            </div>\n        </b-card>\n        <model :title=\"title\"\n               :content=\"content\"\n               :show=\"show\"\n               :buttonText=\"{btnSecond: $t('m.tip.b_ok')}\"\n                @closeRemindBox=\"closeTip()\">\n        </model>\n    </div>\n</template>\n\n<style lang=\"scss\">\n    .add-vehicle {\n        select {\n            height: 35px!important;\n        }\n        .upload-group {\n            width: 30%;\n            margin: 0 auto;\n            button {\n                margin-top: 20px;\n            }\n\n        }\n        .warn-vin {\n            color: red;\n        }\n        .primary-vin {\n            color: #4dbd74;\n        }\n    }\n    .price-dorlar{\n        .input-group-text{\n            background:#515b65 ;\n        }\n    }\n</style>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import model from \"@/components/model\";\n    export default {\n        name: \"addVehicle\",\n        components: {\n            model\n        },\n        data() {\n            return {\n                title: '',\n                content: '',\n                show: false,\n                showB: true,\n                vin: '',\n                vinIsVaild: false,\n                vinSuccess: false,\n                data: {},\n                year: '',\n                make: '',\n                alias:'',\n                trim: '',\n                engine: '',\n                price: '',\n                stock: '',\n                condition: '',\n                odometer: '',\n                model: '',\n                color: '',\n                date: '',\n                plate: '',\n                photo: '',\n                changedLanguage:null,\n                disabled: false,\n                currentTip: '',\n                curVehicleid: '',\n                conditionList: [{c: this.$t('m.common.c_new'), y: \"1\"}, { c: this.$t('m.common.c_used'), y: \"3\"}, { c: this.$t('m.common.c_demo'), y: \"2\" },{ c: this.$t('m.common.c_test'), y: \"4\" }],\n            }\n        },\n        mounted() {\n            if (this.$i18n.locale === 'en-US') {\n                this.changedLanguage = \"English\";\n            } else {\n                this.changedLanguage = 'Chinese';\n            }\n        },\n        watch: {\n            vin(curVal) {\n                if (curVal.length == 17) {\n                    this.disabled = true;\n                    httpClient.get('/api/v1/vehicle/detail/vin?vin=' + this.vin).then(response => {\n                        let _mileage = null;//距离单位转换\n                        if(response.data.data.odometer){\n                            if(this.changedLanguage === 'English'){\n                                _mileage = ((response.data.data.odometer * 0.0006214).toFixed(0))\n                            }else{\n                                _mileage = ((response.data.data.odometer / 1000).toFixed(0))\n                            }\n                        }else{\n                            _mileage = 0\n                        }\n                        this.vinSuccess = true;\n                        this.vinIsVaild = false;\n                        this.showB = false;\n                        this.data = response.data.data;\n                        this.year = this.data.year;\n                        this.make = this.data.make;\n                        this.model = this.data.model;\n                        this.alias = this.data.alias;\n                        this.trim = this.data.trim;\n                        this.engine = this.data.engineType;\n                        this.price = this.data.price;\n                        this.color = this.data.color;\n                        this.date = this.data.inventoryDays;\n                        this.stock = this.data.stockNumber;\n                        this.condition = this.data.vehicleTypeCode;\n                        this.odometer = _mileage;\n                        this.plate = this.data.plate;\n                        this.photo = this.data.photoPath;\n                    }).catch(() => {\n                        this.vinIsVaild = false;\n                        this.vinSuccess = false;\n                        this.showB = false;\n                    })\n                } else {\n                    this.vinIsVaild = true;\n\n                }\n            }\n        },\n        methods: {\n            closeTip() {\n                if (this.currentTip == 'save') {\n                    this.$router.push('/inventory/vehicle/detail/' + this.curVehicleid);\n                }\n                this.show = false;\n            },\n            savefile(event) {\n                let file = event.target.files;\n                let fb = new FormData();\n                fb.append(\"image\", file[0]);\n                httpClient.post('/api/v1/uploadFile', fb).then(response => {\n                    if (response.data.code == 200) {\n                        this.photo = response.data.data.path;\n                        this.title = this.$t('m.tip.suc');\n                        this.content = this.$t('m.tip.upload');\n                        this.currentTip = '';\n                        this.show = true;\n                        this.showB = false;\n                    }\n                }).catch(error => {\n                    console.error(error)\n                })\n            },\n            saveData() {\n                let _mileage = null;//距离单位转换\n                if(this.odometer){\n                    if(this.changedLanguage === 'English'){\n                        _mileage = ((this.odometer * 1609.344).toFixed(0))\n                    }else{\n                        _mileage = ((this.odometer * 1000).toFixed(0))\n                    }\n                }else{\n                    _mileage = 0\n                }\n                httpClient.post('/api/v1/vehicle/insert/vehicle',{\n                    vin: this.vin,\n                    year: this.year,\n                    make: this.make,\n                    model: this.model,\n                    alias:this.alias,\n                    trim: this.trim,\n                    engineType: this.engine,\n                    color: this.color,\n                    price: this.price,\n                    stockNumber: this.stock,\n                    inventoryDate: new Date(this.date).getTime(),\n                    vehicleTypeCode: Number(this.condition),\n                    currentMileage: _mileage,\n                    plate: this.plate,\n                    photoPath: this.photo\n                }).then(response => {\n                    if (response.data.data.bindResult == true) {\n                        this.curVehicleid = response.data.data.vehicleId;\n                        this.title = this.$t('m.tip.suc');\n                        this.content = this.$t('m.tip.save_succ');\n                        this.currentTip = 'save';\n                        this.show = true;\n                    }\n                })\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/views/dashboard/dashboardMain"}]}