{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/index.vue","mtime":1576672912000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Header as AppHeader, SidebarToggler, Sidebar as AppSidebar, SidebarFooter, SidebarForm, SidebarHeader, SidebarMinimizer, SidebarNav, Footer as TheFooter } from '@coreui/vue';\nimport DefaultHeaderDropdownAccnt from '@/components/account';\nimport Socket from '@/components/socket';\nimport httpclient from \"@/utils/httpclient\";\nimport { loadJs } from \"../../utils/loadJs\";\nexport default {\n  name: 'dashboard',\n  inject: ['reload'],\n  components: {\n    AppHeader: AppHeader,\n    AppSidebar: AppSidebar,\n    TheFooter: TheFooter,\n    SidebarForm: SidebarForm,\n    SidebarFooter: SidebarFooter,\n    SidebarToggler: SidebarToggler,\n    SidebarHeader: SidebarHeader,\n    SidebarNav: SidebarNav,\n    SidebarMinimizer: SidebarMinimizer,\n    DefaultHeaderDropdownAccnt: DefaultHeaderDropdownAccnt,\n    Socket: Socket\n  },\n  data: function data() {\n    return {\n      data: [{\n        url: '/index',\n        icon: 'icon-speedometer',\n        id: 'lotmanger_dashboard',\n        name: this.$t('m.dashboard.dashboard')\n      }, {\n        name: this.$t('m.dashboard.vehicle_m'),\n        url: \"/inventory\",\n        icon: \"fa fa-car\",\n        id: \"lotmanger\",\n        children: [{\n          name: this.$t('m.dashboard.vehicles'),\n          url: '/inventory/vehicle/list',\n          id: 'lotmanger_vehicles'\n        }, {\n          name: this.$t('m.dashboard.alerts'),\n          url: '/inventory/alerts/list',\n          id: 'lotmanger_alerts'\n        }, {\n          name: this.$t('m.dashboard.devices'),\n          url: '/inventory/device/list',\n          id: 'lotmanger_devices'\n        }, {\n          name: this.$t('m.dashboard.lots'),\n          url: '/inventory/lots/list',\n          id: 'lotmanger_lots'\n        }, {\n          name: this.$t('m.dashboard.shop'),\n          url: '/inventory/shop-manager/list',\n          id: 'lotmanger_store'\n        }]\n      }, {\n        name: this.$t('m.dashboard.cloud'),\n        url: '/test-drive',\n        icon: 'nav-icon icon-list',\n        id: \"clouddrive\",\n        children: [{\n          name: this.$t('m.dashboard.appoint_order'),\n          url: '/test-drive/reservation-order/list',\n          id: \"clouddrive_appointment\"\n        }, {\n          name: this.$t('m.dashboard.report_manager'),\n          url: '/test-drive/test-report/list',\n          id: \"report_list\"\n        }, {\n          name: this.$t('m.dashboard.test_report_all'),\n          url: '/test-drive/test-all-report',\n          id: 'clouddrive_many_report'\n        }, {\n          name: this.$t('m.dashboard.test_vehicle'),\n          url: '/test-drive/test-vehicle/list',\n          id: \"clouddrive_testvehicle\"\n        }, {\n          name: this.$t('m.dashboard.test_user'),\n          url: '/test-drive/test-user/list',\n          id: \"clouddrive_testuser\"\n        }, {\n          name: this.$t('m.dashboard.test_point'),\n          url: '/test-drive/test-point/list',\n          id: \"clouddrive_testpoint\"\n        }, {\n          name: this.$t('m.dashboard.car_box'),\n          url: '/test-drive/car-box/list',\n          id: \"clouddrive_vehiclebox\"\n        }]\n      }, {\n        name: this.$t('m.dashboard.sold_m'),\n        url: '/sold-manager',\n        icon: 'fa fa-handshake-o',\n        id: 'after_sales',\n        children: [{\n          name: this.$t('m.dashboard2.vehicle_sold'),\n          url: '/sold-manager/list',\n          id: \"after_sales_vehicle\"\n        }]\n      }, {\n        name: this.$t('m.dashboard.admin'),\n        url: '/manager-user',\n        icon: 'icons cui-people',\n        id: 'lotmanger_user_manage',\n        children: [{\n          name: this.$t('m.dashboard2.manager_user'),\n          url: '/manager-user/user-info/list',\n          id: 'lotmanger_admin'\n        }]\n      }],\n      nav: [],\n      root: false,\n      rootData: [],\n      storeName: '',\n      updateLists: [],\n      showUpdateTip: false,\n      curNumber: 0,\n      loadMapSuc: false\n    };\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    if (this.$store.state.userInfo.country == 'China' || this.$store.state.userInfo.country == '中国') {\n      loadJs(\"https://webapi.amap.com/maps?v=1.4.15&key=45fcb339c9c642ffe20ffa1aabc4b031&plugin=AMap.MouseTool,AMap.Geocoder,AMap.Scale,AMap.ControlBar\").then(function () {\n        _this.loadMapSuc = true;\n      });\n    } else {\n      loadJs(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyD6VrpGl92Sn06onaDikAo3orJmyBuCux8&v=3.exp&libraries=drawing&language=en-us\").then(function () {\n        _this.loadMapSuc = true;\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.root = localStorage.getItem('role') == 'root' ? true : false;\n    httpclient.get(\"/api/v1/listmenus\").then(function (response) {\n      _this2.filterList(response.data.data);\n    }).catch(function (e) {\n      console.log('listmenus error');\n    });\n    this.GLOBAL.APP_ENV == 'cn' ? this.requestNotice() : '';\n\n    if (this.root) {\n      this.storeName = sessionStorage.getItem('storeName') ? sessionStorage.getItem('storeName') : this.$t('m.common.all_store');\n      httpclient.get(\"/api/v1/store/list\").then(function (res) {\n        if (res.data.code == 200) {\n          _this2.rootData = res.data.data;\n        }\n      });\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    document.addEventListener('click', function (e) {\n      if (_this3.$refs.box && !_this3.$refs.box.contains(e.target)) {\n        _this3.showUpdateTip = false;\n      }\n    });\n  },\n  methods: {\n    linkTo: function linkTo(type, id) {\n      if (type == 1) {\n        this.$router.push('/test-drive/test-user/verify/' + id);\n      } else if (type == 2) {\n        window.location.href = '/test-drive/test-vehicle/list?type=30';\n      } else {\n        this.$router.push('/test-drive/reservation-order/detail/' + id);\n      }\n    },\n    requestNotice: function requestNotice() {\n      var _this4 = this;\n\n      httpclient.get('/api/v1/clouddrive/notice/list').then(function (response) {\n        if (response.data.code == 200) {\n          _this4.updateLists = response.data.data;\n          _this4.curNumber = response.data.data.length;\n        }\n      });\n    },\n    showWarnList: function showWarnList() {\n      this.requestNotice();\n      this.showUpdateTip = true;\n    },\n    changeStore: function changeStore(id, name) {\n      if (id) {\n        sessionStorage.setItem('storeName', name);\n        sessionStorage.setItem('storeId', id);\n      } else {\n        sessionStorage.removeItem('storeId');\n        sessionStorage.removeItem('storeName');\n      }\n\n      this.reload();\n    },\n    filterChildren: function filterChildren(key, menus, key2) {\n      var list = [];\n      menus[key2].menuList ? this.data[key].children.map(function (t) {\n        menus[key2].menuList.map(function (i) {\n          if (i.menuCode == t.id) {\n            list.push(t);\n          }\n        });\n      }) : '';\n      return list.length > 0 ? list : null;\n    },\n    filterList: function filterList(menus) {\n      var _this5 = this;\n\n      this.nav = [];\n      this.data.map(function (it, key) {\n        menus.map(function (item, key2) {\n          if (item.menuCode == it.id) {\n            _this5.nav.push({\n              name: it.name,\n              url: it.url,\n              icon: it.icon,\n              id: it.id,\n              menuOrder: item.menuOrder,\n              children: _this5.filterChildren(key, menus, key2)\n            });\n          }\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"app\">\n        <AppHeader fixed>\n            <Socket></Socket>\n            <SidebarToggler class=\"d-lg-none\" display=\"md\" mobile/>\n            <b-link class=\"navbar-brand\" to=\"#\">\n                <img class=\"navbar-brand-full\" src=\"@/assets/pages-img/logo.svg\" width=\"89\" height=\"25\">\n                <img class=\"navbar-brand-minimized\" src=\"https://pic.zus.ai/saas/logo.svg\" width=\"30\" height=\"30\">\n            </b-link>\n            <SidebarToggler class=\"d-md-down-none\" display=\"lg\"/>\n            <b-dropdown v-if=\"root\" :text=\"storeName\" class=\"m-2\" size=\"sm\"  id=\"change-shop\">\n                <b-dropdown-item @click=\"changeStore()\">\n                    <span>{{ $t('m.common.all_store') }}</span>\n                </b-dropdown-item>\n                <b-dropdown-item v-for=\"(item,key) in rootData\" :key=\"key\" @click=\"changeStore(item.storeId, item.storeName)\">\n                    <span>{{ item.storeName }}</span>\n                </b-dropdown-item>\n            </b-dropdown>\n            <b-navbar-nav class=\"ml-auto\">\n                <b-nav-item v-if=\"GLOBAL.APP_ENV == 'cn'\" class=\"d-md-down-none\" @click=\"showWarnList($store.getters.updateNumber)\" ref=\"box\">\n                    <i class=\"icon-bell\"></i>\n                    <b-badge pill variant=\"danger\">{{ $store.getters.updateNumber ? $store.getters.updateNumber : curNumber }}</b-badge>\n                </b-nav-item>\n                <div slot=\"dropdown\" class=\"warn-tip\" v-if=\"showUpdateTip\">\n                    <b-dropdown-header tag=\"div\" class=\"text-center\">\n                        <strong>\n                            {{ $t('m.common.nav_tip', {number: $store.getters.updateNumber ? $store.getters.updateNumber : curNumber  }) }}\n                        </strong>\n                    </b-dropdown-header>\n                    <b-dropdown-item v-for=\"(item, key) in updateLists\" :key=\"key\">\n                        <template v-if=\"item.eventType == 1\">\n                            <div @click=\"linkTo(item.eventType, item.testDriveUserId)\">{{ $t('m.tip.test_user') }}<span class=\"blue-color\">{{ item.serviceNum }}</span>{{ $t('m.tip.card_check') }}</div>\n                        </template>\n                        <template v-if=\"item.eventType == 2\">\n                            <div @click=\"linkTo(item.eventType)\">{{ $t('m.common.test_drive') }}<span class=\"blue-color\">{{ item.serviceNum }}</span>{{ $t('m.cloud.w_accept') }}</div>\n                        </template>\n                        <template v-if=\"item.eventType == 3\">\n                            <div @click=\"linkTo(item.eventType, item.orderId )\">{{ $t('m.common.appoint_order') }}<span class=\"blue-color\">{{ item.serviceNum }}</span>{{ $t('m.common.out_time') }}</div>\n                        </template>\n                    </b-dropdown-item>\n                </div>\n                <DefaultHeaderDropdownAccnt/>\n            </b-navbar-nav>\n        </AppHeader>\n        <div class=\"app-body\">\n            <AppSidebar fixed>\n                <SidebarHeader/>\n                <SidebarForm/>\n                <SidebarNav :navItems=\"nav\"></SidebarNav>\n                <SidebarFooter/>\n                <SidebarMinimizer/>\n            </AppSidebar>\n            <main class=\"main\">\n                <ol class=\"breadcrumb\">\n                    <li v-for=\"(item, k) of $route.matched\" :key=\"k\" class=\"breadcrumb-item\">\n                        {{ $t($store.getters.crumbs[item.name]) }}\n                    </li>\n                </ol>\n                <div class=\"container-fluid\">\n                    <router-view v-if=\"loadMapSuc\"></router-view>\n                </div>\n            </main>\n        </div>\n        <TheFooter>\n            <!--footer-->\n            <div>\n                <a href=\"https://zus.ai\">ZUS.ai</a>\n                <span class=\"ml-1\">© Copyright No NDA Inc., All Rights Reserved</span>\n            </div>\n        </TheFooter>\n    </div>\n\n</template>\n\n<script>\n\n    import {\n        Header as AppHeader,\n        SidebarToggler,\n        Sidebar as AppSidebar,\n        SidebarFooter,\n        SidebarForm,\n        SidebarHeader,\n        SidebarMinimizer,\n        SidebarNav,\n        Footer as TheFooter,\n    } from '@coreui/vue';\n    import DefaultHeaderDropdownAccnt from '@/components/account';\n    import Socket from '@/components/socket';\n    import httpclient from \"@/utils/httpclient\";\n    import { loadJs } from \"../../utils/loadJs\";\n\n    export default {\n        name: 'dashboard',\n        inject: ['reload'],\n        components: {\n            AppHeader,\n            AppSidebar,\n            TheFooter,\n            SidebarForm,\n            SidebarFooter,\n            SidebarToggler,\n            SidebarHeader,\n            SidebarNav,\n            SidebarMinimizer,\n            DefaultHeaderDropdownAccnt,\n            Socket\n        },\n        data() {\n            return {\n                data: [\n                    {\n                        url: '/index',\n                        icon: 'icon-speedometer',\n                        id: 'lotmanger_dashboard',\n                        name: this.$t('m.dashboard.dashboard')\n                    },\n                    {\n                        name: this.$t('m.dashboard.vehicle_m'),\n                        url: \"/inventory\",\n                        icon: \"fa fa-car\",\n                        id: \"lotmanger\",\n                        children: [\n                            {\n                                name: this.$t('m.dashboard.vehicles'),\n                                url: '/inventory/vehicle/list',\n                                id: 'lotmanger_vehicles'\n                            },\n                            {\n                                name: this.$t('m.dashboard.alerts'),\n                                url: '/inventory/alerts/list',\n                                id: 'lotmanger_alerts'\n                            },\n                            {\n                                name: this.$t('m.dashboard.devices'),\n                                url: '/inventory/device/list',\n                                id: 'lotmanger_devices'\n                            },\n                            {\n                                name: this.$t('m.dashboard.lots'),\n                                url: '/inventory/lots/list',\n                                id: 'lotmanger_lots'\n                            },\n                            {\n                                name: this.$t('m.dashboard.shop'),\n                                url: '/inventory/shop-manager/list',\n                                id: 'lotmanger_store'\n                            },\n                        ]\n                    },\n                    {\n                        name: this.$t('m.dashboard.cloud'),\n                        url: '/test-drive',\n                        icon: 'nav-icon icon-list',\n                        id: \"clouddrive\",\n                        children: [\n                            {\n                                name: this.$t('m.dashboard.appoint_order'),\n                                url: '/test-drive/reservation-order/list',\n                                id: \"clouddrive_appointment\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.report_manager'),\n                                url: '/test-drive/test-report/list',\n                                id: \"report_list\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.test_report_all'),\n                                url: '/test-drive/test-all-report',\n                                id: 'clouddrive_many_report'\n                            },\n                            {\n                                name: this.$t('m.dashboard.test_vehicle'),\n                                url: '/test-drive/test-vehicle/list',\n                                id: \"clouddrive_testvehicle\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.test_user'),\n                                url: '/test-drive/test-user/list',\n                                id: \"clouddrive_testuser\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.test_point'),\n                                url: '/test-drive/test-point/list',\n                                id: \"clouddrive_testpoint\"\n                            },\n                            {\n                                name: this.$t('m.dashboard.car_box'),\n                                url: '/test-drive/car-box/list',\n                                id: \"clouddrive_vehiclebox\"\n                            },\n                        ]\n                    },\n                    {\n                        name: this.$t('m.dashboard.sold_m'),\n                        url: '/sold-manager',\n                        icon: 'fa fa-handshake-o',\n                        id: 'after_sales',\n                        children: [\n                            {\n                                name: this.$t('m.dashboard2.vehicle_sold'),\n                                url: '/sold-manager/list',\n                                id: \"after_sales_vehicle\"\n                            }\n                        ]\n                    },\n                    {\n                        name: this.$t('m.dashboard.admin'),\n                        url: '/manager-user',\n                        icon: 'icons cui-people',\n                        id: 'lotmanger_user_manage',\n                        children: [\n                            {\n                                name: this.$t('m.dashboard2.manager_user'),\n                                url: '/manager-user/user-info/list',\n                                id: 'lotmanger_admin'\n                            },\n                        ]\n                    }\n                ],\n                nav: [\n                ],\n                root: false,\n                rootData: [],\n                storeName: '',\n                updateLists: [],\n                showUpdateTip: false,\n                curNumber: 0,\n                loadMapSuc: false\n            }\n        },\n        beforeCreate() {\n            if (this.$store.state.userInfo.country == 'China' || this.$store.state.userInfo.country == '中国') {\n                loadJs(\"https://webapi.amap.com/maps?v=1.4.15&key=45fcb339c9c642ffe20ffa1aabc4b031&plugin=AMap.MouseTool,AMap.Geocoder,AMap.Scale,AMap.ControlBar\").then(() => {\n                    this.loadMapSuc = true;\n                })\n            } else {\n                loadJs(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyD6VrpGl92Sn06onaDikAo3orJmyBuCux8&v=3.exp&libraries=drawing&language=en-us\").then(() => {\n                    this.loadMapSuc = true;\n                })\n            }\n        },\n        mounted() {\n            this.root = localStorage.getItem('role') == 'root' ? true : false;\n            httpclient.get(\"/api/v1/listmenus\").then((response) => {\n                this.filterList(response.data.data);\n            }).catch((e) => {\n                console.log('listmenus error')\n            });\n            this.GLOBAL.APP_ENV == 'cn' ? this.requestNotice() : '';\n            if (this.root) {\n                this.storeName = sessionStorage.getItem('storeName') ? sessionStorage.getItem('storeName') : this.$t('m.common.all_store');\n                httpclient.get(\"/api/v1/store/list\").then(res => {\n                    if (res.data.code == 200) {\n                        this.rootData = res.data.data;\n                    }\n                })\n            }\n        },\n        created() {\n            document.addEventListener('click', (e) => {\n                if (this.$refs.box && !this.$refs.box.contains(e.target)) {\n                    this.showUpdateTip = false;\n                }\n            });\n        },\n        methods: {\n            linkTo(type, id) {\n                if (type == 1) {\n                    this.$router.push('/test-drive/test-user/verify/' + id);\n                } else if (type == 2) {\n                    window.location.href = '/test-drive/test-vehicle/list?type=30';\n                } else {\n                    this.$router.push('/test-drive/reservation-order/detail/' + id);\n                }\n            },\n            requestNotice() {\n                httpclient.get('/api/v1/clouddrive/notice/list').then((response) => {\n                    if (response.data.code == 200) {\n                        this.updateLists = response.data.data;\n                        this.curNumber = response.data.data.length;\n                    }\n                });\n            },\n            showWarnList() {\n                this.requestNotice();\n                this.showUpdateTip = true;\n            },\n            changeStore(id, name) {\n                if (id) {\n                    sessionStorage.setItem('storeName', name);\n                    sessionStorage.setItem('storeId', id);\n                } else {\n                    sessionStorage.removeItem('storeId');\n                    sessionStorage.removeItem('storeName');\n                }\n                this.reload();\n            },\n            filterChildren(key, menus, key2) {\n                let list = [];\n                menus[key2].menuList ?\n                    this.data[key].children.map(t => {\n                        menus[key2].menuList.map(i => {\n                            if (i.menuCode == t.id ) {\n                                list.push(t)\n                            }\n                        });\n                }) : '';\n                return list.length > 0 ? list : null;\n            },\n            filterList(menus) {\n                this.nav = [];\n                this.data.map((it, key) => {\n                    menus.map((item, key2) => {\n                        if (item.menuCode == it.id) {\n                            this.nav.push({\n                                name: it.name,\n                                url: it.url,\n                                icon: it.icon,\n                                id: it.id,\n                                menuOrder: item.menuOrder,\n                                children: this.filterChildren(key, menus, key2)\n                            });\n                        }\n                    });\n                });\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    .warn-tip {\n        position: absolute;\n        top: 50px;\n        right: 100px;\n        border: 1px solid #ddd;\n        background: #ffffff;\n    }\n    .blue-color {\n        color: #20a8d8;\n        text-decoration: underline;\n    }\n</style>\n"],"sourceRoot":"src/views/dashboard"}]}