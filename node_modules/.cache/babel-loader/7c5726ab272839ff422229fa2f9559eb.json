{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/components/vehicleForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/components/vehicleForm.vue","mtime":1562142071000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from \"@/utils/httpclient\";\nimport model from \"@/components/model\";\nexport default {\n  name: \"vehicleForm\",\n  components: {\n    model: model\n  },\n  props: ['vehicleInfo'],\n  data: function data() {\n    return {\n      title: '',\n      content: '',\n      show: false,\n      showB: false,\n      vin: '',\n      data: {},\n      year: '',\n      make: '',\n      alias: '',\n      trim: '',\n      engine: '',\n      price: '',\n      stock: '',\n      condition: 'new',\n      odometer: '',\n      model: '',\n      color: 'Black',\n      date: '',\n      plate: '',\n      photo: '',\n      deviceMac: ''\n    };\n  },\n  watch: {\n    'vehicleInfo': {\n      immediate: true,\n      handler: function handler(curVal) {\n        this.showB = false;\n        this.data = curVal;\n        this.year = this.data.year;\n        this.make = this.data.make;\n        this.model = this.data.model;\n        this.alias = this.data.alias;\n        this.trim = this.data.trim;\n        this.engine = this.data.engineType;\n        this.price = this.data.price;\n        this.color = this.data.color;\n        this.date = this.data.inventoryDays;\n        this.stock = this.data.stockNumber;\n        this.condition = this.data.vehicleType;\n        this.odometer = this.data.currentMileage * 0.0006214;\n        this.plate = this.data.plate;\n        this.photo = this.data.photoPath;\n        this.vin = this.data.vin;\n        this.deviceMac = this.data.mac;\n      },\n      deep: true\n    }\n  },\n  methods: {\n    savefile: function savefile(event) {\n      var _this = this;\n\n      var file = event.target.files;\n      var fb = new FormData();\n      fb.append(\"image\", file[0]);\n      httpClient.post('/api/v1/user/updateAvatar', fb).then(function (response) {\n        if (response.data.code == 200) {\n          _this.photo = response.data.data.avatarUrl;\n          _this.title = _this.$t('m.tip.suc');\n          _this.content = _this.$t('m.tip.upload');\n          _this.show = true;\n          _this.showB = false;\n        }\n      }).catch(function (error) {\n        console.error(error);\n      });\n    },\n    saveData: function saveData() {\n      var _this2 = this;\n\n      httpClient.post('/api/v1/vehicle/bind/device', {\n        vin: this.vin,\n        year: this.year,\n        make: this.make,\n        deviceMac: this.deviceMac,\n        model: this.model,\n        alias: this.alias,\n        trim: this.trim,\n        engineType: this.engine,\n        color: this.color,\n        price: Number(this.price) ? this.price : '',\n        stockNumber: this.stock,\n        inventoryDate: new Date(this.date).getTime(),\n        vehicleType: this.confidence,\n        currentMileage: this.odometer > 0 ? this.odometer * 1609.344 : 0,\n        plate: this.plate,\n        photoPath: this.photo\n      }).then(function (response) {\n        _this2.$emit(\"showStep3\", response.data.data);\n      }).catch(function (err) {\n        console.log(\"server error\");\n      });\n    }\n  }\n};",{"version":3,"sources":["vehicleForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"animated fadeIn vehicleForm\">\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.year') }}</label>\n                    <b-form-input type=\"number\" v-model=\"year\" :placeholder=\"$t('m.common.enter') +  $t('m.common.year')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.make') }}</label>\n                    <b-form-input type=\"text\" v-model=\"make\"  :placeholder=\"$t('m.common.enter') + $t('m.common.make')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.model') }}</label>\n                    <b-form-input type=\"text\" v-model=\"model\" :placeholder=\"$t('m.common.enter') + $t('m.common.model')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.alias') }}</label>\n                    <b-form-input type=\"text\" v-model=\"alias\" :placeholder=\"$t('m.common.enter') + $t('m.common.alias')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.trim') }}</label>\n                    <b-form-input type=\"text\" v-model=\"trim\" :placeholder=\"$t('m.common.enter') + $t('m.common.trim')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.engine') }}</label>\n                    <b-form-input type=\"text\" v-model=\"engine\" :placeholder=\"$t('m.common.enter') + $t('m.common.engine')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.color') }}</label>\n                    <b-form-select v-model=\"color\"\n                                   size=\"lg\"\n                                   :plain=\"true\"\n                                   :options=\"['Black','White', 'Silver', 'Blue', 'Red', 'Brown', 'Gold', 'Orange', 'Yellow', 'Purple', 'Green', 'Pink', 'other']\"\n                                   value=\"Please select\">\n                    </b-form-select>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group class=\"price-dorlar\">\n                    <label>{{ $t('m.common.price') }}</label>\n                    <b-input-group>\n                        <b-input-group-prepend>\n                            <b-input-group-text>$</b-input-group-text>\n                        </b-input-group-prepend>\n                        <b-form-input v-model=\"price\"  type=\"number\" :placeholder=\"$t('m.common.enter') + $t('m.common.price')\"></b-form-input>\n                    </b-input-group>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.stock_num') }}</label>\n                    <b-form-input type=\"number\" v-model=\"stock\" :placeholder=\"$t('m.common.enter') + $t('m.common.stock_num')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.inv_date') }}</label>\n                    <b-form-input type=\"date\" v-model=\"date\"></b-form-input>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.condition') }}</label>\n                    <b-form-select  v-model=\"condition\"\n                                    size=\"lg\"\n                                    :plain=\"true\"\n                                    :options=\"['new','Used', 'Demo']\"\n                                    value=\"Please select\">\n                    </b-form-select>\n                </b-form-group>\n            </b-col>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.odometer') }}</label>\n                    <b-form-input type=\"text\" v-model=\"odometer\" :placeholder=\"$t('m.common.enter') + $t('m.common.c_mileage')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <b-row>\n            <b-col sm=\"4\">\n                <b-form-group>\n                    <label>{{ $t('m.common.plate_num') }}</label>\n                    <b-form-input type=\"text\" v-model=\"plate\" :placeholder=\"$t('m.common.enter') + $t('m.common.plate_num')\"></b-form-input>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <div class=\"upload-group text-center\">\n            <label>{{ $t('m.common.upload_img') }}</label>\n            <img v-show=\"photo\" :src=\"photo\" width=\"100%\">\n            <div>\n                <input type=\"file\" style=\"margin-left: 16%\" id=\"uploadAvatar\" @change=\"savefile($event)\" accept=\"image/jpeg,image/png,image/jpg\" ref=\"upload\">\n            </div>\n            <b-button class=\"btn btn-success\" style=\"margin-top: 4%\" :disabled=\"showB\" @click=\"saveData\">\n                {{ $t('m.common.submit') }}\n            </b-button>\n        </div>\n        <model :title=\"title\"\n               :content=\"content\"\n               :show=\"show\"\n               :buttonText=\"{btnFirst: 'ok'}\"\n                @closeRemindBox=\"show=false\">\n        </model>\n    </div>\n</template>\n\n<style lang=\"scss\">\n    .vehicleForm {\n        select {\n            height: 35px!important;\n        }\n        .upload-group {\n            width: 30%;\n            margin: 0 auto;\n            button {\n                margin-top: 20px;\n            }\n\n        }\n    }\n    .price-dorlar{\n        .input-group-text{\n            background:#515b65 ;\n        }\n    }\n</style>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import model from \"@/components/model\";\n    export default {\n        name: \"vehicleForm\",\n        components: {\n            model\n        },\n        props: ['vehicleInfo'],\n        data() {\n            return {\n                title: '',\n                content: '',\n                show: false,\n                showB: false,\n                vin: '',\n                data: {},\n                year: '',\n                make: '',\n                alias:'',\n                trim: '',\n                engine: '',\n                price: '',\n                stock: '',\n                condition: 'new',\n                odometer: '',\n                model: '',\n                color: 'Black',\n                date: '',\n                plate: '',\n                photo: '',\n                deviceMac: ''\n            }\n        },\n        watch: {\n            'vehicleInfo':{\n                immediate: true,\n                handler(curVal){\n                    this.showB = false;\n                    this.data = curVal;\n                    this.year = this.data.year;\n                    this.make = this.data.make;\n                    this.model = this.data.model;\n                    this.alias = this.data.alias;\n                    this.trim = this.data.trim;\n                    this.engine = this.data.engineType;\n                    this.price = this.data.price;\n                    this.color = this.data.color;\n                    this.date = this.data.inventoryDays;\n                    this.stock = this.data.stockNumber;\n                    this.condition = this.data.vehicleType;\n                    this.odometer = this.data.currentMileage * 0.0006214;\n                    this.plate = this.data.plate;\n                    this.photo = this.data.photoPath;\n                    this.vin = this.data.vin;\n                    this.deviceMac = this.data.mac;\n                },\n                deep: true\n            }\n        },\n        methods: {\n            savefile(event) {\n                let file = event.target.files;\n                let fb = new FormData();\n                fb.append(\"image\", file[0]);\n                httpClient.post('/api/v1/user/updateAvatar', fb).then(response => {\n                    if (response.data.code == 200) {\n                        this.photo = response.data.data.avatarUrl;\n                        this.title = this.$t('m.tip.suc');\n                        this.content = this.$t('m.tip.upload');\n                        this.show = true;\n                        this.showB = false;\n                    }\n                }).catch(error => {\n                    console.error(error)\n                })\n            },\n            saveData() {\n\n                httpClient.post('/api/v1/vehicle/bind/device',{\n                    vin: this.vin,\n                    year: this.year,\n                    make: this.make,\n                    deviceMac: this.deviceMac,\n                    model: this.model,\n                    alias: this.alias,\n                    trim: this.trim,\n                    engineType: this.engine,\n                    color: this.color,\n                    price: Number(this.price) ? this.price : '',\n                    stockNumber: this.stock,\n                    inventoryDate: new Date(this.date).getTime(),\n                    vehicleType: this.confidence,\n                    currentMileage: this.odometer > 0 ? this.odometer * 1609.344 : 0,\n                    plate: this.plate,\n                    photoPath: this.photo\n\n                }).then(response => {\n                    this.$emit(\"showStep3\", response.data.data)\n                }).catch(err => {\n                    console.log(\"server error\");\n                })\n            }\n        }\n    }\n</script>"],"sourceRoot":"src/components"}]}