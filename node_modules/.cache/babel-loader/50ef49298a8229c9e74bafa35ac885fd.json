{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/vehicleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/vehicleDetail.vue","mtime":1574417257000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpclient from '@/utils/httpclient';\nimport { getDateString as _getDateString, getDaysBetweenDate as _getDaysBetweenDate } from \"@/utils/date\";\nimport myMap from '@/components/map';\nexport default {\n  name: \"vehicleDetail\",\n  components: {\n    myMap: myMap\n  },\n  data: function data() {\n    return {\n      btnGroup: {\n        btnFirst: \"Cancel\",\n        btnSecond: 'OK'\n      },\n      data: {},\n      map: null,\n      searchGoogleMap: {},\n      mapPopup: null,\n      tipTitle: '',\n      showSoldVehicle: false,\n      soldVehicleStatus: false,\n      soldVehicleSuccess: false,\n      soldVehicleTransform: false,\n      installDeviceStatus: false,\n      installSuccess: false,\n      installStatus: false,\n      inputText: '',\n      soldVehicleContent: '',\n      soldVehicleHeader: '',\n      transferStatus: false,\n      transferContents: '',\n      transferTitle: '',\n      soldStatus: \"\",\n      soldOutC: \"\",\n      fields: {\n        operation: {\n          key: 'operationType',\n          label: this.$t('m.common.action')\n        },\n        vehicle: {\n          key: 'vehicle',\n          label: this.$t('m.vehicle_detail.operator')\n        },\n        time: {\n          key: 'time',\n          label: this.$t('m.common.time')\n        }\n      },\n      options: [],\n      selected: null,\n      items: [],\n      totalPages: 1,\n      currentPage: 1,\n      perPage: 10,\n      showDelMap: false,\n      rows: 1,\n      myCurrentMileage: null,\n      imeiIsVaild: true\n    };\n  },\n  watch: {\n    inputText: function inputText(newV) {\n      if (newV.length === 15) {\n        this.imeiIsVaild = true;\n      } else {\n        this.imeiIsVaild = false;\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (this.$i18n.locale === 'en-US') {\n      this.changedLanguage = \"English\";\n    } else {\n      this.changedLanguage = 'Chinese';\n    }\n\n    var self = this;\n    httpclient.get(\"/api/v1/vehicle/detail/id?vehicleId=\" + this.$route.params.id, {}).then(function (response) {\n      self.data = response.data.data;\n      var year = self.data.year ? self.data.year : 'N/A';\n      var make = self.data.make ? self.data.make : 'N/A';\n      var model = self.data.model ? self.data.model : 'N/A';\n      var info = year == 'N/A' && make == 'N/A' && model == 'N/A' ? 'N/A' : year + ' ' + make + ' ' + model;\n      self.tipTitle = info;\n      self.map = {\n        lat: self.data.lastLocationLat ? self.data.lastLocationLat : 0,\n        lng: self.data.lastLocationLng ? self.data.lastLocationLng : 0,\n        area: self.data.areaCoordinates ? self.data.areaCoordinates : [],\n        vehicleInfo: info\n      };\n      self.mapPopup = {\n        lat: self.data.lastLocationLat ? self.data.lastLocationLat : 0,\n        lng: self.data.lastLocationLng ? self.data.lastLocationLng : 0,\n        area: self.data.areaCoordinates ? self.data.areaCoordinates : [],\n        vehicleInfo: info\n      };\n      var _mileage = null;\n\n      if (response.data.data.currentMileage) {\n        if (self.changedLanguage === 'English') {\n          _mileage = (response.data.data.currentMileage * 0.0006214).toFixed(0);\n        } else {\n          _mileage = (response.data.data.currentMileage / 1000).toFixed(0);\n        }\n      } else {\n        _mileage = 'N/A';\n      }\n\n      self.myCurrentMileage = _mileage;\n    }).catch(function (err) {\n      console.log(err);\n    });\n    this.getVehicleOperatorList(1);\n  },\n  methods: {\n    reloadPage: function reloadPage() {\n      window.location.reload();\n    },\n    getDateString: function getDateString(data) {\n      return _getDateString(data);\n    },\n    getDaysBetweenDate: function getDaysBetweenDate(data, time) {\n      return _getDaysBetweenDate(data, time);\n    },\n    getVehicleOperatorList: function getVehicleOperatorList(page) {\n      var _this = this;\n\n      var myVehicleId = this.$route.params.id;\n      var myLink = '/api/v1/operationlog/listbyvehicleid?pageNo=' + page + '&vehicleId=' + myVehicleId;\n      httpclient.get(myLink).then(function (res) {\n        var myData = res.data.data.datas;\n        _this.items = myData;\n        _this.searchGoogleMap = myData; // this.currentPage = res.data.data.pageNo;\n\n        _this.perPage = res.data.data.pageSize;\n        _this.totalPages = res.data.data.totalPages;\n        _this.rows = res.data.data.rowCount;\n        var myArr = [];\n        myData.map(function (item) {\n          myArr.push({\n            operationType: item.operationType,\n            operator: item.userName,\n            time: _this.getDateString(item.createTime),\n            userId: item.userId\n          });\n        });\n        _this.items = myArr;\n      });\n    },\n    turnToPage: function turnToPage(p) {\n      this.getVehicleOperatorList(p ? p : 1);\n    },\n    showRegisterSold: function showRegisterSold() {\n      this.soldOutC = this.$t('m.sold_vehicle.sold_content', {\n        year: this.data.year ? this.data.year : 'N/A',\n        make: this.data.make ? this.data.make : 'N/A',\n        model: this.data.model ? this.data.model : 'N/A',\n        alias: this.data.alias ? this.data.alias : 'N/A',\n        stock: this.data.stockNumber ? this.data.stockNumber : 'N/A'\n      });\n      this.showSoldVehicle = true;\n    },\n    delData: function delData() {\n      this.showDelMap = true;\n    },\n    apiDel: function apiDel() {\n      var _this2 = this;\n\n      //删除车辆\n      httpclient.post('/api/v1/vehicle/delete', {\n        vehicleId: this.$route.params.id\n      }).then(function (response) {\n        if (response.data.code == 200) {\n          _this2.showDelMap = !_this2.showDelMap; // this.reload();\n\n          _this2.$router.push('/inventory/vehicle/list');\n        }\n      });\n    },\n    registerSold: function registerSold() {\n      var _this3 = this;\n\n      //确认登记售出\n      var vehicleId = this.$route.params.id;\n      httpclient.post('/api/v1/vehicle/sale', {\n        \"vehicleId\": vehicleId\n      }).then(function (res) {\n        if (res.data.code === 200 && res.data.data.result) {\n          _this3.soldVehicleSuccess = true;\n          _this3.soldVehicleStatus = true;\n          _this3.data.soldVehicleContent = _this3.$t('m.sold_vehicle.sold_content_success', {\n            year: _this3.data.year ? _this3.data.year : 'N/A',\n            make: _this3.data.make ? _this3.data.make : 'N/A',\n            model: _this3.data.model ? _this3.data.model : 'N/A',\n            alias: _this3.data.alias ? _this3.data.alias : 'N/A',\n            stock: _this3.data.stockNumber ? _this3.data.stockNumber : 'N/A'\n          });\n          _this3.data.soldVehicleHeader = _this3.$t('m.sold_vehicle.sold_header_success');\n        } else {\n          _this3.soldVehicleSuccess = false;\n          _this3.soldVehicleStatus = true;\n          _this3.data.soldVehicleContent = _this3.$t('m.sold_vehicle.sold_content_fail', {\n            year: _this3.data.year ? _this3.data.year : 'N/A',\n            make: _this3.data.make ? _this3.data.make : 'N/A',\n            model: _this3.data.model ? _this3.data.model : 'N/A',\n            alias: _this3.data.alias ? _this3.data.alias : 'N/A',\n            stock: _this3.data.stockNumber ? _this3.data.stockNumber : 'N/A'\n          });\n          _this3.data.soldVehicleHeader = _this3.$t('m.sold_vehicle.sold_header_fail');\n        }\n      });\n    },\n    goBackToList: function goBackToList() {\n      //回到列表\n      if (this.soldVehicleSuccess) {\n        this.$router.push('/inventory/vehicle/list');\n      }\n    },\n    confirmTransformVehicle: function confirmTransformVehicle() {\n      var _this4 = this;\n\n      //车辆转移确认\n      if (this.selected !== null) {\n        var _name = '';\n        this.options.map(function (item) {\n          if (item.value === _this4.selected) {\n            _name = item.text;\n          }\n        });\n        var data = {\n          \"vehicleId\": this.$route.params.id,\n          \"transferStoreId\": this.selected\n        };\n        httpclient.post('/api/v1/vehicle/transfer', data).then(function (res) {\n          _this4.transferStatus = true;\n\n          if (res.data.code === 200 && res.data.data.result === true) {\n            _this4.transferTitle = _this4.$t('m.sold_vehicle.transform_vehicle_to_other_store_header_success');\n            _this4.transferContents = _this4.$t('m.sold_vehicle.transform_vehicle_to_other_store_content_success', {\n              year: _this4.data.year ? _this4.data.year : 'N/A',\n              make: _this4.data.make ? _this4.data.make : 'N/A',\n              model: _this4.data.model ? _this4.data.model : 'N/A',\n              alias: _this4.data.alias ? _this4.data.alias : 'N/A',\n              storeName: _name,\n              stock: _this4.data.stockNumber ? _this4.data.stockNumber : 'N/A'\n            });\n          } else {\n            _this4.transferTitle = _this4.$t('m.sold_vehicle.transform_vehicle_to_other_store_header_fail');\n            _this4.transferContents = _this4.$t('m.sold_vehicle.transform_vehicle_to_other_store_content_fail');\n          }\n        });\n      }\n    },\n    showTransformVehicle: function showTransformVehicle() {\n      var _this5 = this;\n\n      //弹出车辆转移的弹窗，获取门店列表\n      this.soldVehicleTransform = true;\n      httpclient.get('/api/v1/store/listbyself?vehicleid=' + this.$route.params.id).then(function (res) {\n        if (res.data.code === 200 && res.data.data.length) {\n          _this5.options.length = 0;\n\n          _this5.options.push({\n            value: null,\n            text: _this5.$t('m.sold_vehicle.transform_vehicle_to_other_store_options'),\n            disabled: true\n          });\n\n          res.data.data.map(function (item) {\n            _this5.options.push({\n              value: item.storeId,\n              text: item.storeName\n            });\n          });\n        }\n      });\n    },\n    afterTransfer: function afterTransfer() {\n      //转移成功，跳转到vehicle-list\n      if (this.transferStatus) {\n        this.$router.push('/inventory/vehicle/list');\n      }\n    },\n    hideModal: function hideModal() {\n      this.showDelMap = !this.showDelMap;\n    },\n    showBindInfo: function showBindInfo() {\n      this.installDeviceStatus = !this.installDeviceStatus;\n    },\n    installDevice: function installDevice() {\n      var _this6 = this;\n\n      httpclient.post('/api/v1/clouddrive/device/box/bind', {\n        deviceImei: this.inputText,\n        vehicleId: this.$route.params.id,\n        deviceType: 1\n      }).then(function (res) {\n        if (res.data.code === 200 && res.data.data.result) {\n          _this6.installStatus = true;\n          _this6.installSuccess = true; // window.location.reload();\n        } else {\n          _this6.installStatus = false;\n          _this6.installSuccess = true;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["vehicleDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"animated fadeIn vehicle-detail\">\n        <b-card class=\"custom-header\">\n            <div slot=\"header\">\n                {{ $t('m.common.detail') }}\n                <div class=\"float-right\">\n                    <b-button class=\"btn btn-sm btn-info mr-2 text-white\"\n                            @click=\"$router.push('/inventory/vehicle/edit/' + $route.params.id)\">\n                        <i class=\"fa fa-edit\"></i>\n                        {{ $t('m.common.edit') }}\n                    </b-button>\n                    <template v-if=\"$store.state.userInfo.roleCode === 'manager' || $store.state.userInfo.roleCode === 'root'\">\n                        <!--                    <button @click=\"showRegisterSold()\" class=\"btn btn-outline-info active float-right font-weight-bold\"-->\n                        <!--                            style=\"display:inline-block;font-size: 12px;padding: 0 10px;color: #fff;margin: 0 5px 0 0\">{{ $t('m.sold_vehicle.w_sold') }}-->\n                        <!--                    </button>-->\n                        <b-button @click=\"showTransformVehicle()\"\n                                class=\"btn btn-sm btn-info mr-2 text-white\">\n                            {{ $t('m.sold_vehicle.v_trans') }}\n                        </b-button>\n                    </template>\n                </div>\n\n            </div>\n            <b-row style=\"padding-left: 0.6rem;\">\n                <b-col sm=\"6\" class=\"left\">\n                    <div class=\"border-dark border\" v-if=\"data\">\n                        <b-row>\n                            <b-col sm=\"12\" lg=\"12\" class=\"title\">\n                                {{ data.year && data.year != 'null' ? data.year : \"N/A\" }} {{ data.make && data.make !=\n                                'null' ? data.make :\n                                'N/A' }} {{ data.model && data.model != 'null' ? data.model : 'N/A' }}{{ data.alias\n                                && data.alias != 'null' ? \" - \" + data.alias : '' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.last_location') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.lastLocation ? data.lastLocation : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.last_update') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.lastUpdateTime ? getDateString(data.lastUpdateTime ) : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.lot') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.outStatus == 2 ? $t('m.vehicle_detail.off_lot') : (data.parkingLot ?\n                                data.parkingLot : 'N/A') }}\n                            </b-col>\n                        </b-row>\n                        <b-row v-if=\"data.checkedInBy\">\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.vehicle_detail.check_by') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{data.checkedInBy}}\n                            </b-col>\n                        </b-row>\n                        <b-row v-if=\"data.checkedInAt\">\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.vehicle_detail.check_at') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{this.getDateString(data.checkedInAt)}}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.line_status') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                <span class=\"badge badge-pill\"\n                      :class=\"data.adapter === 'Online' ? 'badge-success' : (data.adapter === 'Offline' ?'badge-secondary' :'')\">\n                  {{ data.isOnline == 1 ? $t('m.common.online') : (data.isOnline == 2 ? $t('m.common.offline') : 'N/A') }}\n                </span>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.voltage') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                <template v-if=\"data.currentVoltage\">\n                      <span v-if=\"data.currentVoltage && Number(data.currentVoltage.toFixed(1)) <= 11.7\"\n                            class=\" badge-danger badge-pill currentVoltage\">\n                      {{ data.currentVoltage.toFixed(1) + 'V'}}\n                    </span>\n                                    <span v-else-if=\"data.currentVoltage && Number(data.currentVoltage.toFixed(1)) > 11.7 && Number(data.currentVoltage.toFixed(1)) <= 12.1\"\n                                          class=\"badge-warning badge-pill\">\n                      {{ data.currentVoltage.toFixed(1) + 'V'}}\n                    </span>\n                                    <span v-else class=\"badge-success badge-pill \">\n                      {{ data.currentVoltage.toFixed(1) + 'V'}}\n                    </span>\n                                </template>\n                                <template v-else>\n                                    <span class=\" badge badge-pill badge-secondary\">N/A</span>\n                                </template>\n                            </b-col>\n                        </b-row>\n                        <b-row v-if=\"data.available === 1\">\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.use_status') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                <span class=\"mx-2 badge badge-pill btn-danger\">In Use</span>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.imei') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.deviceMac && data.deviceMac != 'null' ? data.deviceMac : \"N/A\" }}\n                                <span @click=\"showBindInfo\" v-if=\"!data.deviceMac\"\n                                      style=\"color:#63c2de;cursor: pointer;\" class=\"badge\">{{ $t('m.vehicle.install_device') }}</span>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.vin') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.vin ? data.vin : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.year') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.year ? data.year : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.make') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.make ? data.make : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.model') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.model ? data.model : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.alias') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.alias ? data.alias : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.trim') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.trim ? data.trim : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.engine') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.engineType ? data.engineType : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.color') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.color ? data.color : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.price') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.thousandsPrice ? $t('m.common.moneyType') + data.thousandsPrice : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.stock_num') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.stockNumber ? data.stockNumber : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.inv_age') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.inventoryTime ? getDaysBetweenDate(data.inventoryTime, new Date().getTime()) +\n                                $t('m.common.days') :\n                                'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.condition') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                <template v-if=\"!data.vehicleTypeCode\">\n                                    N/A\n                                </template>\n                                <template v-else>\n                                    {{ data.vehicleTypeCode == 1 ? $t('m.common.c_new') : (data.vehicleTypeCode == 2 ?\n                                    $t('m.common.c_demo') : (data.vehicleTypeCode == 3 ? $t('m.common.c_used') :\n                                    $t('m.common.c_test')) ) }}\n                                </template>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.odometer') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ myCurrentMileage }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.common.remain_oil') }}\n                            </b-col>\n                            <b-col sm=\"4\" lg=\"4\">\n                                <template v-if=\"data.residualOil\">\n                                    <template v-if=\"data.residualOil < 10\">\n                                        <span style=\"color: red\">{{ data.residualOil + $t('m.report.ltre') }}</span>\n                                    </template>\n                                    <template v-else>\n                                        <span>{{ data.residualOil + $t('m.report.ltre') }}</span>\n                                    </template>\n                                </template>\n                                <template v-else>\n                                    <span>N/A</span>\n                                </template>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.vehicle_detail.plat') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.plate ? data.plate : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.vehicle_detail.vehicle_store') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.storeName ? data.storeName : 'N/A' }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t('m.vehicle_detail.notes') }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{data.notes? data.notes :'N/A'}}\n                            </b-col>\n                        </b-row>\n                    </div>\n\n                </b-col>\n                <b-col sm=\"6\" class=\"right\">\n                    <div class=\"text-center img-box\">\n                        <img v-if=\"data.vin\" :src=\"data.photoPath ? data.photoPath : '/img/placeholder.5367544d.svg' \"\n                             style=\"border-radius: 5px 5px 5px 5px;box-shadow: 0px 0px 4px 1px #000;margin-bottom: 10px;\"\n                             width=\"100%\" alt=\"\">\n                    </div>\n                    <div class=\"map\" style=\"position: relative\">\n                        <myMap :elementId=\"'map-1'\" :map=\"map\"\n                               :class=\"map && (map.lat != 0 || map.area.length > 0) ? '': 'hidden'\"></myMap>\n                        <div class=\"img text-center\" v-if=\"map && (map.lat == 0 && map.area == 0)\"\n                             style=\"height: 40vh;margin-top: 15vh;\">\n                            <img src=\"@/assets/pages-img/Location_not_available.svg\" width=\"100px\">\n                            <p style=\"margin-top: 14px\">{{ $t('m.vehicle_detail.no_map') }}</p>\n                        </div>\n                    </div>\n                    <b-row style=\"border-bottom: 0px;\">\n                        <b-table class=\"user-table-list\" hover :items=\"items\" :fields=\"fields\">\n                            <template slot=\"operation\" slot-scope=\"items\">\n                                <span>{{ items.item.type}}</span>\n                            </template>\n                            <template slot=\"vehicle\" slot-scope=\"items\">\n                                <a v-if=\"items.item.operator\" class=\"btn-md link-detail\"\n                                   @click=\"$router.push('/inventory/admin/detail/' + items.item.userId)\">\n                                    {{items.item.operator}}\n                                </a>\n                                <span v-else>N/A</span>\n                            </template>\n                            <template slot=\"time\" slot-scope=\"items\">\n                                <div class=\"btn-md\">{{items.item.time}}</div>\n                            </template>\n                        </b-table>\n                    </b-row>\n\n                    <b-pagination align=\"right\" :total-rows=\"rows\" v-model=\"currentPage\" :per-page=\"perPage\"\n                                  @input=\" turnToPage(currentPage)\"></b-pagination>\n                    <div class=\"dataTables_info text-right\" id=\"DataTables0\" role=\"status\" aria-live=\"polite\">\n                        <span v-if=\"totalPages > 0 \">{{ $t('m.common.show') }} {{10 * (currentPage - 1) + 1 }} {{ $t('m.common.to') }} {{currentPage === totalPages? rows :currentPage * 10 }} {{ $t('m.common.of') }} {{rows}} {{ $t('m.common.entries') }}</span>\n                        <span v-else>{{ $t('m.common.show') }} 0 {{ $t('m.common.to') }} 0 {{ $t('m.common.of') }} {{rows}} {{ $t('m.common.entries') }}</span>\n                    </div>\n                </b-col>\n\n                <div class=\"btn btn-sm btn-danger btn-del btn-bottom-detail\" @click=\"delData\">{{$t('m.cloud.delete')}}\n                </div>\n            </b-row>\n\n        </b-card>\n\n        <b-modal ref=\"my-modal-2\" v-model=\"showSoldVehicle\" :ok-title=\"$t('m.tip.b_ok')\"\n                 @ok='registerSold()' class=\"\" ok-only>\n            <template slot=\"modal-title\">\n                {{ $t('m.sold_vehicle.sold_tt') }}{{ soldStatus }}\n            </template>\n            <div class=\"d-block text-left\">\n                <p>{{ soldOutC }}</p>\n            </div>\n        </b-modal>\n\n\n        <b-modal ref=\"my-modal-3\" v-model=\"soldVehicleStatus\" :ok-title=\"$t('m.tip.b_ok')\"\n                 @ok=\"goBackToList()\" class=\"\" ok-only>\n            <template slot=\"modal-title\">\n                {{ data.soldVehicleHeader}}\n            </template>\n            <div class=\"d-block text-left\">\n                <p>{{ data.soldVehicleContent}}</p>\n            </div>\n        </b-modal>\n\n\n        <b-modal ref=\"my-modal-4\" v-model=\"soldVehicleTransform\" :cancel-title=\"$t('m.tip.b_cancel')\"\n                 :ok-title=\"$t('m.tip.b_ok')\"\n                 @ok=\"confirmTransformVehicle()\" class=\"select-store\" ok-only>\n            <template slot=\"modal-title\">\n                {{this.$t('m.sold_vehicle.transform_vehicle_to_other_store_header') }}\n            </template>\n            <div class=\"text-left\">\n                <p style=\"color: #cc0000\">{{this.$t('m.sold_vehicle.transform_vehicle_to_other_store_content') }}</p>\n                <div class=\"select-box\">\n                    <div class=\"col-md-3\">\n                        <p>{{this.$t('m.sold_vehicle.transform_vehicle_to_other_store_content_title') }}</p>\n                    </div>\n                    <div class=\"col-md-9\">\n                        <b-form-select v-model=\"selected\" :options=\"options\"></b-form-select>\n                    </div>\n                </div>\n            </div>\n        </b-modal>\n\n\n        <b-modal ref=\"my-modal-5\" v-model=\"transferStatus\" :ok-title=\"$t('m.tip.b_ok')\"\n                 @ok=\"afterTransfer()\" class=\"select-store\" ok-only>\n            <template slot=\"modal-title\">\n                {{transferTitle}}\n            </template>\n            <div class=\"text-left\">\n                <p>{{transferContents}}</p>\n            </div>\n        </b-modal>\n\n\n        <b-modal ref=\"my-modal-6\" v-model=\"installStatus\" @ok=\"installSuccess ? reloadPage() : ''\" :ok-title=\"$t('m.tip.b_ok')\" class=\"select-store\" ok-only>\n            <template slot=\"modal-title\">\n                {{$t('m.cloud.vehicle_oper')}}\n            </template>\n            <div class=\"text-left\">\n                <p>{{installSuccess===true? $t('m.cloud.insert_succ_title') :$t('m.tip.update_failed') }}</p>\n            </div>\n        </b-modal>\n        <b-modal ref=\"my-modal-7\" v-model=\"installDeviceStatus\" :ok-disabled=\"!imeiIsVaild\" :ok-title=\"$t('m.tip.b_ok')\"\n                 @ok=\"installDevice()\" class=\"select-store\" ok-only>\n            <template slot=\"modal-title\">\n                {{this.$t('m.vehicle.install_device') }}\n            </template>\n            <div class=\"text-left\">\n                <!--                <p style=\"color: #cc0000\">{{this.$t('m.sold_vehicle.transform_vehicle_to_other_store_content') }}</p>-->\n                <div class=\"select-box\">\n                    <div class=\"col-md-3\">\n                        <p>{{this.$t('m.vehicle.input_mind') }}</p>\n                    </div>\n                    <div class=\"col-md-9\">\n                        <b-form-input type=\"text\" aria-describedby=\"input-live-help input-live-feedback\" id=\"input-live\" :placeholder=\" $t('m.vehicle.input_mind') \" v-model=\"inputText\" :class=\"!imeiIsVaild ? 'is-invalid' : ''\" maxlength=\"15\"></b-form-input>\n                        <b-form-invalid-feedback id=\"input-live-feedback\" v-if=\"!imeiIsVaild\">\n                            {{$t('m.car_box.IMEI_verify')}}\n                        </b-form-invalid-feedback>\n                    </div>\n                </div>\n            </div>\n        </b-modal>\n\n        <div class=\"del-tip\">\n            <b-modal ref=\"my-modal-bottom\" :cancel-title=\"$t('m.tip.b_cancel')\" :ok-title=\"$t('m.tip.b_ok')\"\n                     :title=\"$t('m.tip.d_vehicle')\" v-model=\"showDelMap\"\n                     @ok=\"apiDel\">\n            </b-modal>\n        </div>\n\n\n    </div>\n</template>\n\n<script>\n    import httpclient from '@/utils/httpclient';\n    import {getDateString, getDaysBetweenDate} from \"@/utils/date\";\n    import myMap from '@/components/map';\n\n    export default {\n        name: \"vehicleDetail\",\n        components: {\n            myMap,\n        },\n        data() {\n            return {\n                btnGroup: {\n                    btnFirst: \"Cancel\",\n                    btnSecond: 'OK'\n                },\n                data: {},\n                map: null,\n                searchGoogleMap: {},\n                mapPopup: null,\n                tipTitle: '',\n                showSoldVehicle: false,\n                soldVehicleStatus: false,\n                soldVehicleSuccess: false,\n                soldVehicleTransform: false,\n                installDeviceStatus: false,\n                installSuccess: false,\n                installStatus: false,\n                inputText: '',\n                soldVehicleContent: '',\n                soldVehicleHeader: '',\n                transferStatus: false,\n                transferContents: '',\n                transferTitle: '',\n                soldStatus: \"\",\n                soldOutC: \"\",\n                fields: {\n                    operation: {\n                        key: 'operationType',\n                        label: this.$t('m.common.action')\n                    },\n                    vehicle: {\n                        key: 'vehicle',\n                        label: this.$t('m.vehicle_detail.operator')\n                    },\n                    time: {\n                        key: 'time',\n                        label: this.$t('m.common.time')\n                    },\n                },\n                options: [],\n                selected: null,\n                items: [],\n                totalPages: 1,\n                currentPage: 1,\n                perPage: 10,\n                showDelMap: false,\n                rows: 1,\n                myCurrentMileage: null,\n                imeiIsVaild: true,\n            }\n        },\n        watch: {\n            inputText (newV) {\n                if (newV.length === 15) {\n                    this.imeiIsVaild = true;\n                } else {\n                    this.imeiIsVaild = false;\n                }\n            }\n        },\n        mounted() {\n            if (this.$i18n.locale === 'en-US') {\n                this.changedLanguage = \"English\";\n            } else {\n                this.changedLanguage = 'Chinese';\n            }\n            let self = this;\n            httpclient.get(\"/api/v1/vehicle/detail/id?vehicleId=\" + this.$route.params.id, {}).then((response) => {\n                self.data = response.data.data;\n                let year = self.data.year ? self.data.year : 'N/A';\n                let make = self.data.make ? self.data.make : 'N/A';\n                let model = self.data.model ? self.data.model : 'N/A';\n                let info = (year == 'N/A' && make == 'N/A' && model == 'N/A') ? 'N/A' : year + ' ' + make + ' ' + model;\n                self.tipTitle = info;\n                self.map = {\n                    lat: self.data.lastLocationLat ? self.data.lastLocationLat : 0,\n                    lng: self.data.lastLocationLng ? self.data.lastLocationLng : 0,\n                    area: self.data.areaCoordinates ? self.data.areaCoordinates : [],\n                    vehicleInfo: info\n                };\n\n                self.mapPopup = {\n                    lat: self.data.lastLocationLat ? self.data.lastLocationLat : 0,\n                    lng: self.data.lastLocationLng ? self.data.lastLocationLng : 0,\n                    area: self.data.areaCoordinates ? self.data.areaCoordinates : [],\n                    vehicleInfo: info\n                };\n\n                let _mileage = null;\n                if (response.data.data.currentMileage) {\n                    if (self.changedLanguage === 'English') {\n                        _mileage = ((response.data.data.currentMileage * 0.0006214).toFixed(0))\n                    } else {\n                        _mileage = ((response.data.data.currentMileage / 1000).toFixed(0))\n                    }\n                } else {\n                    _mileage = 'N/A'\n                }\n                self.myCurrentMileage = _mileage\n\n            }).catch((err) => {\n                console.log(err);\n            });\n\n            this.getVehicleOperatorList(1)\n\n        },\n        methods: {\n            reloadPage(){\n                window.location.reload()\n            },\n            getDateString(data) {\n                return getDateString(data)\n            },\n            getDaysBetweenDate(data, time) {\n                return getDaysBetweenDate(data, time)\n            },\n            getVehicleOperatorList(page) {\n                let myVehicleId = this.$route.params.id;\n                let myLink = '/api/v1/operationlog/listbyvehicleid?pageNo=' + page + '&vehicleId=' + myVehicleId;\n                httpclient.get(myLink).then((res) => {\n                    let myData = res.data.data.datas;\n                    this.items = myData;\n                    this.searchGoogleMap = myData;\n                    // this.currentPage = res.data.data.pageNo;\n                    this.perPage = res.data.data.pageSize;\n                    this.totalPages = res.data.data.totalPages;\n                    this.rows = res.data.data.rowCount;\n                    let myArr = [];\n                    myData.map((item) => {\n                        myArr.push({\n                            operationType: item.operationType,\n                            operator: item.userName,\n                            time: this.getDateString(item.createTime),\n                            userId: item.userId\n                        });\n                    });\n                    this.items = myArr;\n                })\n            },\n            turnToPage(p) {\n                this.getVehicleOperatorList(p ? p : 1);\n            },\n            showRegisterSold() {\n                this.soldOutC = this.$t('m.sold_vehicle.sold_content', {\n                    year: this.data.year ? this.data.year : 'N/A',\n                    make: this.data.make ? this.data.make : 'N/A',\n                    model: this.data.model ? this.data.model : 'N/A',\n                    alias: this.data.alias ? this.data.alias : 'N/A',\n                    stock: this.data.stockNumber ? this.data.stockNumber : 'N/A'\n                });\n                this.showSoldVehicle = true;\n            },\n            delData() {\n                this.showDelMap = true;\n            },\n            apiDel() {//删除车辆\n                httpclient.post('/api/v1/vehicle/delete', {\n                    vehicleId: this.$route.params.id\n                }).then(response => {\n                    if (response.data.code == 200) {\n                        this.showDelMap = !this.showDelMap\n                        // this.reload();\n                        this.$router.push('/inventory/vehicle/list');\n                    }\n                })\n            },\n            registerSold() {//确认登记售出\n                let vehicleId = this.$route.params.id;\n                httpclient.post('/api/v1/vehicle/sale', {\"vehicleId\": vehicleId}).then(res => {\n                    if (res.data.code === 200 && res.data.data.result) {\n                        this.soldVehicleSuccess = true;\n                        this.soldVehicleStatus = true;\n                        this.data.soldVehicleContent = this.$t('m.sold_vehicle.sold_content_success', {\n                            year: this.data.year ? this.data.year : 'N/A',\n                            make: this.data.make ? this.data.make : 'N/A',\n                            model: this.data.model ? this.data.model : 'N/A',\n                            alias: this.data.alias ? this.data.alias : 'N/A',\n                            stock: this.data.stockNumber ? this.data.stockNumber : 'N/A'\n                        });\n                        this.data.soldVehicleHeader = this.$t('m.sold_vehicle.sold_header_success');\n                    } else {\n                        this.soldVehicleSuccess = false;\n                        this.soldVehicleStatus = true;\n                        this.data.soldVehicleContent = this.$t('m.sold_vehicle.sold_content_fail', {\n                            year: this.data.year ? this.data.year : 'N/A',\n                            make: this.data.make ? this.data.make : 'N/A',\n                            model: this.data.model ? this.data.model : 'N/A',\n                            alias: this.data.alias ? this.data.alias : 'N/A',\n                            stock: this.data.stockNumber ? this.data.stockNumber : 'N/A'\n                        });\n                        this.data.soldVehicleHeader = this.$t('m.sold_vehicle.sold_header_fail')\n\n                    }\n                })\n            },\n            goBackToList() {//回到列表\n                if (this.soldVehicleSuccess) {\n                    this.$router.push('/inventory/vehicle/list')\n                }\n            },\n            confirmTransformVehicle() {//车辆转移确认\n                if (this.selected !== null) {\n                    let _name = '';\n                    this.options.map(item => {\n                        if (item.value === this.selected) {\n                            _name = item.text\n                        }\n                    });\n                    let data = {\n                        \"vehicleId\": this.$route.params.id,\n                        \"transferStoreId\": this.selected\n                    };\n                    httpclient.post('/api/v1/vehicle/transfer', data).then(res => {\n                        this.transferStatus = true;\n                        if (res.data.code === 200 && res.data.data.result === true) {\n                            this.transferTitle = this.$t('m.sold_vehicle.transform_vehicle_to_other_store_header_success');\n                            this.transferContents = this.$t('m.sold_vehicle.transform_vehicle_to_other_store_content_success', {\n                                year: this.data.year ? this.data.year : 'N/A',\n                                make: this.data.make ? this.data.make : 'N/A',\n                                model: this.data.model ? this.data.model : 'N/A',\n                                alias: this.data.alias ? this.data.alias : 'N/A',\n                                storeName: _name,\n                                stock: this.data.stockNumber ? this.data.stockNumber : 'N/A'\n                            });\n                        } else {\n                            this.transferTitle = this.$t('m.sold_vehicle.transform_vehicle_to_other_store_header_fail');\n                            this.transferContents = this.$t('m.sold_vehicle.transform_vehicle_to_other_store_content_fail');\n                        }\n                    })\n                }\n            },\n            showTransformVehicle() {//弹出车辆转移的弹窗，获取门店列表\n                this.soldVehicleTransform = true;\n                httpclient.get('/api/v1/store/listbyself?vehicleid=' + this.$route.params.id).then(res => {\n                    if (res.data.code === 200 && res.data.data.length) {\n                        this.options.length = 0;\n                        this.options.push({\n                            value: null,\n                            text: this.$t('m.sold_vehicle.transform_vehicle_to_other_store_options'),\n                            disabled: true\n                        });\n                        res.data.data.map(item => {\n                            this.options.push({\n                                value: item.storeId,\n                                text: item.storeName,\n                            })\n                        })\n                    }\n                })\n            },\n            afterTransfer() {//转移成功，跳转到vehicle-list\n                if (this.transferStatus) {\n                    this.$router.push('/inventory/vehicle/list')\n                }\n            },\n            hideModal() {\n                this.showDelMap = !this.showDelMap\n            },\n            showBindInfo() {\n                this.installDeviceStatus = !this.installDeviceStatus\n            },\n            installDevice() {\n                httpclient.post('/api/v1/clouddrive/device/box/bind', {\n                    deviceImei: this.inputText,\n                    vehicleId: this.$route.params.id,\n                    deviceType: 1\n                }).then(res => {\n                    if (res.data.code === 200 && res.data.data.result) {\n                        this.installStatus = true;\n                        this.installSuccess = true;\n                        // window.location.reload();\n                    } else {\n                        this.installStatus = false;\n                        this.installSuccess = true;\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .vehicle-detail {\n        .is-invalid {\n            border: 1px solid red;\n        }\n        .btn-bottom-detail {\n            margin: 20px auto;\n        }\n\n        .select-store {\n            .modal-dialog {\n                max-width: 800px;\n            }\n\n            .select-box {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n\n                .col-md-4 {\n                    padding-left: 0;\n                }\n\n                .col-md-8 {\n                    padding-right: 0;\n                }\n\n                p {\n                    margin-bottom: 0;\n                }\n            }\n        }\n\n        .row {\n            border-bottom: 1px solid #23282c;\n            padding: .75rem 1.25rem;\n\n            .img-box {\n                width: 100%;\n            }\n        }\n\n        .show-map .modal-dialog {\n            width: 80%;\n            max-width: 1200px;\n        }\n\n        .user-table-list {\n            margin-top: 20px;\n\n            .link-detail {\n                color: #20a8d8 !important;\n                cursor: pointer;\n\n                &:hover {\n                    text-decoration: underline !important;\n                    color: #167495 !important;\n                }\n            }\n        }\n    }\n\n    .vehicle-detail {\n        .card-body {\n            padding: 0 1.25rem;\n        }\n\n        .title {\n            font-size: 18px;\n            color: #63c2de;\n        }\n\n        .card {\n            margin: 0 auto;\n        }\n\n        .hidden {\n            display: none;\n        }\n\n        .left {\n            padding: 10px;\n            padding-top: 0;\n\n            .row {\n                margin: 0px;\n                border-bottom: 1px solid #23282c;\n                padding: 10px;\n            }\n\n            .row > div {\n                padding-left: 4px;\n            }\n        }\n\n        .right {\n            .table thead th {\n                color: grey;\n            }\n\n            #map {\n                height: 40vh;\n            }\n        }\n    }\n</style>\n"],"sourceRoot":"src/views/dashboard/dashboardMain"}]}