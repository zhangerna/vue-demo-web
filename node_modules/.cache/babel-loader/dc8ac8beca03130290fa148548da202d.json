{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/testVehicleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/testVehicleDetail.vue","mtime":1577066250000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpclient from \"@/utils/httpclient\";\nimport { getDateString as _getDateString, getDaysBetweenDate as _getDaysBetweenDate } from \"@/utils/date\";\nimport myMap from \"@/components/map\";\nimport Alert from \"@components/model\";\nimport \"@/utils/viewer\"; //该组件的js是预览图片组件，按需引用即可\n\nexport default {\n  name: \"vehicleDetail\",\n  components: {\n    myMap: myMap,\n    Alert: Alert\n  },\n  data: function data() {\n    return {\n      btnGroup: {\n        btnFirst: \"Cancel\",\n        btnSecond: \"OK\"\n      },\n      showOperation: false,\n      showOperationText: \"\",\n      deleteErrorTip: false,\n      data: {},\n      showMap: false,\n      map: null,\n      showLockModel: false,\n      searchGoogleMap: {},\n      tipTitle: \"\",\n      transferStatus: false,\n      transferContents: \"\",\n      transferTitle: \"\",\n      soldStatus: \"\",\n      soldOutC: \"\",\n      lockOperContent: \"\",\n      lockOperTitle: \"\",\n      fields: {\n        operation: {\n          key: \"operationType\",\n          label: this.$t(\"m.common.action\"),\n          class: \"text-center\"\n        },\n        vehicle: {\n          key: \"vehicle\",\n          label: this.$t(\"m.vehicle_detail.operator\"),\n          class: \"text-center\"\n        },\n        time: {\n          key: \"time\",\n          label: this.$t(\"m.common.time\"),\n          class: \"text-center\"\n        }\n      },\n      history: {\n        orderId: {\n          key: \"orderId\",\n          label: this.$t(\"m.cloud.appoint_order\"),\n          class: \"text-center\"\n        },\n        user: {\n          key: \"user\",\n          label: this.$t(\"m.dashboard.test_user_info\"),\n          class: \"text-center\"\n        },\n        point: {\n          key: \"point\",\n          label: this.$t(\"m.dashboard.test_point_info\"),\n          class: \"text-center\"\n        },\n        time: {\n          key: \"time\",\n          label: this.$t(\"m.cloud.rese_test_drive\"),\n          class: \"text-center\"\n        },\n        status: {\n          key: \"status\",\n          label: this.$t(\"m.cloud.appoint_order_status\"),\n          class: \"text-center\"\n        }\n      },\n      options: [],\n      selected: null,\n      items: [],\n      totalPages: 1,\n      currentPage: 1,\n      perPage: 10,\n      rows: 1,\n      orderTotalPages: 1,\n      orderCurrentPage: 1,\n      orderPerPage: 10,\n      orderRows: 1,\n      myCurrentMileage: null,\n      historyData: [],\n      curOperLockStatus: null,\n      deviceMac: \"\",\n      vin: \"\",\n      bUnpair: false,\n      installDeviceStatus: false,\n      imeiIsVaild: true,\n      showAlerts: {\n        title: \"\",\n        show: false,\n        content: \"\",\n        buttonText: \"\"\n      },\n      inputText: \"\",\n      installSuccess: false,\n      installStatus: false,\n      isOnline: \"\"\n    };\n  },\n  watch: {\n    inputText: function inputText(newV) {\n      if (newV.length === 15) {\n        this.imeiIsVaild = true;\n      } else {\n        this.imeiIsVaild = false;\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.$i18n.locale === \"en-US\") {\n      this.changedLanguage = \"English\";\n    } else {\n      this.changedLanguage = \"Chinese\";\n    }\n\n    var self = this;\n    httpclient.get(\"/api/v1/clouddrive/vehicle/detail/id?vehicleId=\" + this.$route.params.id, {}).then(function (response) {\n      self.data = response.data.data;\n      _this.isOnline = response.data.data.isOnline;\n      _this.deviceMac = response.data.data.deviceMac;\n      _this.vin = response.data.data.vin;\n      var year = self.data.year ? self.data.year : \"N/A\";\n      var make = self.data.make ? self.data.make : \"N/A\";\n      var model = self.data.model ? self.data.model : \"N/A\";\n      var info = year == \"N/A\" && make == \"N/A\" && model == \"N/A\" ? \"N/A\" : year + \" \" + make + \" \" + model;\n      self.tipTitle = info;\n      self.map = {\n        lat: self.data.lastLocationLat ? self.data.lastLocationLat : 0,\n        lng: self.data.lastLocationLng ? self.data.lastLocationLng : 0,\n        area: self.data.areaCoordinates ? self.data.areaCoordinates : [],\n        vehicleInfo: info\n      };\n      var _mileage = null;\n\n      if (response.data.data.currentMileage) {\n        if (self.changedLanguage === \"English\") {\n          _mileage = (response.data.data.currentMileage * 0.0006214).toFixed(0);\n        } else {\n          _mileage = (response.data.data.currentMileage / 1000).toFixed(0);\n        }\n      } else {\n        _mileage = \"N/A\";\n      }\n\n      self.myCurrentMileage = _mileage;\n    }).catch(function (err) {\n      // console.log(err);\n      err;\n    });\n    this.getVehicleOperatorList(1);\n    this.getOrderList();\n  },\n  methods: {\n    showMapTip: function showMapTip() {\n      this.showMap = true;\n    },\n    confirmLockOper: function confirmLockOper() {\n      var _this2 = this;\n\n      if (this.curOperLockStatus) {\n        httpclient.post(\"/api/v1/clouddrive/vehicle/controllock\", {\n          vehicleId: this.$route.params.id,\n          controlType: this.curOperLockStatus == \"lock\" ? 0 : 1\n        }).then(function (res) {\n          if (res.data.code == 200 && res.data.data.result) {\n            _this2.showOperation = true;\n            _this2.showOperationText = _this2.$t(\"m.cloud.lock_succ_content\");\n          } else {\n            _this2.showOperation = true;\n            _this2.showOperationText = _this2.$t(\"m.cloud.lock_fail_content\");\n          }\n        });\n      }\n    },\n    showLock: function showLock(type) {\n      this.curOperLockStatus = type ? \"lock\" : \"unlock\";\n      this.lockOperContent = type ? this.$t(\"m.cloud.confirm_lock\") : this.$t(\"m.cloud.confirm_unlock\");\n      this.lockOperTitle = type ? this.$t(\"m.cloud.confirm_lock_title\") : this.$t(\"m.cloud.confirm_unlock_title\");\n      this.showLockModel = true;\n    },\n    getOrderList: function getOrderList() {\n      var _this3 = this;\n\n      httpclient.get(\"/api/v1/clouddrive/order/pagelistbyvehicle?vehicleid=\" + this.$route.params.id).then(function (res) {\n        if (res.data.code == 200) {\n          _this3.orderPerPage = res.data.data.pageSize;\n          _this3.orderTotalPages = res.data.data.totalPages;\n          _this3.orderRows = res.data.data.rowCount;\n\n          _this3.insertOrderList(res.data.data.datas);\n        }\n      });\n    },\n    insertOrderList: function insertOrderList(data) {\n      var _this4 = this;\n\n      this.historyData = data.map(function (item) {\n        return {\n          orderNum: item.orderServiceNum,\n          orderId: item.orderId,\n          dUserId: item.dUserId,\n          name: item.usedName,\n          checkStatus: item.checkStatus ? item.checkStatus : null,\n          phone: item.phone,\n          point: item.parkingName ? item.parkingName : \"N/A\",\n          pointId: item.parkingId,\n          startTime: _this4.getDateString(item.appointmentStartTime),\n          endTime: _this4.getDateString(item.appointmentEndTime).split(\"  \")[1],\n          status: item.orderStatus == 10 ? _this4.$t(\"m.cloud.wait_pick_up\") : item.orderStatus == 20 ? _this4.$t(\"m.cloud.wait_return\") : item.orderStatus == 30 ? _this4.$t(\"m.cloud.returned_vehicle\") : _this4.$t(\"m.cloud.canceled\")\n        };\n      });\n    },\n    getDateString: function getDateString(data) {\n      return _getDateString(data);\n    },\n    getDaysBetweenDate: function getDaysBetweenDate(data, time) {\n      return _getDaysBetweenDate(data, time);\n    },\n    showDeleteVehicle: function showDeleteVehicle() {\n      this.deleteErrorTip = true;\n    },\n    delVehicle: function delVehicle() {\n      var _this5 = this;\n\n      httpclient.post(\"/api/v1/clouddrive/vehicle/delete\", {\n        vehicleId: this.$route.params.id\n      }).then(function (res) {\n        if (res.data.code == 200 && res.data.data.result) {\n          _this5.$router.push(\"/test-drive/test-vehicle/list\");\n        } else {\n          alert(res.data.data.msg);\n        }\n      });\n    },\n    getVehicleOperatorList: function getVehicleOperatorList(page) {\n      var _this6 = this;\n\n      var myVehicleId = this.$route.params.id;\n      var myLink = \"/api/v1/operationlog/listbyvehicleid?pageNo=\" + page + \"&vehicleId=\" + myVehicleId;\n      httpclient.get(myLink).then(function (res) {\n        var myData = res.data.data.datas;\n        _this6.items = myData;\n        _this6.searchGoogleMap = myData; // this.currentPage = res.data.data.pageNo;\n\n        _this6.perPage = res.data.data.pageSize;\n        _this6.totalPages = res.data.data.totalPages;\n        _this6.rows = res.data.data.rowCount;\n        var myArr = [];\n        myData.map(function (item) {\n          myArr.push({\n            operationType: item.operationType,\n            operator: item.userName,\n            time: _this6.getDateString(item.createTime),\n            userId: item.userId\n          });\n        });\n        _this6.items = myArr;\n      });\n    },\n    turnToPage: function turnToPage(p) {\n      this.getVehicleOperatorList(p ? p : 1);\n    },\n    turnToOrderPage: function turnToOrderPage(p) {\n      this.getOrderList(p ? p : 1);\n    },\n    showBindInfo: function showBindInfo() {\n      this.installDeviceStatus = !this.installDeviceStatus;\n    },\n    installDevice: function installDevice() {\n      var _this7 = this;\n\n      httpclient.post(\"/api/v1/clouddrive/device/box/bind\", {\n        deviceImei: this.inputText,\n        vehicleId: this.$route.params.id,\n        deviceType: 1\n      }).then(function (res) {\n        if (res.data.code === 200 && res.data.data.result) {\n          _this7.installStatus = true;\n          _this7.installSuccess = true; // window.location.reload();\n        } else {\n          _this7.installStatus = false;\n          _this7.installSuccess = true;\n        }\n      }).catch(function (err) {\n        err;\n      });\n    },\n    unPairdevice: function unPairdevice() {\n      //设备解绑，未绑定的设备，按钮不显示\n      var link = \"/api/v1/vehicle/unbind/device\";\n      var self = this;\n      var data = {\n        deviceMac: this.deviceMac,\n        vin: this.vin\n      };\n      httpclient.post(link, data).then(function (res) {\n        if (res.data.code === 200) {\n          var passData = {\n            title: self.$t(\"m.tip.info\"),\n            show: true,\n            content: self.$t(\"m.tip.vehicle_unpair_success\"),\n            buttonText: {\n              btnFirst: \"\",\n              btnSecond: self.$t(\"m.tip.b_ok\")\n            }\n          };\n          self.closeRemind(passData); // window.location.reload()\n        }\n      }).catch(function (err) {\n        if (err) {\n          var passData = {\n            title: self.$t(\"m.tip.info\"),\n            show: true,\n            content: self.$t(\"m.tip.vehicle_unpair_failed\"),\n            buttonText: {\n              btnFirst: \"\",\n              btnSecond: self.$t(\"m.tip.b_ok\")\n            }\n          };\n          self.closeRemind(passData);\n        }\n      });\n    },\n    closeRemind: function closeRemind(data) {\n      this.showAlerts.show = data.show;\n      this.showAlerts.title = data.title;\n      this.showAlerts.content = data.content;\n      this.showAlerts.buttonText = data.buttonText; // window.location.reload()\n    },\n    closeBox: function closeBox() {\n      //子组件来请求父组件关闭弹窗\n      this.showAlerts.show = !this.showAlerts.show;\n      window.location.reload();\n\n      if (this.updateDetail === \"update\") {\n        //如果是update车辆信息，成功后到详情页面\n        this.$router.push(\"/test-drive/test-vehicle/detail/\" + this.id);\n      }\n    },\n    reloadPage: function reloadPage() {\n      window.location.reload();\n    }\n  }\n};",{"version":3,"sources":["testVehicleDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"animated fadeIn vehicle-detail\">\n        <b-card class=\"custom-header\">\n            <div slot=\"header\">\n                {{ $t(\"m.common.test_vehicle_detail\") }}\n                <div class=\"float-right\">\n                    <b-button class=\"btn btn-sm btn-info color-white\" @click=\"showLock(1)\">{{ $t(\"m.cloud.lock_vehicle\")\n                        }}\n                    </b-button>\n                    <b-button class=\"btn btn-sm btn-info m-1 color-white\" @click=\"showLock(0)\">{{\n                        $t(\"m.cloud.unlock_vehicle\") }}\n                    </b-button>\n                    <button class=\"btn btn-sm btn-info color-white\"\n                            @click=\"$router.push('/test-drive/test-vehicle/edit/' + $route.params.id)\">\n                        {{ $t(\"m.common.edit\") }}\n                    </button>\n                </div>\n            </div>\n            <b-row>\n                <b-col sm=\"6\" class=\"left\">\n                    <div class=\"border-dark border\" v-if=\"data\">\n                        <b-row>\n                            <b-col sm=\"12\" lg=\"12\" class=\"title\">\n                                {{ data.year | checkNan }}\n                                {{ data.make | checkNan  }}\n                                {{ data.model | checkNan  }}{{ data.alias && data.alias\n                                != \"null\" ? \" - \" + data.alias : \"\" }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.last_location\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.lastLocation | checkNan  }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.last_update\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.lastUpdateTime ? getDateString(data.lastUpdateTime) : \"N/A\" }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.lot\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.parkingLot | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row v-if=\"data.checkedInBy\">\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.vehicle_detail.check_by\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.checkedInBy }}\n                            </b-col>\n                        </b-row>\n                        <b-row v-if=\"data.checkedInAt\">\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.vehicle_detail.check_at\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ this.getDateString(data.checkedInAt) }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.line_status\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                <span v-if=\"isOnline === 1\" class=\"online-success\">{{ $t(\"m.common.online\") }}</span>\n                                <span v-if=\"isOnline === 2\" class=\"online-danger\">{{ $t(\"m.common.offline\") }}</span>\n                                <span v-if=\"isOnline === 3\" class=\"online-gray\">{{ $t(\"m.vehicle.unbound\") }}</span>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.voltage\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                <template v-if=\"data.currentVoltage\">\n                                    <span v-if=\"data.currentVoltage && Number(data.currentVoltage.toFixed(1)) <= 11.7\"\n                                          class=\" badge-danger badge-pill currentVoltage\">\n                                        {{ data.currentVoltage.toFixed(1) + \"V\" }}\n                                    </span>\n                                    <span v-else-if=\"data.currentVoltage && Number(data.currentVoltage.toFixed(1)) > 11.7 && Number(data.currentVoltage.toFixed(1)) <= 12.1\"\n                                          class=\"badge-warning badge-pill\">\n                                        {{ data.currentVoltage.toFixed(1) + \"V\" }}\n                                    </span>\n                                    <span v-else class=\"badge-success badge-pill \">\n                                        {{ data.currentVoltage.toFixed(1) + \"V\" }}\n                                    </span>\n                                </template>\n                                <template v-else>\n                                    <span class=\" badge badge-pill badge-secondary\">N/A</span>\n                                </template>\n                            </b-col>\n                        </b-row>\n                        <b-row v-if=\"data.available === 1\">\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.use_status\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                <span class=\"mx-2 badge badge-pill btn-danger\">In Use</span>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.imei\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                <span v-if=\"data.deviceMac\">{{ data.deviceMac }}</span>\n                                <span v-else class=\"online-gray\">{{ $t(\"m.vehicle.unbound\") }}</span>\n                                <b-button style=\"margin-left:10px;\" v-if=\"!data.deviceMac\" pressed size=\"sm\"\n                                          variant=\"primary\" aria-pressed=\"true\" class=\"button-primary\"\n                                          @click=\"showBindInfo\">{{ $t(\"m.vehicle.install_device\") }}\n                                </b-button>\n                                <b-button style=\"margin-left:10px;\" v-else pressed size=\"sm\" variant=\"danger\"\n                                          aria-pressed=\"true\" class=\"button-red\" @click=\"bUnpair = true\">{{\n                                    $t(\"m.common.b_unpair\") }}\n                                </b-button>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\"> {{ $t(\"m.cloud.device_name_chelian\") }}IMEI</b-col>\n                            <b-col sm=\"8\" lg=\"8\" v-if=\"data.superComputingDevice\">\n                                {{ data.superComputingDevice | checkNan  }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\" v-else>\n                                <span class=\"badge badge-secondary\">{{ $t(\"m.vehicle.unbound\") }}</span>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.vin\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.vin | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.year\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.year | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.make\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.make | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.model\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.model | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.alias\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.alias | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.trim\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.trim | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.engine\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.engineType | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.color\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.color | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.price\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.thousandsPrice ? $t(\"m.common.moneyType\") + data.thousandsPrice : \"N/A\" }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.stock_num\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.stockNumber | checkNan }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.inv_age\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.inventoryTime ? getDaysBetweenDate(data.inventoryTime, new Date().getTime()) +\n                                $t(\"m.common.days\") : \"N/A\" }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.cloud.vehicle_type\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                <template v-if=\"!data.vehicleTypeCode\">\n                                    N/A\n                                </template>\n                                <template v-else>\n                                    {{ data.vehicleTypeCode == 1 ? $t(\"m.common.c_new\") : data.vehicleTypeCode == 2 ?\n                                    $t(\"m.common.c_demo\") : data.vehicleTypeCode == 3 ? $t(\"m.common.c_used\") :\n                                    $t(\"m.common.c_test\") }}\n                                </template>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.odometer\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ myCurrentMileage }}\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.common.remain_oil\") }}\n                            </b-col>\n                            <b-col sm=\"4\" lg=\"4\">\n                                <template v-if=\"data.residualOil\">\n                                    <template v-if=\"data.residualOil < 10\">\n                                        <span style=\"color: red\">{{ data.residualOil + $t(\"m.report.ltre\") }}</span>\n                                    </template>\n                                    <template v-else>\n                                        <span>{{ data.residualOil + $t(\"m.report.ltre\") }}</span>\n                                    </template>\n                                </template>\n                                <template v-else>\n                                    <span>N/A</span>\n                                </template>\n                            </b-col>\n                        </b-row>\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.vehicle_detail.plat\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.plate | checkNan }}\n                            </b-col>\n                        </b-row>\n\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.cloud.vehicle_store_name\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.storeName | checkNan }}\n                            </b-col>\n                        </b-row>\n\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.cloud.drive_store\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.parkingName | checkNan }}\n                            </b-col>\n                        </b-row>\n\n                        <b-row>\n                            <b-col sm=\"4\" lg=\"4\">\n                                {{ $t(\"m.vehicle_detail.notes\") }}\n                            </b-col>\n                            <b-col sm=\"8\" lg=\"8\">\n                                {{ data.notes | checkNan }}\n                            </b-col>\n                        </b-row>\n                    </div>\n                </b-col>\n                <b-col sm=\"6\" class=\"right\">\n                    <div class=\"text-center img-box\">\n                        <viewer>\n                            <img :src=\"data.photoPath ? data.photoPath : '/img/placeholder.5367544d.svg'\"\n                                 style=\"border-radius: 5px 5px 5px 5px;box-shadow: 0px 0px 4px 1px #000;margin-bottom: 10px;\"\n                                 width=\"100%\" alt=\"\"/>\n                        </viewer>\n                    </div>\n                    <div class=\"map position-relative\">\n                        <div class=\"gaode-fullscreen\" @click=\"showMapTip\"\n                             v-if=\"map && (map.lat != 0 || map.area.length > 0) && $store.getters.userInfo.country && $store.getters.userInfo.country == 'China'\">\n                            <img src=\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%20018%2018%22%3E%0A%20%20%3Cpath%20fill%3D%22%23666%22%20d%3D%22M0%2C0v2v4h2V2h4V0H2H0z%20M16%2C0h-4v2h4v4h2V2V0H16z%20M16%2C16h-4v2h4h2v-2v-4h-2V16z%20M2%2C12H0v4v2h2h4v-2H2V12z%22%2F%3E%0A%3C%2Fsvg%3E%0A\"\n                                 class=\"map-img-18\"/>\n                        </div>\n                        <myMap :elementId=\"'map-1'\" :map=\"map\"\n                               :class=\"map && (map.lat != 0 || map.area.length > 0) ? '' : 'hidden'\"></myMap>\n                        <div class=\"img text-center\" v-if=\"map && map.lat == 0 && map.area == 0\"\n                             style=\"height: 40vh;margin-top: 15vh;\">\n                            <img src=\"@/assets/pages-img/Location_not_available.svg\" width=\"100px\"/>\n                            <p style=\"margin-top: 14px\">\n                                {{ $t(\"m.vehicle_detail.no_map\") }}\n                            </p>\n                        </div>\n                    </div>\n                </b-col>\n            </b-row>\n        </b-card>\n        <b-card style=\"margin-top: 20px;\">\n            <div slot=\"header\">\n                {{ $t(\"m.cloud.vehicle_oper\") }}\n            </div>\n            <template v-if=\"rows !== 0\">\n                <b-row class=\"border-bottom-0\">\n                    <b-table class=\"user-table-list mb-0 table-outline table-responsive-sm\" striped hover :items=\"items\"\n                             :fields=\"fields\">\n                        <template slot=\"operation\" slot-scope=\"items\">\n                            <span>{{ items.item.type }}</span>\n                        </template>\n                        <template slot=\"vehicle\" slot-scope=\"items\">\n                            <a v-if=\"items.item.operator\" class=\"btn-md link-detail\"\n                               @click=\"$router.push('/inventory/admin/detail/' + items.item.userId)\">\n                                {{ items.item.operator }}\n                            </a>\n                            <span v-else>N/A</span>\n                        </template>\n                        <template slot=\"time\" slot-scope=\"items\">\n                            <div class=\"btn-md\">{{ items.item.time }}</div>\n                        </template>\n                    </b-table>\n                </b-row>\n\n                <b-pagination align=\"right\" :total-rows=\"rows\" v-model=\"currentPage\" :per-page=\"perPage\"\n                              @input=\"turnToPage(currentPage)\"></b-pagination>\n                <div class=\"dataTables_info text-right\" id=\"DataTables0\"\n                     style=\"display: inline-block;position: absolute;margin-top: -46px;\" role=\"status\"\n                     aria-live=\"polite\">\n                    <span v-if=\"totalPages > 0\"\n                    >{{ $t(\"m.common.show\") }}\n                        {{ 10 * (currentPage - 1) + 1 }}\n                        {{ $t(\"m.common.to\") }}\n                        {{ currentPage === totalPages ? rows : currentPage * 10 }}\n                        {{ $t(\"m.common.of\") }} {{ rows }} {{ $t(\"m.common.entries\") }}</span\n                    >\n                    <span v-else>{{ $t(\"m.common.show\") }} 0 {{ $t(\"m.common.to\") }} 0 {{ $t(\"m.common.of\") }} {{ rows }} {{ $t(\"m.common.entries\") }}</span>\n                </div>\n            </template>\n            <template v-else>\n                <b-row class=\"border-bottom-0\">\n                    <b-col class=\"col-12 text-center\">\n                        <span>{{ $t(\"m.cloud.un_operation_record\") }}</span>\n                    </b-col>\n                </b-row>\n            </template>\n        </b-card>\n        <b-card style=\"margin-top: 20px;\">\n            <div slot=\"header\">\n                {{ $t(\"m.cloud.test_record\") }}\n            </div>\n            <template v-if=\"orderRows !== 0\">\n                <b-row style=\"border-bottom: 0px;\">\n                    <b-table class=\"mb-0 table-outline table-responsive-sm user-table-list\" striped hover\n                             :items=\"historyData\" :fields=\"history\">\n                        <template slot=\"orderId\" slot-scope=\"data\">\n                            <div class=\"has-link-detail\"\n                                 @click=\"$router.push('/test-drive/reservation-order/detail/' + data.item.orderId)\">\n                                {{ data.item.orderNum }}\n                            </div>\n                        </template>\n                        <template slot=\"user\" slot-scope=\"data\">\n                            <div v-if=\"!data.item.name\">\n                                <div class=\"has-link-detail\"\n                                     @click=\"$router.push('/test-drive/test-user/detail/' + data.item.dUserId)\">\n                                    {{ data.item.phone }}\n                                </div>\n                                <div>{{ $t(\"m.cloud.name_un_get\") }}</div>\n                            </div>\n                            <div v-else class=\"has-link-detail\"\n                                 @click=\"$router.push('/test-drive/test-user/detail/' + data.item.dUserId)\">\n                                <div>{{ data.item.phone }}</div>\n                                <div>{{ data.item.name }}</div>\n                            </div>\n                        </template>\n                        <template slot=\"point\" slot-scope=\"data\">\n                            <div class=\"has-link-detail\"\n                                 @click=\"$router.push('/test-drive/test-point/detail/' + data.item.pointId)\">\n                                {{ data.item.point }}\n                            </div>\n                        </template>\n                        <template slot=\"time\" slot-scope=\"data\">\n                            <div>\n                                {{ data.item.startTime }}\n                                {{ \"~\" + data.item.endTime }}\n                            </div>\n                        </template>\n                    </b-table>\n                </b-row>\n                <b-pagination align=\"right\" :total-rows=\"orderRows\" v-model=\"orderCurrentPage\" :per-page=\"orderPerPage\"\n                              @input=\"turnToOrderPage(currentPage)\"></b-pagination>\n                <div class=\"dataTables_info text-right d-inline-block position-absolute margin-top-46\" role=\"status\" aria-live=\"polite\">\n                    <span v-if=\"orderTotalPages > 0\">\n                        {{ $t(\"m.common.show\") }}\n                        {{ 10 * (orderCurrentPage - 1) + 1 }}\n                        {{ $t(\"m.common.to\") }}\n                        {{ orderCurrentPage === orderTotalPages ? orderRows : orderCurrentPage * 10 }}\n                        {{ $t(\"m.common.of\") }} {{ orderRows }} {{ $t(\"m.common.entries\") }}</span\n                    >\n                    <span v-else>{{ $t(\"m.common.show\") }} 0 {{ $t(\"m.common.to\") }} 0 {{ $t(\"m.common.of\") }} {{ orderRows }} {{ $t(\"m.common.entries\") }}</span>\n                </div>\n            </template>\n            <template v-else>\n                <b-row class=\"border-0\">\n                    <b-col class=\"col-12 text-center\">\n                        <span>{{ $t(\"m.cloud.un_drive_record\") }}</span>\n                    </b-col>\n                </b-row>\n            </template>\n        </b-card>\n        <p class=\"text-center user-table-list\">\n            {{ $t(\"m.cloud.drive_vehicle_delete\") }}\n        </p>\n        <p class=\"text-center\">\n            {{ $t(\"m.cloud.before_delete_vehicle\") }}\n        </p>\n\n        <div class=\"text-center\" style=\"margin-bottom: 10px;\">\n            <button class=\"btn btn-danger active\" @click=\"showDeleteVehicle()\">\n                {{ $t(\"m.cloud.delete\") }}\n            </button>\n        </div>\n\n        <b-modal ref=\"my-modal\" v-model=\"showMap\" :cancel-title=\"$t('m.tip.b_cancel')\" :ok-title=\"$t('m.tip.b_ok')\"\n                 @ok=\"showMap = false\" class=\"show-map show-google-gaode\">\n            <myMap :map=\"map\" :elementId=\"'map-2'\"\n                   :class=\"map && (map.lat != 0 || map.area.length > 0) ? '' : 'hidden'\"></myMap>\n        </b-modal>\n\n        <b-modal ref=\"my-modal\" v-model=\"deleteErrorTip\" :title=\"$t('m.tip.warn')\" @ok=\"delVehicle\"\n                 :ok-title=\"$t('m.tip.confirm')\" :cancel-title=\"$t('m.tip.b_cancel')\" ok-only>\n            {{ $t(\"m.tip.confirm_del_vehicle\") }}\n        </b-modal>\n        <b-modal class=\"lock-my-car\" ref=\"my-modal\" v-model=\"showLockModel\" :title=\"lockOperTitle\"\n                 :cancel-title=\"$t('m.tip.b_cancel')\" :ok-title=\"$t('m.tip.confirm')\" @ok=\"confirmLockOper()\">\n            <p class=\"text-center\">{{ lockOperContent }}</p>\n        </b-modal>\n\n        <b-modal class=\"lock-my-car remind-modal\" @ok=\"showOperation === false\" v-model=\"showOperation\"\n                 id=\"modal-operation-remind\" :title=\"lockOperTitle\" :ok-title=\"$t('m.tip.confirm')\" ok-only>\n            <p class=\"my-4 text-center\">{{ showOperationText }}</p>\n        </b-modal>\n        <b-modal ref=\"my-modal-7\" v-model=\"installDeviceStatus\" :ok-disabled=\"!imeiIsVaild\" :ok-title=\"$t('m.tip.b_ok')\"\n                 @ok=\"installDevice()\" class=\"select-store\" ok-only>\n            <template slot=\"modal-title\">\n                {{ this.$t(\"m.vehicle.install_device\") }}\n            </template>\n            <div class=\"text-left\">\n                <!--                <p style=\"color: #cc0000\">{{this.$t('m.sold_vehicle.transform_vehicle_to_other_store_content') }}</p>-->\n                <div class=\"select-box\">\n                    <div class=\"col-md-3\">\n                        <p>{{ this.$t(\"m.vehicle.input_mind\") }}</p>\n                    </div>\n                    <div class=\"col-md-9\">\n                        <b-form-input type=\"text\" aria-describedby=\"input-live-help input-live-feedback\" id=\"input-live\"\n                                      :placeholder=\"$t('m.vehicle.input_mind')\" v-model=\"inputText\"\n                                      :class=\"!imeiIsVaild ? 'is-invalid' : ''\" maxlength=\"15\"></b-form-input>\n                        <b-form-invalid-feedback id=\"input-live-feedback\" v-if=\"!imeiIsVaild\">\n                            {{ $t(\"m.car_box.IMEI_verify\") }}\n                        </b-form-invalid-feedback>\n                    </div>\n                </div>\n            </div>\n        </b-modal>\n        <b-modal ref=\"my-modal-6\" v-model=\"installStatus\" @ok=\"installSuccess ? reloadPage() : ''\"\n                 :ok-title=\"$t('m.tip.b_ok')\" class=\"select-store\" ok-only>\n            <template slot=\"modal-title\">\n                {{ $t(\"m.cloud.vehicle_oper\") }}\n            </template>\n            <div class=\"text-left\">\n                <p>\n                    {{ installSuccess === true ? $t(\"m.cloud.insert_succ_title\") : $t(\"m.tip.update_failed\") }}\n                </p>\n            </div>\n        </b-modal>\n        <b-modal class=\"lock-my-car\" ref=\"my-modal\" v-model=\"bUnpair\" :title=\"$t('m.cloud.confirmUnbundling')\"\n                 :cancel-title=\"$t('m.tip.b_cancel')\" :ok-title=\"$t('m.tip.confirm')\" @ok=\"unPairdevice()\">\n            <p class=\"text-center\">\n                {{ $t(\"m.cloud.confirm_Unbund\") }}\n            </p>\n        </b-modal>\n        <Alert @closeRemindBox=\"closeBox()\" :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n               :title=\"showAlerts.title\" :content=\"showAlerts.content\"></Alert>\n    </div>\n</template>\n\n<script>\n    import httpclient from \"@/utils/httpclient\";\n    import {getDateString, getDaysBetweenDate} from \"@/utils/date\";\n    import myMap from \"@/components/map\";\n    import Alert from \"@components/model\";\n    import \"@/utils/viewer\"; //该组件的js是预览图片组件，按需引用即可\n\n    export default {\n        name: \"vehicleDetail\",\n        components: {\n            myMap,\n            Alert\n        },\n        data() {\n            return {\n                btnGroup: {\n                    btnFirst: \"Cancel\",\n                    btnSecond: \"OK\"\n                },\n                showOperation: false,\n                showOperationText: \"\",\n                deleteErrorTip: false,\n                data: {},\n                showMap: false,\n                map: null,\n                showLockModel: false,\n                searchGoogleMap: {},\n                tipTitle: \"\",\n                transferStatus: false,\n                transferContents: \"\",\n                transferTitle: \"\",\n                soldStatus: \"\",\n                soldOutC: \"\",\n                lockOperContent: \"\",\n                lockOperTitle: \"\",\n                fields: {\n                    operation: {\n                        key: \"operationType\",\n                        label: this.$t(\"m.common.action\"),\n                        class: \"text-center\"\n                    },\n                    vehicle: {\n                        key: \"vehicle\",\n                        label: this.$t(\"m.vehicle_detail.operator\"),\n                        class: \"text-center\"\n                    },\n                    time: {\n                        key: \"time\",\n                        label: this.$t(\"m.common.time\"),\n                        class: \"text-center\"\n                    }\n                },\n                history: {\n                    orderId: {\n                        key: \"orderId\",\n                        label: this.$t(\"m.cloud.appoint_order\"),\n                        class: \"text-center\"\n                    },\n                    user: {\n                        key: \"user\",\n                        label: this.$t(\"m.dashboard.test_user_info\"),\n                        class: \"text-center\"\n                    },\n                    point: {\n                        key: \"point\",\n                        label: this.$t(\"m.dashboard.test_point_info\"),\n                        class: \"text-center\"\n                    },\n                    time: {\n                        key: \"time\",\n                        label: this.$t(\"m.cloud.rese_test_drive\"),\n                        class: \"text-center\"\n                    },\n                    status: {\n                        key: \"status\",\n                        label: this.$t(\"m.cloud.appoint_order_status\"),\n                        class: \"text-center\"\n                    }\n                },\n                options: [],\n                selected: null,\n                items: [],\n                totalPages: 1,\n                currentPage: 1,\n                perPage: 10,\n                rows: 1,\n                orderTotalPages: 1,\n                orderCurrentPage: 1,\n                orderPerPage: 10,\n                orderRows: 1,\n                myCurrentMileage: null,\n                historyData: [],\n                curOperLockStatus: null,\n                deviceMac: \"\",\n                vin: \"\",\n                bUnpair: false,\n                installDeviceStatus: false,\n                imeiIsVaild: true,\n                showAlerts: {\n                    title: \"\",\n                    show: false,\n                    content: \"\",\n                    buttonText: \"\"\n                },\n                inputText: \"\",\n                installSuccess: false,\n                installStatus: false,\n                isOnline: \"\"\n            };\n        },\n        watch: {\n            inputText(newV) {\n                if (newV.length === 15) {\n                    this.imeiIsVaild = true;\n                } else {\n                    this.imeiIsVaild = false;\n                }\n            }\n        },\n        mounted() {\n            if (this.$i18n.locale === \"en-US\") {\n                this.changedLanguage = \"English\";\n            } else {\n                this.changedLanguage = \"Chinese\";\n            }\n            let self = this;\n            httpclient\n                .get(\"/api/v1/clouddrive/vehicle/detail/id?vehicleId=\" + this.$route.params.id, {})\n                .then(response => {\n                    self.data = response.data.data;\n                    this.isOnline = response.data.data.isOnline;\n                    this.deviceMac = response.data.data.deviceMac;\n                    this.vin = response.data.data.vin;\n                    let year = self.data.year ? self.data.year : \"N/A\";\n                    let make = self.data.make ? self.data.make : \"N/A\";\n                    let model = self.data.model ? self.data.model : \"N/A\";\n                    let info = year == \"N/A\" && make == \"N/A\" && model == \"N/A\" ? \"N/A\" : year + \" \" + make + \" \" + model;\n                    self.tipTitle = info;\n                    self.map = {\n                        lat: self.data.lastLocationLat ? self.data.lastLocationLat : 0,\n                        lng: self.data.lastLocationLng ? self.data.lastLocationLng : 0,\n                        area: self.data.areaCoordinates ? self.data.areaCoordinates : [],\n                        vehicleInfo: info\n                    };\n\n                    let _mileage = null;\n                    if (response.data.data.currentMileage) {\n                        if (self.changedLanguage === \"English\") {\n                            _mileage = (response.data.data.currentMileage * 0.0006214).toFixed(0);\n                        } else {\n                            _mileage = (response.data.data.currentMileage / 1000).toFixed(0);\n                        }\n                    } else {\n                        _mileage = \"N/A\";\n                    }\n                    self.myCurrentMileage = _mileage;\n                })\n                .catch(err => {\n                    // console.log(err);\n                    err;\n                });\n\n            this.getVehicleOperatorList(1);\n            this.getOrderList();\n        },\n        methods: {\n            showMapTip() {\n                this.showMap = true;\n            },\n            confirmLockOper() {\n                if (this.curOperLockStatus) {\n                    httpclient\n                        .post(\"/api/v1/clouddrive/vehicle/controllock\", {\n                            vehicleId: this.$route.params.id,\n                            controlType: this.curOperLockStatus == \"lock\" ? 0 : 1\n                        })\n                        .then(res => {\n                            if (res.data.code == 200 && res.data.data.result) {\n                                this.showOperation = true;\n                                this.showOperationText = this.$t(\"m.cloud.lock_succ_content\");\n                            } else {\n                                this.showOperation = true;\n                                this.showOperationText = this.$t(\"m.cloud.lock_fail_content\");\n                            }\n                        });\n                }\n            },\n            showLock(type) {\n                this.curOperLockStatus = type ? \"lock\" : \"unlock\";\n                this.lockOperContent = type ? this.$t(\"m.cloud.confirm_lock\") : this.$t(\"m.cloud.confirm_unlock\");\n                this.lockOperTitle = type ? this.$t(\"m.cloud.confirm_lock_title\") : this.$t(\"m.cloud.confirm_unlock_title\");\n                this.showLockModel = true;\n            },\n            getOrderList() {\n                httpclient.get(\"/api/v1/clouddrive/order/pagelistbyvehicle?vehicleid=\" + this.$route.params.id).then(res => {\n                    if (res.data.code == 200) {\n                        this.orderPerPage = res.data.data.pageSize;\n                        this.orderTotalPages = res.data.data.totalPages;\n                        this.orderRows = res.data.data.rowCount;\n                        this.insertOrderList(res.data.data.datas);\n                    }\n                });\n            },\n            insertOrderList(data) {\n                this.historyData = data.map(item => {\n                    return {\n                        orderNum: item.orderServiceNum,\n                        orderId: item.orderId,\n                        dUserId: item.dUserId,\n                        name: item.usedName,\n                        checkStatus: item.checkStatus ? item.checkStatus : null,\n                        phone: item.phone,\n                        point: item.parkingName ? item.parkingName : \"N/A\",\n                        pointId: item.parkingId,\n                        startTime: this.getDateString(item.appointmentStartTime),\n                        endTime: this.getDateString(item.appointmentEndTime).split(\"  \")[1],\n                        status: item.orderStatus == 10 ? this.$t(\"m.cloud.wait_pick_up\") : item.orderStatus == 20 ? this.$t(\"m.cloud.wait_return\") : item.orderStatus == 30 ? this.$t(\"m.cloud.returned_vehicle\") : this.$t(\"m.cloud.canceled\")\n                    };\n                });\n            },\n            getDateString(data) {\n                return getDateString(data);\n            },\n            getDaysBetweenDate(data, time) {\n                return getDaysBetweenDate(data, time);\n            },\n            showDeleteVehicle() {\n                this.deleteErrorTip = true;\n            },\n            delVehicle() {\n                httpclient\n                    .post(\"/api/v1/clouddrive/vehicle/delete\", {\n                        vehicleId: this.$route.params.id\n                    })\n                    .then(res => {\n                        if (res.data.code == 200 && res.data.data.result) {\n                            this.$router.push(\"/test-drive/test-vehicle/list\");\n                        } else {\n                            alert(res.data.data.msg);\n                        }\n                    });\n            },\n            getVehicleOperatorList(page) {\n                let myVehicleId = this.$route.params.id;\n                let myLink = \"/api/v1/operationlog/listbyvehicleid?pageNo=\" + page + \"&vehicleId=\" + myVehicleId;\n                httpclient.get(myLink).then(res => {\n                    let myData = res.data.data.datas;\n                    this.items = myData;\n                    this.searchGoogleMap = myData;\n                    // this.currentPage = res.data.data.pageNo;\n                    this.perPage = res.data.data.pageSize;\n                    this.totalPages = res.data.data.totalPages;\n                    this.rows = res.data.data.rowCount;\n                    let myArr = [];\n                    myData.map(item => {\n                        myArr.push({\n                            operationType: item.operationType,\n                            operator: item.userName,\n                            time: this.getDateString(item.createTime),\n                            userId: item.userId\n                        });\n                    });\n                    this.items = myArr;\n                });\n            },\n            turnToPage(p) {\n                this.getVehicleOperatorList(p ? p : 1);\n            },\n            turnToOrderPage(p) {\n                this.getOrderList(p ? p : 1);\n            },\n            showBindInfo() {\n                this.installDeviceStatus = !this.installDeviceStatus;\n            },\n            installDevice() {\n                httpclient\n                    .post(\"/api/v1/clouddrive/device/box/bind\", {\n                        deviceImei: this.inputText,\n                        vehicleId: this.$route.params.id,\n                        deviceType: 1\n                    })\n                    .then(res => {\n                        if (res.data.code === 200 && res.data.data.result) {\n                            this.installStatus = true;\n                            this.installSuccess = true;\n                            // window.location.reload();\n                        } else {\n                            this.installStatus = false;\n                            this.installSuccess = true;\n                        }\n                    })\n                    .catch(err => {\n                        err;\n                    });\n            },\n            unPairdevice() {\n                //设备解绑，未绑定的设备，按钮不显示\n                let link = \"/api/v1/vehicle/unbind/device\";\n                let self = this;\n                let data = {\n                    deviceMac: this.deviceMac,\n                    vin: this.vin\n                };\n                httpclient\n                    .post(link, data)\n                    .then(function (res) {\n                        if (res.data.code === 200) {\n                            let passData = {\n                                title: self.$t(\"m.tip.info\"),\n                                show: true,\n                                content: self.$t(\"m.tip.vehicle_unpair_success\"),\n                                buttonText: {\n                                    btnFirst: \"\",\n                                    btnSecond: self.$t(\"m.tip.b_ok\")\n                                }\n                            };\n                            self.closeRemind(passData);\n                            // window.location.reload()\n                        }\n                    })\n                    .catch(function (err) {\n                        if (err) {\n                            let passData = {\n                                title: self.$t(\"m.tip.info\"),\n                                show: true,\n                                content: self.$t(\"m.tip.vehicle_unpair_failed\"),\n                                buttonText: {\n                                    btnFirst: \"\",\n                                    btnSecond: self.$t(\"m.tip.b_ok\")\n                                }\n                            };\n                            self.closeRemind(passData);\n                        }\n                    });\n            },\n            closeRemind(data) {\n                this.showAlerts.show = data.show;\n                this.showAlerts.title = data.title;\n                this.showAlerts.content = data.content;\n                this.showAlerts.buttonText = data.buttonText;\n                // window.location.reload()\n            },\n            closeBox() {\n                //子组件来请求父组件关闭弹窗\n                this.showAlerts.show = !this.showAlerts.show;\n                window.location.reload();\n                if (this.updateDetail === \"update\") {\n                    //如果是update车辆信息，成功后到详情页面\n                    this.$router.push(\"/test-drive/test-vehicle/detail/\" + this.id);\n                }\n            },\n            reloadPage() {\n                window.location.reload();\n            }\n        }\n    };\n</script>\n\n<style lang=\"scss\" scoped>\n    .vehicle-detail {\n        .margin-b-10 {\n            margin-bottom: 10px;\n        }\n        .margin-top-46 {\n            margin-top: -46px;\n        }\n        .map-img-18 {\n            height: 18px;\n            width: 18px;\n        }\n        .select-store {\n            .modal-dialog {\n                max-width: 800px;\n            }\n\n            .select-box {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n\n                .col-md-4 {\n                    padding-left: 0;\n                }\n\n                .col-md-8 {\n                    padding-right: 0;\n                }\n\n                p {\n                    margin-bottom: 0;\n                }\n            }\n        }\n\n        .row {\n            border-bottom: 1px solid #23282c;\n            padding: 0.75rem 1.25rem;\n\n            .img-box {\n                width: 100%;\n            }\n        }\n\n        .gaode-fullscreen {\n            background: #ffffff;\n            width: 30px;\n            height: 30px;\n            text-align: center;\n            line-height: 30px;\n            position: absolute;\n            z-index: 1;\n            right: 6px;\n            top: 6px;\n        }\n\n        .show-map .modal-dialog {\n            width: 80%;\n            max-width: 1200px;\n        }\n\n        .user-table-list {\n            margin-top: 20px;\n\n            .link-detail {\n                color: #20a8d8 !important;\n                cursor: pointer;\n\n                &:hover {\n                    text-decoration: underline !important;\n                    color: #167495 !important;\n                }\n            }\n        }\n    }\n\n    .vehicle-detail {\n        .card-body {\n            padding: 0 1.25rem;\n        }\n\n        .title {\n            font-size: 18px;\n            color: #63c2de;\n        }\n\n        .card {\n            margin: 0 auto;\n        }\n\n        .hidden {\n            display: none;\n        }\n\n        .left {\n            padding: 10px;\n            padding-top: 0;\n\n            .row {\n                margin: 0px;\n                border-bottom: 1px solid #23282c;\n                padding: 10px;\n            }\n\n            .row > div {\n                padding-left: 4px;\n            }\n        }\n\n        .right {\n            .table thead th {\n                color: grey;\n            }\n\n            #map {\n                height: 40vh;\n            }\n        }\n    }\n\n    .modal-dialog {\n        max-width: 50% !important;\n        width: 50% !important;\n    }\n\n    .lock-my-car {\n        .modal-header {\n            .modal-title {\n                width: 100%;\n                text-align: center;\n            }\n        }\n\n        .modal-footer {\n            justify-content: center;\n        }\n    }\n\n    .remind-modal {\n        .modal-footer {\n            .btn {\n                margin: 0 auto;\n            }\n        }\n    }\n\n    .has-link-detail {\n        cursor: pointer;\n        font-weight: bolder;\n        margin-bottom: 1px;\n        color: #63c2de;\n        text-decoration: underline;\n    }\n\n    .button-red {\n        display: inline-block;\n        width: 50px;\n        height: 20px;\n        background-color: #f86c6b !important;\n        color: #fff;\n        line-height: 10px;\n        border-radius: 5px;\n        border: none;\n        padding: 0;\n    }\n\n    .button-primary {\n        display: inline-block;\n        width: 80px;\n        height: 20px;\n        line-height: 10px;\n        background-color: #63c2de !important;\n        color: #fff !important;\n        border: none;\n        border-radius: 5px;\n    }\n\n    .online-success {\n        background: #4dbd74;\n        padding: 0 10px;\n        border-radius: 10px;\n        font-weight: bold;\n        color: #ffffff;\n    }\n\n    .online-danger {\n        background-color: #f86c6b;\n        padding: 0 10px;\n        border-radius: 10px;\n        font-weight: bold;\n        color: #ffffff;\n    }\n\n    .online-gray {\n        background-color: #c8ced3;\n        padding: 0 10px;\n        border-radius: 10px;\n        color: #23282c;\n        font-weight: bold;\n    }\n</style>\n"],"sourceRoot":"src/views/dashboard/testDrive"}]}