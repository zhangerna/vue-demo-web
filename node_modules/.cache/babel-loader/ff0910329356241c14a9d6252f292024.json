{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/components/tripAMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/components/tripAMap.vue","mtime":1575531911000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { wgs84ToGcjo2 } from \"@/utils/coordtransform\";\nimport AMap from 'AMap';\nexport default {\n  name: \"amap\",\n  props: [\"map\"],\n  data: function data() {\n    return {\n      mapObj: null,\n      polygon: null,\n      lat: \"\",\n      lng: \"\",\n      safeLayer: null,\n      roadLayer: null,\n      mapInfo: null\n    };\n  },\n  watch: {\n    map: function map(newVal) {\n      this.mapInfo = newVal;\n      this.initMap();\n    }\n  },\n  methods: {\n    changeMapType: function changeMapType(type) {\n      if (type == 'default') {\n        this.roadLayer.hide();\n        this.safeLayer.hide();\n      } else {\n        this.roadLayer.show();\n        this.safeLayer.show();\n      }\n    },\n    initMap: function initMap() {\n      this.mapObj = new AMap.Map('polygon', {\n        center: [this.mapInfo.center.lng, this.mapInfo.center.lat],\n        zoom: 8\n      }); // 卫星地图的切换\n\n      this.safeLayer = new AMap.TileLayer.Satellite({});\n      this.roadLayer = new AMap.TileLayer.RoadNet({});\n      this.mapObj.add(this.safeLayer);\n      this.mapObj.add(this.roadLayer);\n      this.safeLayer.hide();\n      this.roadLayer.hide();\n      var area2 = [];\n      this.mapInfo['area'] ? this.mapInfo['area'].map(function (item) {\n        area2.push(wgs84ToGcjo2(Number(item.lng), Number(item.lat)));\n      }) : '';\n      var polyline = new AMap.Polyline({\n        path: area2,\n        strokeColor: '#FF0000',\n        strokeOpacity: 0.8,\n        strokeWeight: 2,\n        fillColor: '',\n        fillOpacity: 0.35\n      });\n      polyline.setMap(this.mapObj);\n      this.mapObj.setFitView();\n    }\n  }\n};",{"version":3,"sources":["tripAMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,SAAA,YAAA,QAAA,wBAAA;AACA,OAAA,IAAA,MAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,KAAA,EAAA,CAAA,KAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,GAAA,EAAA,EAHA;AAIA,MAAA,GAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,IALA;AAMA,MAAA,SAAA,EAAA,IANA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,GAbA;AAcA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA,aAAA,MAAA,EAAA;AACA,WAAA,OAAA,GAAA,MAAA;AACA,WAAA,OAAA;AACA;AAJA,GAdA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,IADA,EACA;AACA,UAAA,IAAA,IAAA,SAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA;AACA,aAAA,SAAA,CAAA,IAAA;AACA,OAHA,MAGA;AACA,aAAA,SAAA,CAAA,IAAA;AACA,aAAA,SAAA,CAAA,IAAA;AACA;AACA,KATA;AAUA,IAAA,OAVA,qBAUA;AACA,WAAA,MAAA,GAAA,IAAA,IAAA,CAAA,GAAA,CAAA,SAAA,EAAA;AACA,QAAA,MAAA,EAAA,CAAA,KAAA,OAAA,CAAA,MAAA,CAAA,GAAA,EAAA,KAAA,OAAA,CAAA,MAAA,CAAA,GAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA,CAAA,CADA,CAKA;;AACA,WAAA,SAAA,GAAA,IAAA,IAAA,CAAA,SAAA,CAAA,SAAA,CAAA,EAAA,CAAA;AAEA,WAAA,SAAA,GAAA,IAAA,IAAA,CAAA,SAAA,CAAA,OAAA,CAAA,EAAA,CAAA;AAEA,WAAA,MAAA,CAAA,GAAA,CAAA,KAAA,SAAA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,KAAA,SAAA;AACA,WAAA,SAAA,CAAA,IAAA;AACA,WAAA,SAAA,CAAA,IAAA;AAEA,UAAA,KAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,MAAA,IAAA,KAAA,OAAA,CAAA,MAAA,EAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,YAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA,EAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAFA,CAAA,GAEA,EAFA;AAGA,UAAA,QAAA,GAAA,IAAA,IAAA,CAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,WAAA,EAAA,SAFA;AAGA,QAAA,aAAA,EAAA,GAHA;AAIA,QAAA,YAAA,EAAA,CAJA;AAKA,QAAA,SAAA,EAAA,EALA;AAMA,QAAA,WAAA,EAAA;AANA,OAAA,CAAA;AAQA,MAAA,QAAA,CAAA,MAAA,CAAA,KAAA,MAAA;AACA,WAAA,MAAA,CAAA,UAAA;AACA;AAvCA;AApBA,CAAA","sourcesContent":["<template>\n    <div class=\"maps\">\n        <div class=\"map-btn-group\">\n            <ul>\n                <li @click=\"changeMapType('default')\">地图 |</li>\n                <li @click=\"changeMapType('sate')\">&nbsp;卫星图像</li>\n            </ul>\n        </div>\n        <div class=\"amap my-map\" id=\"polygon\">\n        </div>\n    </div>\n</template>\n\n<style lang=\"scss\">\n    .maps {\n        .map-btn-group {\n            position: absolute;\n            margin-top: 10px;\n            z-index: 1;\n            margin-left: 20px;\n            ul {\n                color: grey;\n                padding: 0 20px;\n                height: 40px;\n                line-height: 40px;\n                background: #ffffff;\n                font-size: 18px;\n                li {\n                    cursor: pointer;\n                    display: inline-block;\n                }\n            }\n        }\n        #polygon {\n            height: 30vh;\n            width: 100%;\n        }\n        .my-map{\n            height: 70vh;\n            width: 100%;\n            .amap-info {\n                width: 200px;\n            }\n            .amap-info-contentContainer {\n                background:#ffffff;\n                border-radius: 10px;\n                h5 {\n                    padding-left: 10px;\n                }\n            }\n        }\n    }\n</style>\n\n<script>\n    import { wgs84ToGcjo2 } from \"@/utils/coordtransform\"\n    import AMap from 'AMap'\n    export default {\n        name: \"amap\",\n        props: [\"map\"],\n        data() {\n            return {\n                mapObj: null,\n                polygon: null,\n                lat: \"\",\n                lng: \"\",\n                safeLayer: null,\n                roadLayer: null,\n                mapInfo: null\n            }\n        },\n        watch: {\n            map: function (newVal) {\n                this.mapInfo = newVal;\n                this.initMap();\n            }\n        },\n        methods: {\n            changeMapType(type) {\n                if (type == 'default') {\n                    this.roadLayer.hide();\n                    this.safeLayer.hide();\n                } else {\n                    this.roadLayer.show();\n                    this.safeLayer.show();\n                }\n            },\n            initMap() {\n                this.mapObj = new AMap.Map('polygon', {\n                    center: [this.mapInfo.center.lng, this.mapInfo.center.lat],\n                    zoom: 8\n                });\n                // 卫星地图的切换\n                this.safeLayer = new AMap.TileLayer.Satellite({\n                });\n                this.roadLayer = new AMap.TileLayer.RoadNet({\n                });\n                this.mapObj.add(this.safeLayer);\n                this.mapObj.add(this.roadLayer);\n                this.safeLayer.hide();\n                this.roadLayer.hide();\n\n                let area2 = [];\n                this.mapInfo['area'] ? this.mapInfo['area'].map(function (item) {\n                    area2.push(wgs84ToGcjo2(Number(item.lng), Number(item.lat) ))\n                }) : '';\n                let polyline = new AMap.Polyline({\n                    path: area2,\n                    strokeColor: '#FF0000',\n                    strokeOpacity: 0.8,\n                    strokeWeight: 2,\n                    fillColor: '',\n                    fillOpacity: 0.35\n                });\n                polyline.setMap(this.mapObj);\n                this.mapObj.setFitView();\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/components"}]}