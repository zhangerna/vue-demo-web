{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/adminEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/adminEdit.vue","mtime":1560421842000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from '@/utils/httpclient';\nimport Alert from '@components/model';\nexport default {\n  name: 'adminEdit',\n  components: {\n    Alert: Alert\n  },\n  data: function data() {\n    return {\n      id: this.$route.params.id,\n      userName: '',\n      firstName: '123',\n      lastName: '432',\n      userEmail: '82482@u8u28.com',\n      phone: '',\n      adminId: 0,\n      status: 1,\n      role: '',\n      options1: ['Dealership Staff', 'Dealership Manager', 'Dealership Group Administrator'],\n      selected1: '',\n      options2: ['Active', 'InActive'],\n      selected2: '',\n      showAlerts: {\n        title: '',\n        content: '',\n        show: false,\n        buttonText: ''\n      }\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.adminId = this.$store.state.userInfo.userId;\n    var url = 'https://api-saas-qa.zus.ai/api/v1/getUserById';\n    httpClient.post(url, {\n      userId: this.id\n    }).then(function (res) {\n      var data = res.data.data;\n      _this.userName = data.lastName + ' ' + data.firstName;\n      _this.firstName = data.firstName;\n      _this.lastName = data.lastName;\n      _this.userEmail = data.userEmail;\n      _this.phone = data.phone;\n      _this.status = data.status === 1 ? 'Active' : 'InActive';\n      _this.role = data.role; //初始化role 和 status的下拉选择\n\n      var i = _this.options1.findIndex(function (val) {\n        return val === _this.role;\n      });\n\n      _this.selected1 = _this.options1[i];\n\n      var j = _this.options2.findIndex(function (item) {\n        return item === _this.status;\n      });\n\n      _this.selected2 = _this.options2[j];\n    });\n  },\n  methods: {\n    saveData: function saveData() {\n      var _this2 = this;\n\n      var link = 'https://api-saas-qa.zus.ai/api/v1/updateUser';\n      var userRole;\n\n      if (this.selected1 === 'Dealership Staff') {\n        userRole = 'user';\n      } else if (this.selected1 === 'Dealership Manager') {\n        userRole = 'manager';\n      } else {\n        userRole = 'root';\n      }\n\n      var data = {\n        userId: this.id,\n        role: userRole,\n        status: this.selected2 === 'Active' ? 1 : 0\n      };\n      httpClient.post(link, data).then(function (res) {\n        if (res.data.code === 200) {\n          var passData = {\n            title: 'User Information Updated!',\n            show: true,\n            content: '',\n            buttonText: {\n              btnFirst: '',\n              btnSecond: 'OK',\n              userId: ''\n            }\n          };\n\n          _this2.closeRemind(passData);\n        }\n      });\n    },\n    closeBox: function closeBox() {\n      this.showAlerts.show = !this.showAlerts.show;\n    },\n    closeRemind: function closeRemind(data) {\n      this.showAlerts.show = data.show;\n      this.showAlerts.title = data.title;\n      this.showAlerts.content = data.content;\n      this.showAlerts.buttonText = data.buttonText;\n    }\n  }\n};",{"version":3,"sources":["adminEdit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"animated fadeIn\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <strong id=\"header-title\">Edit: {{userName}}</strong>\n          </div>\n\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col-sm-12 col-md-6 col-lg-6\">\n                <b-form-group label=\"FirstName\" label-align-sm=\"top\" class=\"mb-0\">\n                  <b-input disabled :value=\"firstName\"></b-input>\n                </b-form-group>\n              </div>\n              <div class=\"col-sm-12 col-md-6 col-lg-6\">\n                <b-form-group label=\"LastName\" label-align-sm=\"top\" class=\"mb-0\">\n                  <b-input disabled :value=\"lastName\"></b-input>\n                </b-form-group>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-12\">\n                <b-form-group label=\"UserEmail\" label-align-sm=\"top\" class=\"mb-0\">\n                  <b-input disabled :value=\"userEmail\"></b-input>\n                </b-form-group>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-12\">\n                <b-form-group label=\"Phone\" label-align-sm=\"top\" class=\"mb-0\">\n                  <b-input disabled :value=\"phone\"></b-input>\n                </b-form-group>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-sm-12 col-md-6 col-lg-6\">\n                <b-form-group label=\"Role\" label-align-sm=\"top\">\n                  <b-form-select v-model=\"selected1\" :options=\"options1\" :disabled=\"adminId === id\"></b-form-select>\n                </b-form-group>\n              </div>\n\n              <div class=\"col-sm-12 col-md-6 col-lg-6\">\n                <b-form-group label=\"Active Status\" label-align-sm=\"top\">\n                  <b-form-select v-model=\"selected2\" :options=\"options2\" :disabled=\"adminId === id\"></b-form-select>\n                </b-form-group>\n              </div>\n            </div>\n\n            <div class=\"row\" v-if=\"adminId !== id\">\n              <div class=\"col-6\">\n                <b-button variant=\"primary\" @click=\"saveData\">Save</b-button>\n              </div>\n            </div>\n\n            <Alert @closeRemindBox='closeBox' :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n                   :title=\"showAlerts.title\" :content=\"showAlerts.content\">\n            </Alert>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n\timport httpClient from '@/utils/httpclient';\n\timport Alert from '@components/model'\n\n\texport default {\n\t\tname: 'adminEdit',\n\t\tcomponents: {\n\t\t\tAlert\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tid: this.$route.params.id,\n\t\t\t\tuserName: '',\n\t\t\t\tfirstName: '123',\n\t\t\t\tlastName: '432',\n\t\t\t\tuserEmail: '82482@u8u28.com',\n\t\t\t\tphone: '',\n        adminId:0,\n\t\t\t\tstatus: 1,\n\t\t\t\trole: '',\n\t\t\t\toptions1: [\n\t\t\t\t\t'Dealership Staff', 'Dealership Manager', 'Dealership Group Administrator'\n\t\t\t\t],\n\t\t\t\tselected1: '',\n\t\t\t\toptions2: [\n\t\t\t\t\t'Active', 'InActive'\n\t\t\t\t],\n\t\t\t\tselected2: '',\n\t\t\t\tshowAlerts: {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tshow: false,\n\t\t\t\t\tbuttonText: ''\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted() {\n        this.adminId = this.$store.state.userInfo.userId;\n\t\t\tlet url = 'https://api-saas-qa.zus.ai/api/v1/getUserById';\n\t\t\thttpClient.post(url, {userId: this.id}).then((res) => {\n\t\t\t\tlet data = res.data.data;\n\t\t\t\tthis.userName = data.lastName + ' ' + data.firstName;\n\t\t\t\tthis.firstName = data.firstName;\n\t\t\t\tthis.lastName = data.lastName;\n\t\t\t\tthis.userEmail = data.userEmail;\n\t\t\t\tthis.phone = data.phone;\n\t\t\t\tthis.status = data.status === 1 ? 'Active' : 'InActive';\n\t\t\t\tthis.role = data.role;\n\t\t\t\t//初始化role 和 status的下拉选择\n\t\t\t\tlet i = this.options1.findIndex((val) => val === this.role);\n\t\t\t\tthis.selected1 = this.options1[i];\n\t\t\t\tlet j = this.options2.findIndex((item) => item === this.status);\n\t\t\t\tthis.selected2 = this.options2[j]\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\tsaveData() {\n\t\t\t\tlet link = 'https://api-saas-qa.zus.ai/api/v1/updateUser';\n\t\t\t\tlet userRole;\n\t\t\t\tif (this.selected1 === 'Dealership Staff') {\n\t\t\t\t\tuserRole = 'user'\n\t\t\t\t} else if (this.selected1 === 'Dealership Manager') {\n\t\t\t\t\tuserRole = 'manager'\n\t\t\t\t} else {\n\t\t\t\t\tuserRole = 'root'\n\t\t\t\t}\n\t\t\t\tlet data = {\n\t\t\t\t\tuserId: this.id,\n\t\t\t\t\trole: userRole,\n\t\t\t\t\tstatus: this.selected2 === 'Active' ? 1 : 0\n\t\t\t\t};\n\t\t\t\thttpClient.post(link, data).then((res) => {\n\t\t\t\t\tif (res.data.code === 200) {\n\t\t\t\t\t\tlet passData = {\n\t\t\t\t\t\t\ttitle: 'User Information Updated!',\n\t\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t\tbuttonText: {\n\t\t\t\t\t\t\t\tbtnFirst: '',\n\t\t\t\t\t\t\t\tbtnSecond: 'OK',\n\t\t\t\t\t\t\t\tuserId: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.closeRemind(passData);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tcloseBox() {\n\t\t\t\tthis.showAlerts.show = !this.showAlerts.show;\n\t\t\t},\n\t\t\tcloseRemind(data) {\n\t\t\t\tthis.showAlerts.show = data.show;\n\t\t\t\tthis.showAlerts.title = data.title;\n\t\t\t\tthis.showAlerts.content = data.content;\n\t\t\t\tthis.showAlerts.buttonText = data.buttonText;\n\t\t\t},\n\t\t}\n\t}\n</script>\n<style lang=\"scss\" scoped>\n  .card-body {\n    .row {\n      margin-bottom: 20px;\n    }\n    .custom-select:disabled {\n      color: #73818f;\n      background-color: unset;\n    }\n  }\n</style>"],"sourceRoot":"src/views/dashboard/dashboardMain"}]}