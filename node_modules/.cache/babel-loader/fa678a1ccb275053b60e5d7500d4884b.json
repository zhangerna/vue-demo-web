{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/managerUser/adminInvite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/managerUser/adminInvite.vue","mtime":1577153439000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from '@/utils/httpclient';\nimport Alert from '@components/model';\nexport default {\n  name: 'adminInvite',\n  components: {\n    Alert: Alert\n  },\n  data: function data() {\n    return {\n      emails: [{\n        name: ''\n      }, {\n        name: ''\n      }],\n      btnActive: true,\n      showAlerts: {\n        title: '',\n        content: '',\n        show: false,\n        buttonText: ''\n      },\n      storeName: '',\n      opSave: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    httpClient.post('/api/v1/user/store').then(function (res) {\n      _this.storeName = res.data.data.storeName;\n    });\n  },\n  methods: {\n    addInputBox: function addInputBox() {\n      this.emails.push({\n        name: ''\n      });\n    },\n    getAllEmails: function getAllEmails() {\n      var _this2 = this;\n\n      var emailsArray = [];\n      var url = '/api/v1/inviteUser';\n      this.emails.map(function (item, i) {\n        item.name.length ? emailsArray.push(item.name) : '';\n      });\n      httpClient.post(url, {\n        emails: emailsArray.join(',')\n      }).then(function (res) {\n        if (res.data.code === 200) {\n          _this2.opSave = true;\n          _this2.showAlerts = {\n            title: _this2.$t('m.tip.suc'),\n            content: _this2.$t('m.tip.save_succ'),\n            show: true,\n            buttonText: {\n              btnSecond: _this2.$t('m.tip.b_ok')\n            }\n          };\n        }\n      });\n    },\n    verifyEmail: function verifyEmail(m) {\n      //验证输入值，合法才可以提交\n      var reg = /^.*@\\w+(\\.\\w+)+/;\n\n      if (!reg.test(m)) {\n        var passData = {\n          title: this.$t('m.tip.add_user_invite'),\n          show: true,\n          content: this.$t('m.tip.add_user_invalid_email'),\n          buttonText: {\n            btnFirst: '',\n            btnSecond: this.$t('m.tip.b_ok'),\n            userId: ''\n          }\n        };\n        this.closeRemind(passData);\n      } else {\n        this.btnActive = false;\n      }\n    },\n    closeBox: function closeBox() {\n      if (this.opSave) {\n        this.$router.push('/manager-user/list');\n      }\n\n      this.showAlerts.show = !this.showAlerts.show;\n    },\n    closeRemind: function closeRemind(data) {\n      this.showAlerts.show = data.show;\n      this.showAlerts.title = data.title;\n      this.showAlerts.content = data.content;\n      this.showAlerts.buttonText = data.buttonText;\n    }\n  }\n};",{"version":3,"sources":["adminInvite.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"animated fadeIn\">\n        <div class=\"row\">\n            <div class=\"col-lg-12\">\n                <div class=\"card\">\n                    <div class=\"card-header \"> {{ $t('m.admin.add_users') }}</div>\n                    <div class=\"card-body\">\n                        <div class=\"pb-3 text-secondary\">{{ $t('m.admin.invite_p') }}\n                            {{storeName}}</div>\n                        <div class=\"pb-3 font-syl\">{{ $t('m.admin.send_content') }} </div>\n                        <div class=\"form-input\">\n                            <div class=\"form-group col-md-6\" v-for=\"(item,i) in emails\" :key=\"i\">\n                                <b-input-group class=\"mt-3\">\n                                    <b-input-group-text slot=\"prepend\"><i class=\"fa fa-envelope\"></i></b-input-group-text>\n                                    <b-form-input v-model=\"item.name\" type=\"email\" @change=\"verifyEmail(item.name)\"></b-form-input>\n                                </b-input-group>\n                            </div>\n                        </div>\n                        <div class=\"form-group col-md-8 div-mar\" id=\"plusUserDiv\">\n                            <div class=\"input-group-append col-md-4\" @click=\"addInputBox\">\n                    <span class=\"input-group-text\" id=\"plusUserBtn\">\n                      <i class=\"fa fa-plus\"></i>\n                    </span>\n                            </div>\n                        </div>\n                        <div class=\"form-group form-actions col-6\">\n                            <b-button class=\"btn btn-info text-white\" @click=\"getAllEmails\" :disabled=\"btnActive\">{{ $t('m.common.b_save') }}</b-button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <Alert @closeRemindBox='closeBox' :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n                   :title=\"showAlerts.title\" :content=\"showAlerts.content\">\n            </Alert>\n\n        </div>\n\n\n    </div>\n</template>\n<script>\n    import httpClient from '@/utils/httpclient';\n    import Alert from '@components/model'\n\n    export default {\n        name: 'adminInvite',\n        components: {\n            Alert\n        },\n        data() {\n            return {\n                emails: [\n                    {\n                        name: ''\n                    },\n                    {\n                        name: '',\n                    }\n                ],\n                btnActive: true,\n                showAlerts: {\n                    title: '',\n                    content: '',\n                    show: false,\n                    buttonText: ''\n                },\n                storeName:'',\n                opSave: false\n            }\n        },\n        mounted(){\n            httpClient.post('/api/v1/user/store').then((res)=>{\n                this.storeName = res.data.data.storeName;\n            })\n        },\n        methods: {\n            addInputBox() {\n                this.emails.push({name: ''});\n            },\n            getAllEmails() {\n                let emailsArray = [];\n                let url = '/api/v1/inviteUser';\n                this.emails.map((item, i) => {\n                    item.name.length ? emailsArray.push(item.name) : '';\n                });\n                httpClient.post(url, {emails: emailsArray.join(',')}).then((res) => {\n                    if (res.data.code === 200) {\n                        this.opSave = true;\n                        this.showAlerts = {\n                            title: this.$t('m.tip.suc'),\n                            content: this.$t('m.tip.save_succ'),\n                            show: true,\n                            buttonText: {\n                                btnSecond: this.$t('m.tip.b_ok'),\n                            }\n                        }\n                    }\n                })\n            },\n            verifyEmail(m) {//验证输入值，合法才可以提交\n                let reg = /^.*@\\w+(\\.\\w+)+/;\n                if (!reg.test(m)) {\n                    let passData = {\n                        title: this.$t('m.tip.add_user_invite'),\n                        show: true,\n                        content: this.$t('m.tip.add_user_invalid_email'),\n                        buttonText: {\n                            btnFirst: '',\n                            btnSecond: this.$t('m.tip.b_ok'),\n                            userId: ''\n                        }\n                    };\n                    this.closeRemind(passData);\n                } else {\n                    this.btnActive = false\n                }\n            },\n            closeBox() {\n                if (this.opSave) {\n                    this.$router.push('/manager-user/list');\n                }\n                this.showAlerts.show = !this.showAlerts.show;\n            },\n            closeRemind(data) {\n                this.showAlerts.show = data.show;\n                this.showAlerts.title = data.title;\n                this.showAlerts.content = data.content;\n                this.showAlerts.buttonText = data.buttonText;\n            },\n        },\n    }\n</script>\n<style lang=\"scss\" scoped>\n    #plusUserDiv {\n        cursor: pointer;\n    }\n    .font-syl {\n        font-size: 12px;\n    }\n    .div-mar {\n        margin-top:-48px;\n        margin-left:48%;\n    }\n</style>\n"],"sourceRoot":"src/views/dashboard/managerUser"}]}