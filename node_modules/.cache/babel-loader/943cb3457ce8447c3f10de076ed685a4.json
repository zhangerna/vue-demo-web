{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/components/reportAll/orderAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/components/reportAll/orderAnalysis.vue","mtime":1576562643000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from '@/utils/httpclient';\nimport echarts from 'echarts';\nimport { getDateString } from '@/utils/date';\nexport default {\n  name: \"orderAnalysis\",\n  data: function data() {\n    return {\n      vehicleId: '',\n      provinceId: '',\n      cityId: '',\n      timeList: [{\n        name: this.$t('m.report_all.day10'),\n        val: \"7\"\n      }, {\n        name: this.$t('m.report_all.day30'),\n        val: \"30\"\n      }, {\n        name: this.$t('m.report_all.day90'),\n        val: \"90\"\n      }],\n      userTime: '30',\n      orderLine: {\n        tooltip: {\n          trigger: 'axis'\n        },\n        xAxis: {\n          show: true,\n          data: [],\n          axisLabel: {\n            interval: 0\n          },\n          axisLine: {\n            show: true\n          },\n          axisTick: {\n            show: true\n          }\n        },\n        yAxis: {\n          splitLine: {\n            show: false\n          },\n          type: 'value',\n          show: true,\n          minInterval: 1,\n          name: ''\n        },\n        series: {\n          type: \"line\",\n          data: [],\n          animation: true,\n          itemStyle: {\n            normal: {\n              color: \"#20a8d8\"\n            }\n          },\n          name: this.$t('m.report_all.appoint_order_count')\n        },\n        grid: {\n          x: 30,\n          y: 40,\n          x2: 20,\n          y2: 80\n        }\n      },\n      data: {},\n      orderStatus: {\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          y: \"20px\",\n          data: [this.$t('m.report_all.no_drive'), this.$t('m.report_all.had_drive')]\n        },\n        series: {\n          type: 'pie',\n          label: {\n            show: false\n          },\n          labelLine: {\n            show: false\n          },\n          radius: '68%',\n          center: ['50%', '60%'],\n          data: [],\n          color: ['rgb(54, 162, 235)', 'rgb(255,99,132)']\n        }\n      },\n      driveDuration: {\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          y: \"20px\",\n          data: [this.$t('m.report_all.time_less10'), this.$t('m.report_all.time_1020'), this.$t('m.report_all.time_2030'), this.$t('m.report_all.time_3040'), this.$t('m.report_all.time_more40')]\n        },\n        series: {\n          label: {\n            show: false\n          },\n          labelLine: {\n            show: false\n          },\n          type: 'pie',\n          radius: '68%',\n          center: ['50%', '60%'],\n          data: [],\n          color: ['rgb(32, 168, 216)', 'rgb(232, 62, 140)', 'rgb(248, 203, 0)', 'rgb(77, 189, 116)', 'rgb(99, 194, 222)']\n        }\n      },\n      vehicleList: [],\n      provinceList: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    httpClient.get('/api/v1/clouddrive/order/vehicletypelist').then(function (response) {\n      if (response.data.code == 200) {\n        _this.vehicleList = response.data.data.vehicleSelectDetailResponseList;\n      }\n    });\n    httpClient.get('/api/v1/clouddrive/order/provincialLevellist').then(function (response) {\n      if (response.data.code == 200) {\n        _this.provinceList = response.data.data;\n      }\n    });\n    this.initData();\n  },\n  methods: {\n    getDateString: getDateString,\n    changeOrderType: function changeOrderType() {\n      this.initData();\n    },\n    initData: function initData() {\n      var _this2 = this;\n\n      httpClient.post(\"/api/v1/clouddrive/manyreport/ordermanyreport\", {\n        timeRange: this.userTime,\n        vehicleMake: this.vehicleId ? this.vehicleList[this.vehicleId - 1].vehicleMake : '',\n        vehicleYear: this.vehicleId ? this.vehicleList[this.vehicleId - 1].vehicleYear : '',\n        vehicleModel: this.vehicleId ? this.vehicleList[this.vehicleId - 1].vehicleModel : '',\n        parkingStateCode: this.provinceId ? this.provinceList[this.provinceId - 1]['provinceId'] : '',\n        parkingCityCode: this.cityId && this.provinceId ? this.provinceList[this.provinceId - 1]['cityLevelResponseList'][this.cityId - 1]['cityId'] : ''\n      }).then(function (response) {\n        if (response.data.code == 200) {\n          _this2.data = response.data.data;\n\n          _this2.getOrder(response.data.data.reportChangeDTOList);\n\n          _this2.getOrderStatus(response.data.data);\n\n          _this2.getDriveDuration(response.data.data);\n        }\n      });\n    },\n    getOrder: function getOrder(data) {\n      var xList = [];\n      var yList = [];\n      data.map(function (item) {\n        xList.push(item.orderDate);\n        yList.push(item.orderTotal);\n      });\n\n      if (this.userTime == 7) {\n        this.orderLine.xAxis.axisLabel.interval = 0;\n      } else {\n        this.orderLine.xAxis.axisLabel.interval = 6;\n      }\n\n      this.orderLine.xAxis.data = xList;\n      this.orderLine.series.data = yList;\n      echarts.init(document.getElementById('order-line')).setOption(this.orderLine);\n    },\n    getOrderStatus: function getOrderStatus(data) {\n      this.orderStatus.series.data = [{\n        value: data.notTestDriveNum,\n        name: this.$t('m.report_all.no_drive')\n      }, {\n        value: data.testDriveNum,\n        name: this.$t('m.report_all.had_drive')\n      }];\n      echarts.init(document.getElementById('order-status')).setOption(this.orderStatus);\n    },\n    getDriveDuration: function getDriveDuration(data) {\n      this.driveDuration.series.data = [{\n        value: data.lessTenMinute,\n        name: this.$t('m.report_all.time_less10')\n      }, {\n        value: data.betweenTenAndTwentyMin,\n        name: this.$t('m.report_all.time_1020')\n      }, {\n        value: data.betweenTwentyAndThirtyMin,\n        name: this.$t('m.report_all.time_2030')\n      }, {\n        value: data.betweenThirtyAndFortyMin,\n        name: this.$t('m.report_all.time_3040')\n      }, {\n        value: data.moreFortyMin,\n        name: this.$t('m.report_all.time_more40')\n      }];\n      echarts.init(document.getElementById('drive-duration')).setOption(this.driveDuration);\n    }\n  }\n};",{"version":3,"sources":["orderAnalysis.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"order-analysis\">\n        <b-card>\n            <div slot=\"header\">\n                {{ $t('m.report_all.appoint_order_analysis') }}\n                <div class=\"float-right\">\n                    {{ $t('m.report.create_time') }}:{{ data.createTime ? getDateString(data.createTime) : '' }}\n                </div>\n            </div>\n            <div class=\"content\">\n                <div class=\"filter-module\">\n                    <b-form-select v-model=\"vehicleId\" class=\"width20\" @change=\"changeOrderType()\">\n                        <option value=\"\">{{ $t('m.report_all.whole_vehicle') }}</option>\n                        <option v-for=\"(item, key) in vehicleList\" :key=\"key\" :value=\"key + 1\">\n                            {{ item.vehicleYear\t }}{{ item.vehicleMake\t }}{{ item.vehicleModel\t }}\n                        </option>\n                    </b-form-select>\n<!--                    二级联动-->\n                    <b-form-select v-model=\"provinceId\" class=\"width20\" @change=\"changeOrderType()\">\n                        <option value=\"\">{{ $t('m.report_all.whole_state') }}</option>\n                        <option v-for=\"(item, key) in provinceList\" :key=\"key + 1\" :value=\"key + 1\">\n                            {{ item.provinceName }}\n                        </option>\n                    </b-form-select>\n                    <b-form-select v-model=\"cityId\" class=\"width20\" @change=\"changeOrderType()\">\n                        <option value=\"\">{{ $t('m.add_shop.please_select') }}</option>\n                        <option v-for=\"(item, key) in provinceId ? (provinceList[provinceId - 1]['cityLevelResponseList']) : []\" :key=\"key\" :value=\"key + 1\">\n                            {{ item.cityName }}\n                        </option>\n                    </b-form-select>\n\n                    <b-form-select v-model=\"userTime\" class=\"width20\" @change=\"changeOrderType()\">\n                        <option v-for=\"(item, key) in timeList\" :key=\"key\" :value=\"item.val\">\n                            {{ item.name }}\n                        </option>\n                    </b-form-select>\n                </div>\n                <b-card class=\"margin20\">\n                    <div slot=\"header\">\n                        {{ $t('m.report_all.appoint_order_trend') }}\n                    </div>\n                    <div class=\"content\">\n                        <p>{{ $t('m.report_all.appoint_order') }}：{{ data.orderTotalNum }}</p>\n                        <div class=\"text-center\">\n                            <label class=\"btn-primary btn\">{{ $t('m.report_all.new_appoint_order') }} {{ data.orderChangeTotalNum }}</label>\n                        </div>\n                        <div class=\"test-number text-center margin20\">\n                            <i class=\"blue-interval\"></i><span>{{ $t('m.report_all.appoint_order_count') }}</span>\n                        </div>\n                        <div class=\"echart-line\">\n                            <div id=\"order-line\"></div>\n                        </div>\n                    </div>\n                </b-card>\n                <b-row>\n                    <b-col sm=\"6\">\n                        <b-card>\n                            <div slot=\"header\">\n                                {{ $t('m.cloud.appoint_order_status') }}\n                            </div>\n                            <div class=\"content\">\n                                <div id=\"order-status\"></div>\n                            </div>\n                        </b-card>\n                    </b-col>\n                    <b-col sm=\"6\">\n                        <b-card>\n                            <div slot=\"header\">\n                                {{ $t('m.cloud.drive_time') }}\n                            </div>\n                            <div class=\"content\">\n                                <div id=\"drive-duration\"></div>\n                            </div>\n                        </b-card>\n                    </b-col>\n                </b-row>\n                <b-row>\n                    <b-col sm=\"6\">\n                        <b-card>\n                            <div slot=\"header\">\n                                {{ $t('m.report_all.appoint_area') }}\n                            </div>\n                            <div class=\"content\">\n                                <div class=\"area-block\" v-for=\"(item, key) in data.lotAreaMap\" :key=\"key\">\n                                    <p class=\"margin-b-4\">\n                                        <span>{{ item.parkingLotAreaName }}</span>\n                                        <span class=\"float-right\">{{ item.orderNum }}</span>\n                                    </p>\n                                    <b-progress height=\"2px\" :value=\"item.orderNum\"></b-progress>\n                                </div>\n                            </div>\n                        </b-card>\n                    </b-col>\n                    <b-col sm=\"6\">\n                        <b-card>\n                            <div slot=\"header\">\n                                {{ $t('m.cloud.order_drive_store') }}\n                            </div>\n                            <div class=\"content\">\n                                <div class=\"drive-block\" v-for=\"(item, key) in data.orderLotReportMap\" :key=\"key\">\n                                    <p class=\"margin-b-4\">\n                                        <span>{{ item.parkingLotName }}</span>\n                                        <span class=\"float-right\">{{ item.orderNum }}</span>\n                                    </p>\n                                    <b-progress height=\"2px\" :value=\"item.orderNum\"></b-progress>\n                                </div>\n                            </div>\n                        </b-card>\n                    </b-col>\n                </b-row>\n            </div>\n        </b-card>\n    </div>\n</template>\n\n<script>\n    import httpClient from '@/utils/httpclient';\n    import echarts from 'echarts';\n    import { getDateString } from '@/utils/date';\n    export default {\n        name: \"orderAnalysis\",\n        data() {\n            return {\n                vehicleId: '',\n                provinceId: '',\n                cityId: '',\n                timeList: [\n                    {\n                        name: this.$t('m.report_all.day10'),\n                        val: \"7\"\n                    },\n                    {\n                        name: this.$t('m.report_all.day30'),\n                        val: \"30\"\n                    },\n                    {\n                        name: this.$t('m.report_all.day90'),\n                        val: \"90\"\n                    }\n                ],\n                userTime: '30',\n                orderLine: {\n                    tooltip: {\n                        trigger: 'axis'\n                    },\n                    xAxis: {\n                        show: true,\n                        data: [],\n                        axisLabel: {\n                            interval: 0\n                        },\n                        axisLine: {\n                            show: true,\n                        },\n                        axisTick: {\n                            show: true\n                        }\n                    },\n                    yAxis: {\n                        splitLine: {\n                            show: false\n                        },\n                        type: 'value',\n                        show: true,\n                        minInterval: 1,\n                        name: ''\n                    },\n                    series: {\n                        type: \"line\",\n                        data: [],\n                        animation: true,\n                        itemStyle: {\n                            normal: {\n                                color: \"#20a8d8\",\n                            }\n                        },\n                        name: this.$t('m.report_all.appoint_order_count')\n                    },\n                    grid: {\n                        x: 30,\n                        y: 40,\n                        x2: 20,\n                        y2: 80\n                    }\n                },\n                data: {},\n                orderStatus: {\n                    tooltip: {\n                        trigger: 'item'\n                    },\n                    legend: {\n                        y: \"20px\",\n                        data:[this.$t('m.report_all.no_drive'), this.$t('m.report_all.had_drive')]\n                    },\n                    series: {\n                        type:'pie',\n                        label: {\n                            show: false\n                        },\n                        labelLine: {\n                            show: false\n                        },\n                        radius : '68%',\n                        center: ['50%', '60%'],\n                        data:[],\n                        color: ['rgb(54, 162, 235)','rgb(255,99,132)']\n                    }\n                },\n                driveDuration: {\n                    tooltip: { trigger: 'item' },\n                    legend: {\n                        y: \"20px\",\n                        data:[this.$t('m.report_all.time_less10'), this.$t('m.report_all.time_1020'), this.$t('m.report_all.time_2030'), this.$t('m.report_all.time_3040'), this.$t('m.report_all.time_more40')]\n                    },\n                    series: {\n                        label: {\n                            show: false\n                        },\n                        labelLine: {\n                            show: false\n                        },\n                        type:'pie',\n                        radius : '68%',\n                        center: ['50%', '60%'],\n                        data: [],\n                        color: ['rgb(32, 168, 216)', 'rgb(232, 62, 140)', 'rgb(248, 203, 0)', 'rgb(77, 189, 116)', 'rgb(99, 194, 222)']\n                    }\n                },\n                vehicleList: [],\n                provinceList: []\n            }\n        },\n        mounted() {\n            httpClient.get('/api/v1/clouddrive/order/vehicletypelist').then(response => {\n                if (response.data.code == 200) {\n                    this.vehicleList = response.data.data.vehicleSelectDetailResponseList;\n                }\n            });\n            httpClient.get('/api/v1/clouddrive/order/provincialLevellist').then(response => {\n                if (response.data.code == 200) {\n                    this.provinceList = response.data.data;\n                }\n            });\n            this.initData();\n        },\n        methods: {\n            getDateString,\n            changeOrderType() {\n                this.initData();\n            },\n            initData() {\n                httpClient.post(`/api/v1/clouddrive/manyreport/ordermanyreport`, {\n                    timeRange: this.userTime,\n                    vehicleMake: this.vehicleId ? this.vehicleList[this.vehicleId-1].vehicleMake : '',\n                    vehicleYear: this.vehicleId ? this.vehicleList[this.vehicleId-1].vehicleYear : '',\n                    vehicleModel: this.vehicleId ? this.vehicleList[this.vehicleId-1].vehicleModel : '',\n                    parkingStateCode: this.provinceId ? this.provinceList[this.provinceId - 1]['provinceId'] : '',\n                    parkingCityCode: this.cityId && this.provinceId ? this.provinceList[this.provinceId - 1]['cityLevelResponseList'][this.cityId - 1]['cityId'] : ''\n                }).then(response => {\n                    if (response.data.code == 200){\n                        this.data = response.data.data;\n                        this.getOrder(response.data.data.reportChangeDTOList);\n                        this.getOrderStatus(response.data.data);\n                        this.getDriveDuration(response.data.data);\n                    }\n                });\n            },\n            getOrder(data) {\n                let xList = [];\n                let yList = [];\n                data.map((item) => {\n                    xList.push(item.orderDate);\n                    yList.push(item.orderTotal);\n                });\n                if (this.userTime == 7) {\n                    this.orderLine.xAxis.axisLabel.interval = 0;\n                } else {\n                    this.orderLine.xAxis.axisLabel.interval = 6;\n                }\n                this.orderLine.xAxis.data = xList;\n                this.orderLine.series.data = yList;\n                echarts.init(document.getElementById('order-line')).setOption(this.orderLine)\n            },\n            getOrderStatus(data) {\n                this.orderStatus.series.data = [\n                    {value: data.notTestDriveNum, name:this.$t('m.report_all.no_drive')},\n                    {value: data.testDriveNum, name:this.$t('m.report_all.had_drive')}\n                ];\n                echarts.init(document.getElementById('order-status')).setOption(this.orderStatus);\n            },\n            getDriveDuration(data) {\n                this.driveDuration.series.data = [\n                    {value: data.lessTenMinute, name:this.$t('m.report_all.time_less10')},\n                    {value: data.betweenTenAndTwentyMin, name:this.$t('m.report_all.time_1020')},\n                    {value: data.betweenTwentyAndThirtyMin, name:this.$t('m.report_all.time_2030')},\n                    {value: data.betweenThirtyAndFortyMin, name:this.$t('m.report_all.time_3040')},\n                    {value: data.moreFortyMin, name:this.$t('m.report_all.time_more40')}\n                ];\n                echarts.init(document.getElementById('drive-duration')).setOption(this.driveDuration)\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .margin20 {\n        margin-top: 20px;\n    }\n    .width20 {\n        width: 20%;\n        margin-right: 10px;\n    }\n    .margin-b-4 {\n        margin-bottom: 4px;\n    }\n    #order-line, #order-status, #drive-duration {\n        height: 260px;\n    }\n    .test-number {\n        color: #20a8d8;\n    }\n    .blue-interval {\n        width: 10px;\n        height: 10px;\n        background: #20a8d8;\n        display: inline-block;\n        margin-right: 10px;\n    }\n</style>\n"],"sourceRoot":"src/views/dashboard/testDrive/components/reportAll"}]}