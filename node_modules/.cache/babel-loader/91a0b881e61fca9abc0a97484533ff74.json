{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/inventory/addVehicle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/inventory/addVehicle.vue","mtime":1577153439000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from \"@/utils/httpclient\";\nimport model from \"@/components/model\";\nexport default {\n  name: \"addVehicle\",\n  components: {\n    model: model\n  },\n  data: function data() {\n    return {\n      title: \"\",\n      content: \"\",\n      show: false,\n      showB: true,\n      vin: \"\",\n      vinIsVaild: false,\n      vinSuccess: false,\n      data: {},\n      year: \"\",\n      make: \"\",\n      alias: \"\",\n      trim: \"\",\n      engine: \"\",\n      price: \"\",\n      stock: \"\",\n      condition: \"\",\n      odometer: \"\",\n      model: \"\",\n      color: \"\",\n      date: \"\",\n      plate: \"\",\n      photo: \"\",\n      changedLanguage: null,\n      disabled: false,\n      currentTip: \"\",\n      curVehicleid: \"\",\n      conditionList: [{\n        c: this.$t(\"m.common.c_new\"),\n        y: \"1\"\n      }, {\n        c: this.$t(\"m.common.c_used\"),\n        y: \"3\"\n      }, {\n        c: this.$t(\"m.common.c_demo\"),\n        y: \"2\"\n      }, {\n        c: this.$t(\"m.common.c_test\"),\n        y: \"4\"\n      }],\n      photoUpload: this.$t(\"m.common.upload_img\"),\n      faSpinner: false,\n      circleCheck: false,\n      circleX: false,\n      pText: \"\",\n      showInput: true,\n      vinE: false,\n      yearE: false,\n      makeE: false,\n      modelE: false\n    };\n  },\n  mounted: function mounted() {\n    if (this.$i18n.locale === \"en-US\") {\n      this.changedLanguage = \"English\";\n    } else {\n      this.changedLanguage = \"Chinese\";\n    }\n  },\n  watch: {\n    vin: function vin(curVal) {\n      var _this = this;\n\n      if (curVal.length == 17) {\n        this.disabled = true;\n        httpClient.get(\"/api/v1/vehicle/detail/vin?vin=\" + this.vin).then(function (response) {\n          var _mileage = null; //距离单位转换\n\n          if (response.data.data.odometer) {\n            if (_this.changedLanguage === \"English\") {\n              _mileage = (response.data.data.odometer * 0.0006214).toFixed(0);\n            } else {\n              _mileage = (response.data.data.odometer / 1000).toFixed(0);\n            }\n          } else {\n            _mileage = 0;\n          }\n\n          _this.vinSuccess = true;\n          _this.vinIsVaild = false;\n          _this.showB = false;\n          _this.data = response.data.data;\n          _this.year = _this.data.year;\n          _this.make = _this.data.make;\n          _this.model = _this.data.model;\n          _this.alias = _this.data.alias;\n          _this.trim = _this.data.trim;\n          _this.engine = _this.data.engineType;\n          _this.price = _this.data.price;\n          _this.color = _this.data.color;\n          _this.date = _this.data.inventoryDays;\n          _this.stock = _this.data.stockNumber;\n          _this.condition = _this.data.vehicleTypeCode;\n          _this.odometer = _mileage;\n          _this.plate = _this.data.plate;\n          _this.photo = _this.data.photoPath;\n        }).catch(function () {\n          _this.vinIsVaild = false;\n          _this.vinSuccess = false;\n          _this.showB = false;\n        });\n      } else {\n        this.vinIsVaild = true;\n      }\n    },\n    year: function year() {\n      this.checkData();\n    },\n    make: function make() {\n      this.checkData();\n    },\n    model: function model() {\n      this.checkData();\n    }\n  },\n  methods: {\n    closeTip: function closeTip() {\n      if (this.currentTip == \"save\") {\n        this.$router.push(\"/inventory/vehicle/detail/\" + this.curVehicleid);\n      }\n\n      this.show = false;\n    },\n    savefile: function savefile(event) {\n      var _this2 = this;\n\n      var file = event.target.files;\n      var fb = new FormData();\n      fb.append(\"image\", file[0]);\n      this.faSpinner = true;\n      this.pText = this.$t(\"m.tip.upload_img\");\n      this.showInput = false;\n      httpClient.post(\"/api/v1/uploadFile\", fb).then(function (response) {\n        if (response.data.code == 200) {\n          _this2.photo = response.data.data.path;\n          _this2.faSpinner = false;\n          _this2.circleCheck = true;\n          _this2.pText = _this2.$t(\"m.tip.upload_success\");\n          _this2.showInput = true;\n          _this2.photoUpload = _this2.$t(\"m.common.re_upload\");\n        }\n      }).catch(function (error) {\n        error;\n        _this2.faSpinner = false;\n        _this2.circleX = true;\n        _this2.pText = _this2.$t(\"m.tip.upload_fail\");\n        _this2.showInput = true;\n        _this2.photoUpload = _this2.$t(\"m.common.re_upload\");\n      });\n    },\n    checkData: function checkData() {\n      this.vinE = this.vin ? false : true;\n      this.yearE = this.year ? false : true;\n      this.makeE = this.make ? false : true;\n      this.modelE = this.model ? false : true;\n    },\n    saveData: function saveData() {\n      var _this3 = this;\n\n      var _mileage = null; //距离单位转换\n\n      if (this.odometer) {\n        if (this.changedLanguage === \"English\") {\n          _mileage = (this.odometer * 1609.344).toFixed(0);\n        } else {\n          _mileage = (this.odometer * 1000).toFixed(0);\n        }\n      } else {\n        _mileage = 0;\n      }\n\n      this.checkData();\n\n      if (!this.vinE && !this.yearE && !this.makeE && !this.modelE) {\n        httpClient.post(\"/api/v1/vehicle/insert/vehicle\", {\n          vin: this.vin,\n          year: this.year,\n          make: this.make,\n          model: this.model,\n          alias: this.alias,\n          trim: this.trim,\n          engineType: this.engine,\n          color: this.color,\n          price: this.price,\n          stockNumber: this.stock,\n          inventoryDate: new Date(this.date).getTime(),\n          vehicleTypeCode: Number(this.condition),\n          currentMileage: _mileage,\n          plate: this.plate,\n          photoPath: this.photo\n        }).then(function (response) {\n          if (response.data.data.bindResult == true) {\n            _this3.curVehicleid = response.data.data.vehicleId;\n            _this3.title = _this3.$t(\"m.tip.suc\");\n            _this3.content = _this3.$t(\"m.tip.save_succ\");\n            _this3.currentTip = \"save\";\n            _this3.show = true;\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["addVehicle.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"animated fadeIn add-vehicle\">\n\t\t<b-card>\n\t\t\t<div slot=\"header\">\n\t\t\t\t{{ $t(\"m.add_vehicle.new_add_vehicle\") }}\n\t\t\t</div>\n\t\t\t<div class=\"content\">\n\t\t\t\t<b-row>\n\t\t\t\t\t<b-col sm=\"6\" md=\"6\" lg=\"6\" class=\"left\">\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.vin\") }} </label> <span class=\"star-red\">*</span>\n\t\t\t\t\t\t\t\t\t<b-form-input :class=\"vinE ? 'is-exist' : ''\" type=\"text\" v-model=\"vin\" :disabled=\"vinSuccess || disabled\" maxlength=\"17\"></b-form-input>\n\t\t\t\t\t\t\t\t\t<p v-show=\"vinIsVaild\" class=\"warn-vin\">{{ $t(\"m.common.vin3\") + $t(\"m.vehicle_bind.invalid\") }}</p>\n\t\t\t\t\t\t\t\t\t<p v-show=\"vinSuccess\" class=\"primary-vin\">{{ $t(\"m.common.vin3\") + $t(\"m.vehicle_bind.valid\") }}</p>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.year\") }}</label\n\t\t\t\t\t\t\t\t\t><span class=\"star-red\">*</span>\n\t\t\t\t\t\t\t\t\t<b-form-input :class=\"yearE ? 'is-exist' : ''\" type=\"text\" v-model=\"year\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.make\") }}</label\n\t\t\t\t\t\t\t\t\t><span class=\"star-red\">*</span>\n\t\t\t\t\t\t\t\t\t<b-form-input :class=\"makeE ? 'is-exist' : ''\" type=\"text\" v-model=\"make\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.model\") }}</label\n\t\t\t\t\t\t\t\t\t><span class=\"star-red\">*</span>\n\t\t\t\t\t\t\t\t\t<b-form-input :class=\"modelE ? 'is-exist' : ''\" type=\"text\" v-model=\"model\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.alias\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" v-model=\"alias\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.trim\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" v-model=\"trim\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.engine\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" v-model=\"engine\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.color\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" v-model=\"color\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col sm=\"12\">\n\t\t\t\t\t\t\t\t<b-form-group class=\"price-dorlar\">\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.price\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-input-group>\n\t\t\t\t\t\t\t\t\t\t<b-input-group-prepend>\n\t\t\t\t\t\t\t\t\t\t\t<b-input-group-text class=\"col-white\">{{ $store.getters.userInfo.country | showCurrencySymbol }}</b-input-group-text>\n\t\t\t\t\t\t\t\t\t\t</b-input-group-prepend>\n\t\t\t\t\t\t\t\t\t\t<b-form-input v-model=\"price\" type=\"number\"></b-form-input>\n\t\t\t\t\t\t\t\t\t</b-input-group>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.stock_num\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" v-model=\"stock\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.inv_date\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"date\" v-model=\"date\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.cloud.vehicle_type\") }}</label>\n\t\t\t\t\t\t\t\t\t<select class=\"form-control\" name=\"\" id=\"vehicletype\" v-model=\"condition\">\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"(item, index) in conditionList\" :key=\"index\" :value=\"item.y\">{{ item.c }}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.odometer\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" v-model=\"odometer\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t<b-col>\n\t\t\t\t\t\t\t\t<b-form-group>\n\t\t\t\t\t\t\t\t\t<label>{{ $t(\"m.common.plate_num\") }}</label>\n\t\t\t\t\t\t\t\t\t<b-form-input type=\"text\" v-model=\"plate\"></b-form-input>\n\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t</b-row>\n\t\t\t\t\t</b-col>\n\t\t\t\t\t<b-col sm=\"6\" class=\"right right-box\">\n\t\t\t\t\t\t<div class=\"inner-box\">\n\t\t\t\t\t\t\t<i v-show=\"faSpinner\" class=\"fa fa-spinner fa-lg mt-4 i-white\"></i>\n\t\t\t\t\t\t\t<i v-show=\"circleCheck\" class=\" font-2xl cui-circle-check i-success\"></i>\n\t\t\t\t\t\t\t<i v-show=\"circleX\" class=\" font-2xl cui-circle-x i-danger\"></i>\n\t\t\t\t\t\t\t<img :src=\"photo\" alt height=\"100%\" width=\"100%\" class=\"bd-none\" />\n\t\t\t\t\t\t\t<input v-show=\"showInput\" class=\"right-input-one\" type=\"button\" id=\"btn\" :value=\"photoUpload\" />\n\t\t\t\t\t\t\t<input class=\"right-input-two\" type=\"file\" accept=\"image/jpeg,image/png,image/jpg\" id=\"fileinp\" @change=\"savefile($event)\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</b-col>\n\t\t\t\t</b-row>\n\n\t\t\t\t<div class=\"upload-group text-center\">\n\t\t\t\t\t<b-button class=\"btn btn-sm btn-info text-white\" @click=\"saveData\">\n\t\t\t\t\t\t{{ $t(\"m.common.b_save\") }}\n\t\t\t\t\t</b-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</b-card>\n\t\t<model :title=\"title\" :content=\"content\" :show=\"show\" :buttonText=\"{ btnSecond: $t('m.tip.b_ok') }\" @closeRemindBox=\"closeTip()\"> </model>\n\t</div>\n</template>\n\n<script>\nimport httpClient from \"@/utils/httpclient\";\nimport model from \"@/components/model\";\nexport default {\n\tname: \"addVehicle\",\n\tcomponents: {\n\t\tmodel\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttitle: \"\",\n\t\t\tcontent: \"\",\n\t\t\tshow: false,\n\t\t\tshowB: true,\n\t\t\tvin: \"\",\n\t\t\tvinIsVaild: false,\n\t\t\tvinSuccess: false,\n\t\t\tdata: {},\n\t\t\tyear: \"\",\n\t\t\tmake: \"\",\n\t\t\talias: \"\",\n\t\t\ttrim: \"\",\n\t\t\tengine: \"\",\n\t\t\tprice: \"\",\n\t\t\tstock: \"\",\n\t\t\tcondition: \"\",\n\t\t\todometer: \"\",\n\t\t\tmodel: \"\",\n\t\t\tcolor: \"\",\n\t\t\tdate: \"\",\n\t\t\tplate: \"\",\n\t\t\tphoto: \"\",\n\t\t\tchangedLanguage: null,\n\t\t\tdisabled: false,\n\t\t\tcurrentTip: \"\",\n\t\t\tcurVehicleid: \"\",\n\t\t\tconditionList: [\n\t\t\t\t{ c: this.$t(\"m.common.c_new\"), y: \"1\" },\n\t\t\t\t{ c: this.$t(\"m.common.c_used\"), y: \"3\" },\n\t\t\t\t{ c: this.$t(\"m.common.c_demo\"), y: \"2\" },\n\t\t\t\t{ c: this.$t(\"m.common.c_test\"), y: \"4\" }\n\t\t\t],\n\t\t\tphotoUpload: this.$t(\"m.common.upload_img\"),\n\t\t\tfaSpinner: false,\n\t\t\tcircleCheck: false,\n\t\t\tcircleX: false,\n\t\t\tpText: \"\",\n\t\t\tshowInput: true,\n\t\t\tvinE: false,\n\t\t\tyearE: false,\n\t\t\tmakeE: false,\n\t\t\tmodelE: false\n\t\t};\n\t},\n\tmounted() {\n\t\tif (this.$i18n.locale === \"en-US\") {\n\t\t\tthis.changedLanguage = \"English\";\n\t\t} else {\n\t\t\tthis.changedLanguage = \"Chinese\";\n\t\t}\n\t},\n\twatch: {\n\t\tvin(curVal) {\n\t\t\tif (curVal.length == 17) {\n\t\t\t\tthis.disabled = true;\n\t\t\t\thttpClient\n\t\t\t\t\t.get(\"/api/v1/vehicle/detail/vin?vin=\" + this.vin)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tlet _mileage = null; //距离单位转换\n\t\t\t\t\t\tif (response.data.data.odometer) {\n\t\t\t\t\t\t\tif (this.changedLanguage === \"English\") {\n\t\t\t\t\t\t\t\t_mileage = (response.data.data.odometer * 0.0006214).toFixed(0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_mileage = (response.data.data.odometer / 1000).toFixed(0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_mileage = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.vinSuccess = true;\n\t\t\t\t\t\tthis.vinIsVaild = false;\n\t\t\t\t\t\tthis.showB = false;\n\t\t\t\t\t\tthis.data = response.data.data;\n\t\t\t\t\t\tthis.year = this.data.year;\n\t\t\t\t\t\tthis.make = this.data.make;\n\t\t\t\t\t\tthis.model = this.data.model;\n\t\t\t\t\t\tthis.alias = this.data.alias;\n\t\t\t\t\t\tthis.trim = this.data.trim;\n\t\t\t\t\t\tthis.engine = this.data.engineType;\n\t\t\t\t\t\tthis.price = this.data.price;\n\t\t\t\t\t\tthis.color = this.data.color;\n\t\t\t\t\t\tthis.date = this.data.inventoryDays;\n\t\t\t\t\t\tthis.stock = this.data.stockNumber;\n\t\t\t\t\t\tthis.condition = this.data.vehicleTypeCode;\n\t\t\t\t\t\tthis.odometer = _mileage;\n\t\t\t\t\t\tthis.plate = this.data.plate;\n\t\t\t\t\t\tthis.photo = this.data.photoPath;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tthis.vinIsVaild = false;\n\t\t\t\t\t\tthis.vinSuccess = false;\n\t\t\t\t\t\tthis.showB = false;\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.vinIsVaild = true;\n\t\t\t}\n\t\t},\n\t\tyear() {\n\t\t\tthis.checkData();\n\t\t},\n\t\tmake() {\n\t\t\tthis.checkData();\n\t\t},\n\t\tmodel() {\n\t\t\tthis.checkData();\n\t\t}\n\t},\n\tmethods: {\n\t\tcloseTip() {\n\t\t\tif (this.currentTip == \"save\") {\n\t\t\t\tthis.$router.push(\"/inventory/vehicle/detail/\" + this.curVehicleid);\n\t\t\t}\n\t\t\tthis.show = false;\n\t\t},\n\t\tsavefile(event) {\n\t\t\tlet file = event.target.files;\n\t\t\tlet fb = new FormData();\n\t\t\tfb.append(\"image\", file[0]);\n\t\t\tthis.faSpinner = true;\n\t\t\tthis.pText = this.$t(\"m.tip.upload_img\");\n\t\t\tthis.showInput = false;\n\t\t\thttpClient\n\t\t\t\t.post(\"/api/v1/uploadFile\", fb)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.code == 200) {\n\t\t\t\t\t\tthis.photo = response.data.data.path;\n\t\t\t\t\t\tthis.faSpinner = false;\n\t\t\t\t\t\tthis.circleCheck = true;\n\t\t\t\t\t\tthis.pText = this.$t(\"m.tip.upload_success\");\n\t\t\t\t\t\tthis.showInput = true;\n\t\t\t\t\t\tthis.photoUpload = this.$t(\"m.common.re_upload\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\terror;\n\t\t\t\t\tthis.faSpinner = false;\n\t\t\t\t\tthis.circleX = true;\n\t\t\t\t\tthis.pText = this.$t(\"m.tip.upload_fail\");\n\t\t\t\t\tthis.showInput = true;\n\t\t\t\t\tthis.photoUpload = this.$t(\"m.common.re_upload\");\n\t\t\t\t});\n\t\t},\n\t\tcheckData() {\n\t\t\tthis.vinE = this.vin ? false : true;\n\t\t\tthis.yearE = this.year ? false : true;\n\t\t\tthis.makeE = this.make ? false : true;\n\t\t\tthis.modelE = this.model ? false : true;\n\t\t},\n\t\tsaveData() {\n\t\t\tlet _mileage = null; //距离单位转换\n\t\t\tif (this.odometer) {\n\t\t\t\tif (this.changedLanguage === \"English\") {\n\t\t\t\t\t_mileage = (this.odometer * 1609.344).toFixed(0);\n\t\t\t\t} else {\n\t\t\t\t\t_mileage = (this.odometer * 1000).toFixed(0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_mileage = 0;\n\t\t\t}\n\t\t\tthis.checkData();\n\t\t\tif (!this.vinE && !this.yearE && !this.makeE && !this.modelE) {\n\t\t\t\thttpClient\n\t\t\t\t\t.post(\"/api/v1/vehicle/insert/vehicle\", {\n\t\t\t\t\t\tvin: this.vin,\n\t\t\t\t\t\tyear: this.year,\n\t\t\t\t\t\tmake: this.make,\n\t\t\t\t\t\tmodel: this.model,\n\t\t\t\t\t\talias: this.alias,\n\t\t\t\t\t\ttrim: this.trim,\n\t\t\t\t\t\tengineType: this.engine,\n\t\t\t\t\t\tcolor: this.color,\n\t\t\t\t\t\tprice: this.price,\n\t\t\t\t\t\tstockNumber: this.stock,\n\t\t\t\t\t\tinventoryDate: new Date(this.date).getTime(),\n\t\t\t\t\t\tvehicleTypeCode: Number(this.condition),\n\t\t\t\t\t\tcurrentMileage: _mileage,\n\t\t\t\t\t\tplate: this.plate,\n\t\t\t\t\t\tphotoPath: this.photo\n\t\t\t\t\t})\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tif (response.data.data.bindResult == true) {\n\t\t\t\t\t\t\tthis.curVehicleid = response.data.data.vehicleId;\n\t\t\t\t\t\t\tthis.title = this.$t(\"m.tip.suc\");\n\t\t\t\t\t\t\tthis.content = this.$t(\"m.tip.save_succ\");\n\t\t\t\t\t\t\tthis.currentTip = \"save\";\n\t\t\t\t\t\t\tthis.show = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.add-vehicle {\n\tselect {\n\t\theight: 35px !important;\n\t}\n\t.upload-group {\n\t\twidth: 30%;\n\t\tmargin: 0 auto;\n\t\tbutton {\n\t\t\tmargin-top: 20px;\n\t\t}\n\t}\n\t.warn-vin {\n\t\tcolor: red;\n\t}\n\t.primary-vin {\n\t\tcolor: #4dbd74;\n\t}\n}\n.price-dorlar {\n\t.input-group-text {\n\t\tbackground: #515b65;\n\t}\n}\n.right-box {\n\tpadding: 0 15px 0 50px;\n\tmargin-top: 30px;\n\tposition: relative;\n\t.inner-box {\n\t\tborder: 1px solid #e4e7ea;\n\t\theight: 500px;\n\t\tposition: relative;\n\n\t\t.right-input-one {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\ttop: 50%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\twidth: 150px;\n\t\t}\n\t\t.right-p {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\ttop: 60%;\n\t\t\ttransform: translate(-50%, -60%);\n\t\t}\n\t\t.right-input-two {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\ttop: 50%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\twidth: 150px;\n\t\t\topacity: 0;\n\t\t\tcursor: pointer;\n\t\t}\n\t\ti {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\ttop: 42%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t}\n\t\t.i-white {\n\t\t\tcolor: #b3bfca;\n\t\t\ttop: 38%;\n\t\t}\n\t\t.i-success {\n\t\t\tcolor: #4dbd74;\n\t\t}\n\t\t.i-danger {\n\t\t\tcolor: #f86c6b;\n\t\t}\n\t\t.bd-none {\n\t\t\tborder: none;\n\t\t}\n\t}\n}\n.star-red {\n\tcolor: #f86c6b;\n}\n.is-exist {\n\tborder: 1px solid #f86c6b;\n}\n.col-white {\n\tcolor: #ffffff;\n}\n</style>\n"],"sourceRoot":"src/views/dashboard/inventory"}]}