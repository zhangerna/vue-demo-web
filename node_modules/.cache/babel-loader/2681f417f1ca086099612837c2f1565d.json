{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/login/index.vue","mtime":1585135269000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/nonda/nonda/nonda-saas-web/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpclient from '../../utils/httpclient';\nimport { saveTokenExpireAt, saveUserInfo, saveUserId } from '../../utils/token';\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      errorUsername: '',\n      errorPass: ''\n    };\n  },\n  methods: {\n    handleLogin: function handleLogin() {\n      var _this = this;\n\n      this.errorUsername = \"\";\n      this.errorPass = \"\";\n\n      if (!this.username || this.username.indexOf(\"@\") < 1) {\n        this.errorUsername = \"is-invalid\";\n        return;\n      }\n\n      if (!this.password || this.password.length < 6) {\n        this.errorPass = \"is-invalid\";\n        return;\n      }\n\n      httpclient.post('/api/v1/login', {\n        username: this.username,\n        password: this.password\n      }).then(function (response) {\n        localStorage.setItem(\"user_info\", _JSON$stringify(response.data.data.user));\n        localStorage.setItem(\"role\", response.data.data.user.roleCode);\n\n        _this.$store.dispatch(\"user_info\", response.data.data.user);\n\n        saveTokenExpireAt(response.data.data.token.expireAt);\n        saveUserInfo(response.data.data.user.userEmail);\n        saveUserId(response.data.data.user.userId);\n\n        _this.$router.push({\n          path: '/index'\n        });\n      }).catch(function (err) {\n        alert(\"Login Failed, Username or Password Incorrect!\");\n      });\n    },\n    checkTitle: function checkTitle(data) {\n      console.log(data);\n      console.log(\"heheh=========\");\n      return false;\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA,OAAA,UAAA,MAAA,wBAAA;AACA,SAAA,iBAAA,EAAA,YAAA,EAAA,UAAA,QAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,aAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,EAAA;;AACA,UAAA,CAAA,KAAA,QAAA,IAAA,KAAA,QAAA,CAAA,OAAA,CAAA,GAAA,IAAA,CAAA,EAAA;AACA,aAAA,aAAA,GAAA,YAAA;AACA;AACA;;AACA,UAAA,CAAA,KAAA,QAAA,IAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,SAAA,GAAA,YAAA;AACA;AACA;;AACA,MAAA,UAAA,CAAA,IAAA,CAAA,eAAA,EAAA;AACA,QAAA,QAAA,EAAA,KAAA,QADA;AAEA,QAAA,QAAA,EAAA,KAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,QAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,gBAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;;AACA,QAAA,iBAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AACA,QAAA,YAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,CAAA;AACA,QAAA,UAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAXA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,+CAAA,CAAA;AACA,OAbA;AAeA,KA3BA;AA4BA,IAAA,UA5BA,sBA4BA,IA5BA,EA4BA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,aAAA,KAAA;AACA;AAhCA;AAVA,CAAA","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"app flex-row align-items-center\">\n      <div class=\"container\">\n        <div class=\"justify-content-center logo\">\n          <img src=\"@/assets/pages-img/logo.svg\" width=\"300px\">\n          <p v-if=\"checkTitle('xxx')\">{{ $t('m.register.title') }}</p>\n        </div>\n        <b-row class=\"justify-content-center\">\n          <b-col md=\"8\">\n            <b-card-group>\n              <b-card no-body class=\"p-4\">\n                <b-card-body>\n                  <b-form>\n                    <h1>{{ $t('m.login.title2') }}</h1>\n                    <p class=\"text-muted\">{{ $t('m.login.l_p') }}</p>\n                    <b-input-group class=\"mb-3\">\n                      <b-input-group-prepend><b-input-group-text><i class=\"icon-user\"></i></b-input-group-text></b-input-group-prepend>\n                      <b-form-input type=\"text\" :class=\"errorUsername\" v-model=\"username\" class=\"form-control\" :placeholder=\"$t('m.login.p_username')\" autocomplete=\"username email\" @keyup.enter.native=\"handleLogin\" />\n                    </b-input-group>\n                    <b-input-group class=\"mb-4\">\n                      <b-input-group-prepend><b-input-group-text><i class=\"icon-lock\"></i></b-input-group-text></b-input-group-prepend>\n                      <b-form-input type=\"password\" class=\"form-control\" :class=\"errorPass\" v-model=\"password\" :placeholder=\"$t('m.login.p_password')\" autocomplete=\"current-password\" @keyup.enter.native=\"handleLogin\" />\n                    </b-input-group>\n                    <b-row>\n                      <b-col cols=\"6\">\n                        <b-button @click=\"handleLogin\" variant=\"primary\" class=\"px-4\">{{ $t('m.login.title2') }}</b-button>\n                      </b-col>\n                      <b-col cols=\"6\" class=\"text-right\">\n                        <b-button variant=\"link\" class=\"px-0\" @click=\"$router.push('/forget-password')\">{{ $t('m.login.forgot_password') }}</b-button>\n                      </b-col>\n                    </b-row>\n                  </b-form>\n                </b-card-body>\n              </b-card>\n              <b-card no-body class=\"text-white bg-primary py-5 d-md-down-none\" style=\"width:44%\">\n                <b-card-body class=\"text-center\">\n                  <div>\n                    <h2>{{ $t('m.login.title3') }}</h2>\n                    <p>{{ $t('m.login.r_desc') }}</p>\n                  </div>\n                </b-card-body>\n              </b-card>\n            </b-card-group>\n          </b-col>\n        </b-row>\n      </div>\n    </div>\n    <div class=\"text-center cn-beian\">\n      <a href=\"https://zus.ai\">ZUS.ai</a>\n      <span class=\"ml-1\">© Copyright No NDA Inc., All Rights Reserved</span>\n      <span class=\"ml-1\">沪ICP备19032313号 </span>\n      <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011202011601\">沪公网安备 31011202011601号</a>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .logo {\n    text-align: center;\n    p {\n      font-size: 32px;\n      margin: 20px 0;\n    }\n  }\n  .cn-beian {\n    margin-bottom: 10px;\n  }\n</style>\n\n<script>\n\nimport httpclient from '../../utils/httpclient';\nimport {saveTokenExpireAt, saveUserInfo,saveUserId} from '../../utils/token'\n\nexport default {\n  name: 'Login',\n  data(){\n    return {\n      username: '',\n      password: '',\n      errorUsername: '',\n      errorPass: ''\n    }\n  },\n  methods: {\n    handleLogin(){\n      this.errorUsername = \"\";\n      this.errorPass = \"\";\n      if (!this.username || this.username.indexOf(\"@\") < 1) {\n        this.errorUsername = \"is-invalid\";\n        return;\n      }\n      if (!this.password || this.password.length < 6) {\n        this.errorPass = \"is-invalid\";\n        return;\n      }\n      httpclient.post('/api/v1/login',{\n        username: this.username,\n        password: this.password\n      }).then((response)=>{\n        localStorage.setItem(\"user_info\", JSON.stringify(response.data.data.user));\n        localStorage.setItem(\"role\", response.data.data.user.roleCode);\n        this.$store.dispatch(\"user_info\", response.data.data.user);\n        saveTokenExpireAt(response.data.data.token.expireAt);\n        saveUserInfo(response.data.data.user.userEmail);\n        saveUserId(response.data.data.user.userId);\n        this.$router.push({ path: '/index'});\n      }).catch((err) => {\n          alert(\"Login Failed, Username or Password Incorrect!\")\n      })\n\n    },\n    checkTitle(data) {\n      console.log(data);\n      console.log(\"heheh=========\");\n      return false\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/login"}]}