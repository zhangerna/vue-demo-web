{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/testUserVerify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/testDrive/testUserVerify.vue","mtime":1574414921000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from \"@/utils/httpclient\";\nimport { getDateString } from \"@/utils/date\";\nexport default {\n  name: \"testUserVerify\",\n  inject: ['reload'],\n  data: function data() {\n    return {\n      data: {},\n      showMap: false,\n      updateUserStatus: false,\n      updateUserText: '',\n      map: {},\n      show: false,\n      updateInfo: '',\n      markedAt: '',\n      table: null,\n      idcardVerifyTime: null,\n      driverLicenseverifyTime: null,\n      idcardName: 'N/A',\n      idcardGender: 'N/A',\n      idcardNation: 'N/A',\n      idcardBirthDate: 'N/A',\n      idcardAddress: 'N/A',\n      idcardNumber: 'N/A',\n      idcardOrganization: 'N/A',\n      idcardExpireDate: 'N/A',\n      licenseNumber: 'N/A',\n      licenseName: 'N/A',\n      licenseGender: 'N/A',\n      licenseCountry: 'N/A',\n      licenseAddress: 'N/A',\n      licenseBirthDate: 'N/A',\n      licenseInitDate: 'N/A',\n      licenseCarClass: 'N/A',\n      licenseExpireDate: 'N/A',\n      selected_reason: 'null',\n      submitAuthTime: null,\n      reasonList: [{\n        value: 'null',\n        text: this.$t('m.add_shop.please_select')\n      }, {\n        value: 1,\n        text: this.$t('m.cloud.verify_success')\n      }, {\n        value: 2,\n        text: this.$t('m.cloud.idcard_verify_failed')\n      }, {\n        value: 3,\n        text: this.$t('m.cloud.license_verify_failed')\n      }, {\n        value: 4,\n        text: this.$t('m.cloud.difference_idcard_license')\n      }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    httpClient.get('/api/v1/clouddrive/user/detail?userId=' + this.$route.params.id).then(function (response) {\n      if (response.data.code == 200) {\n        _this.data = response.data.data;\n        _this.idcardVerifyTime = getDateString(_this.data.idCardResponse.certificationTime);\n        _this.driverLicenseverifyTime = getDateString(_this.data.driveLicenseResponse.certificationTime);\n        _this.submitAuthTime = _this.data.submitAuthTime ? getDateString(_this.data.submitAuthTime) : 0;\n\n        if (response.data.data.idCardResponse) {\n          var data = response.data.data.idCardResponse;\n          _this.idcardName = data.userName;\n          _this.idcardGender = data.gender ? data.gender === 1 ? _this.$t('m.common.boy') : data.gender === 2 ? _this.$t('m.common.girl') : 'N/A' : '';\n          _this.idcardNation = data.ethnicGroup;\n          _this.idcardBirthDate = data.birthDate;\n          _this.idcardAddress = data.address;\n          _this.idcardNumber = data.idcardNumber;\n          _this.idcardOrganization = data.issuingOrganization;\n          _this.idcardExpireDate = data.expireDate;\n        }\n\n        if (response.data.data.driveLicenseResponse) {\n          var _data = response.data.data.driveLicenseResponse;\n          _this.licenseNumber = _data.drivingLicenseNumber;\n          _this.licenseName = _data.userName;\n          _this.licenseGender = _data.gender ? _data.gender === 1 ? _this.$t('m.common.boy') : _this.$t('m.common.girl') : '';\n          _this.licenseCountry = _data.nationality;\n          _this.licenseAddress = _data.address;\n          _this.licenseBirthDate = _data.birthDate;\n          _this.licenseInitDate = _data.initialDrivingLicenseDate;\n          _this.licenseCarClass = _data.quasiDrivingModel;\n          _this.licenseExpireDate = _data.expireDate;\n        }\n      }\n    });\n  },\n  methods: {\n    filterData: function filterData(data) {\n      this.table = data.map(function (item) {\n        return {\n          orderId: item.orderServiceNum,\n          id: item.orderId,\n          phone: item.phone,\n          year: item.vehicleYear,\n          make: item.vehicleMake,\n          model: item.vehicleModel,\n          color: item.vehicleColor,\n          alias: item.vehicleAlias,\n          trim: item.vehicleTrim,\n          plat: item.vehiclePlate,\n          num: item.vehiclePlate,\n          // 库存编号\n          testInfo: item.parkingName,\n          pointTime: item.appointmentStartTime + \"~\" + item.appointmentEndTime,\n          status: item.orderStatus\n        };\n      });\n    },\n    saveUserInfo: function saveUserInfo() {\n      var _this2 = this;\n\n      //提交用户的信息\n      var driveLicenseResponse = {\n        address: this.licenseAddress,\n        birthDate: this.licenseBirthDate,\n        drivingLicenseNumber: this.licenseNumber,\n        userName: this.licenseName,\n        gender: this.licenseGender === '男' ? 1 : 2,\n        nationality: this.licenseCountry,\n        initialDrivingLicenseDate: this.licenseInitDate,\n        quasiDrivingModel: this.licenseCarClass,\n        expireDate: this.licenseExpireDate\n      };\n      var idCardResponse = {\n        userName: this.idcardName,\n        gender: this.idcardGender === '男' ? 1 : 2,\n        ethnicGroup: this.idcardNation,\n        birthDate: this.idcardBirthDate,\n        address: this.idcardAddress,\n        idcardNumber: this.idcardNumber,\n        issuingOrganization: this.idcardOrganization,\n        expireDate: this.idcardExpireDate\n      };\n      var verifyStatus = this.selected_reason;\n      var data = {\n        idCardResponse: idCardResponse,\n        driveLicenseResponse: driveLicenseResponse,\n        check: verifyStatus,\n        dUserId: this.$route.params.id\n      };\n      httpClient.post('/api/v1/clouddrive/user/checkcard', data).then(function (res) {\n        if (res.data.code === 200 && res.data.data.result === true) {\n          _this2.updateUserStatus = true;\n          _this2.updateUserText = _this2.$t('m.tip.update_succ');\n        } else {\n          _this2.updateUserStatus = true;\n          _this2.updateUserText = _this2.$t('m.tip.update_failed');\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }\n};",{"version":3,"sources":["testUserVerify.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"animated fadeIn user-detail\">\n        <b-card class=\"custom-header\">\n            <div slot=\"header\">\n                {{ $t('m.index.user') }}{{ data.phone ? data.phone : '' }}\n                <span class=\"text-right float-right\">\n                    <span class=\"badge badge-success\">{{$t('m.cloud.submitted_time')}}:{{submitAuthTime === 0 ? \"\" : submitAuthTime }}</span>\n                </span>\n            </div>\n            <div class=\"content\">\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t('m.cloud.idcrad_title') }}\n                        <span v-if=\"data.authMessageCode && data.authMessageCode === 1\"\n                              class=\"text-right badge badge-danger\">\n                            {{$t('m.cloud.idcard_verify_failed')}}\n                        </span>\n                        <span v-if=\"data.authMessageCode && data.authMessageCode === 2\"\n                              class=\"text-right badge badge-danger\">\n                            {{$t('m.cloud.idcard_auth_fail')}}\n                        </span>\n                        <span v-if=\"data.authMessageCode && data.authMessageCode === 3\"\n                              class=\"text-right badge badge-danger\">\n                            {{$t('m.cloud.idcard_used_others')}}\n                        </span>\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-6\">\n                                <b-list-group>\n                                    <div class=\"row list-group-item \">\n                                        <b-row>\n                                            <b-col sm=\"6\">\n                                                <b-form-group :label=\"$t('m.admin.name')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"idcardName\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                            <b-col sm=\"2\">\n                                                <b-form-group :label=\"$t('m.cloud.gender')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"idcardGender\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                            <b-col sm=\"4\">\n                                                <b-form-group :label=\"$t('m.cloud.nation')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"idcardNation\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.birth_day')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"idcardBirthDate\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.address')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"idcardAddress\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.id_number')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"idcardNumber\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.issure_auth')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"idcardOrganization\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.valid_day')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"idcardExpireDate\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n                                    </div>\n\n                                </b-list-group>\n                            </div>\n                            <div class=\"col-sm-6\">\n                                <div class=\"col-sm-12 text-center\">\n                                    <img v-if=\"!data.idCardResponse\" src=\"@/assets/pages-img/placeholder.svg\" width=\"50%\">\n                                    <img v-if=\"data.idCardResponse\" :src=\"data.idCardResponse.idcardFrontUrl \"\n                                         width=\"100%\" alt=\"\">\n                                </div>\n                                <div class=\"col-sm-12 text-center\">\n                                    <img v-if=\"!data.idCardResponse\" src=\"@/assets/pages-img/placeholder.svg\" width=\"50%\">\n                                    <img v-if=\"data.idCardResponse\" :src=\"data.idCardResponse.idcardBackUrl \"\n                                         width=\"100%\" alt=\"\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </b-card>\n                <b-card>\n                    <div slot=\"header\">\n                        {{ $t('m.cloud.license_title') }}\n                        <span v-if=\"data.authMessageCode && data.authMessageCode === 4\"\n                              class=\"text-right badge badge-danger\">\n                            {{$t('m.cloud.license_verify_failed')}}\n                        </span>\n                        <span v-if=\"data.authMessageCode && data.authMessageCode === 5\"\n                              class=\"text-right badge badge-danger\">\n                            {{$t('m.cloud.difference_idcard_license')}}\n                        </span>\n                        <span v-if=\"data.authMessageCode && data.authMessageCode === 6\"\n                              class=\"text-right badge badge-danger\">\n                            {{$t('m.cloud.driver_used_others')}}\n                        </span>\n                    </div>\n                    <div class=\"content\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-6\">\n                                <b-list-group>\n\n                                    <div class=\"row list-group-item\">\n                                        <b-row>\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.id_number')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseNumber\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"6\">\n                                                <b-form-group :label=\"$t('m.admin.name')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseName\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                            <b-col sm=\"2\">\n                                                <b-form-group :label=\"$t('m.cloud.gender')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseGender\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                            <b-col sm=\"4\">\n                                                <b-form-group :label=\"$t('m.cloud.country')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseCountry\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.address')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseAddress\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.birth_day')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseBirthDate\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.init_driving_license')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseInitDate\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.vehicle_class')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseCarClass\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n\n                                        <b-row class=\"margin-top-20\">\n                                            <b-col sm=\"12\">\n                                                <b-form-group :label=\"$t('m.cloud.valid_day')\" label-align-sm=\"top\" class=\"mb-0\">\n                                                    <b-input v-model=\"licenseExpireDate\"></b-input>\n                                                </b-form-group>\n                                            </b-col>\n                                        </b-row>\n                                    </div>\n                                </b-list-group>\n                            </div>\n                            <div class=\"col-sm-6\">\n                                <div class=\"col-sm-12 text-center\">\n                                    <img v-if=\"!data.driveLicenseResponse\" src=\"@/assets/pages-img/placeholder.svg\" width=\"50%\">\n                                    <img v-if=\"data.driveLicenseResponse\" :src=\"data.driveLicenseResponse.driveLicensePrimeUrl\"\n                                         width=\"100%\" alt=\"\">\n                                </div>\n                                <div class=\"col-sm-12 text-center\">\n                                    <img v-if=\"!data.driveLicenseResponse\" src=\"@/assets/pages-img/placeholder.svg\" width=\"50%\">\n                                    <img v-if=\"data.driveLicenseResponse\" :src=\"data.driveLicenseResponse.driveLicenseAuxiUrl\"\n                                         width=\"100%\" alt=\"\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </b-card>\n\n                <b-row>\n                    <b-col sm=\"7\">\n                        <p style=\"margin-bottom: 10px\">{{$t('m.cloud.verify_result')}}</p>\n                        <div class=\"d-flex justify-content-center\">\n                            <b-form-select class=\"select-box\" v-model=\"selected_reason\">\n                                <option v-for=\"(val,j) in reasonList\" :disabled=\"j===0\" :value=\"val.value\" :key=\"j\">\n                                    {{val.text}}\n                                </option>\n                            </b-form-select>\n\n                            <button class=\"btn btn-primary\" @click=\"saveUserInfo\" :disabled=\"selected_reason === 'null'\" style=\"margin-left: 10px\">\n                                {{ $t('m.common.b_save') }}\n                            </button>\n                        </div>\n                    </b-col>\n                </b-row>\n\n                <b-modal ref=\"my-modal\" v-model=\"updateUserStatus\" :title=\"$t('m.common.action')\" :ok-title=\"$t('m.tip.b_ok')\" @ok=\"$router.push('/test-drive/test-user/detail/' + $route.params.id)\" ok-only>\n                    <div>{{updateUserText}}</div>\n                </b-modal>\n\n\n            </div>\n        </b-card>\n    </div>\n</template>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import {getDateString} from \"@/utils/date\";\n\n    export default {\n        name: \"testUserVerify\",\n        inject: ['reload'],\n        data() {\n            return {\n                data: {},\n                showMap: false,\n                updateUserStatus:false,\n                updateUserText:'',\n                map: {},\n                show: false,\n                updateInfo: '',\n                markedAt: '',\n                table: null,\n                idcardVerifyTime: null,\n                driverLicenseverifyTime: null,\n                idcardName: 'N/A',\n                idcardGender: 'N/A',\n                idcardNation: 'N/A',\n                idcardBirthDate: 'N/A',\n                idcardAddress: 'N/A',\n                idcardNumber: 'N/A',\n                idcardOrganization: 'N/A',\n                idcardExpireDate: 'N/A',\n                licenseNumber: 'N/A',\n                licenseName: 'N/A',\n                licenseGender: 'N/A',\n                licenseCountry: 'N/A',\n                licenseAddress: 'N/A',\n                licenseBirthDate: 'N/A',\n                licenseInitDate: 'N/A',\n                licenseCarClass: 'N/A',\n                licenseExpireDate: 'N/A',\n                selected_reason: 'null',\n                submitAuthTime:null,\n                reasonList: [\n                    {value: 'null', text: this.$t('m.add_shop.please_select')},\n                    {value: 1, text: this.$t('m.cloud.verify_success')},\n                    {value: 2, text: this.$t('m.cloud.idcard_verify_failed')},\n                    {value: 3, text: this.$t('m.cloud.license_verify_failed')},\n                    {value: 4, text: this.$t('m.cloud.difference_idcard_license')}\n                ]\n            }\n        },\n        mounted() {\n            httpClient.get('/api/v1/clouddrive/user/detail?userId=' + this.$route.params.id)\n                .then(response => {\n                    if (response.data.code == 200) {\n                        this.data = response.data.data;\n                        this.idcardVerifyTime = getDateString(this.data.idCardResponse.certificationTime);\n                        this.driverLicenseverifyTime = getDateString(this.data.driveLicenseResponse.certificationTime);\n                        this.submitAuthTime = this.data.submitAuthTime ? getDateString(this.data.submitAuthTime) :0;\n                        if (response.data.data.idCardResponse) {\n                            let data = response.data.data.idCardResponse;\n                            this.idcardName = data.userName;\n                            this.idcardGender = data.gender? (data.gender === 1 ? this.$t('m.common.boy') :(data.gender === 2 ? this.$t('m.common.girl'):'N/A')) : '';\n                            this.idcardNation = data.ethnicGroup;\n                            this.idcardBirthDate = data.birthDate;\n                            this.idcardAddress = data.address;\n                            this.idcardNumber = data.idcardNumber;\n                            this.idcardOrganization = data.issuingOrganization;\n                            this.idcardExpireDate = data.expireDate;\n                        }\n                        if (response.data.data.driveLicenseResponse) {\n                            let data = response.data.data.driveLicenseResponse;\n                            this.licenseNumber = data.drivingLicenseNumber;\n                            this.licenseName = data.userName;\n                            this.licenseGender = data.gender ? (data.gender === 1 ? this.$t('m.common.boy') :this.$t('m.common.girl')) :'';\n                            this.licenseCountry = data.nationality;\n                            this.licenseAddress = data.address;\n                            this.licenseBirthDate = data.birthDate;\n                            this.licenseInitDate = data.initialDrivingLicenseDate;\n                            this.licenseCarClass = data.quasiDrivingModel;\n                            this.licenseExpireDate = data.expireDate;\n                        }\n\n                    }\n                })\n        },\n        methods: {\n            filterData(data) {\n                this.table = data.map((item) => {\n                    return {\n                        orderId: item.orderServiceNum,\n                        id: item.orderId,\n                        phone: item.phone,\n                        year: item.vehicleYear,\n                        make: item.vehicleMake,\n                        model: item.vehicleModel,\n                        color: item.vehicleColor,\n                        alias: item.vehicleAlias,\n                        trim: item.vehicleTrim,\n                        plat: item.vehiclePlate,\n                        num: item.vehiclePlate, // 库存编号\n                        testInfo: item.parkingName,\n                        pointTime: item.appointmentStartTime + \"~\" + item.appointmentEndTime,\n                        status: item.orderStatus,\n                    }\n                });\n            },\n            saveUserInfo() {//提交用户的信息\n                let driveLicenseResponse = {\n                    address:this.licenseAddress,\n                    birthDate:this.licenseBirthDate,\n                    drivingLicenseNumber:this.licenseNumber,\n                    userName: this.licenseName,\n                    gender:this.licenseGender === '男' ? 1:2,\n                    nationality:this.licenseCountry,\n                    initialDrivingLicenseDate:this.licenseInitDate,\n                    quasiDrivingModel:this.licenseCarClass,\n                    expireDate:this.licenseExpireDate,\n                };\n                let idCardResponse = {\n                    userName:this.idcardName,\n                    gender:this.idcardGender === '男' ? 1:2,\n                    ethnicGroup:this.idcardNation,\n                    birthDate:this.idcardBirthDate,\n                    address:this.idcardAddress,\n                    idcardNumber:this.idcardNumber,\n                    issuingOrganization:this.idcardOrganization,\n                    expireDate:this.idcardExpireDate\n                };\n\n                let verifyStatus = this.selected_reason;\n\n                let data = {\n                    idCardResponse:idCardResponse,\n                    driveLicenseResponse:driveLicenseResponse,\n                    check:verifyStatus,\n                    dUserId: this.$route.params.id\n                };\n\n                httpClient.post('/api/v1/clouddrive/user/checkcard',data).then(res=>{\n                    if(res.data.code === 200 && res.data.data.result === true){\n                        this.updateUserStatus = true;\n                        this.updateUserText = this.$t('m.tip.update_succ')\n                    }else{\n                        this.updateUserStatus = true;\n                        this.updateUserText = this.$t('m.tip.update_failed')\n                    }\n                }).catch(err=>{\n                    console.log(err)\n                })\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .user-detail {\n        .content {\n            .margin-top-20 {\n                margin-top: 20px;\n            }\n        }\n\n    }\n</style>\n\n"],"sourceRoot":"src/views/dashboard/testDrive"}]}