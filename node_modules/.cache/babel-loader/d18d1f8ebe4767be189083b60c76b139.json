{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/alertDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/alertDetail.vue","mtime":1560920640000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from \"@/utils/httpclient\";\nimport { getDateString } from \"@/utils/date\";\nimport googleMap from \"@/components/googleMap\";\nimport model from \"@/components/model\";\nexport default {\n  name: \"alertDetail\",\n  components: {\n    googleMap: googleMap,\n    model: model\n  },\n  inject: ['reload'],\n  data: function data() {\n    return {\n      data: {},\n      showMap: false,\n      map: {},\n      show: false,\n      updateInfo: '',\n      btnGroup: {\n        btnFirst: 'Cancel',\n        btnSecond: 'OK'\n      }\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    httpClient.post('/api/v1/alert/detail', {\n      alertId: this.$route.params.id\n    }).then(function (response) {\n      console.log(response);\n      _this.data = response.data.data;\n      var year = _this.data.year ? _this.data.year : 'N/A';\n      var make = _this.data.make ? _this.data.make : 'N/A';\n      var model = _this.data.model ? _this.data.model : 'N/A';\n      var info = year == 'N/A' && make == 'N/A' && model == 'N/A' ? 'N/A' : year + ' ' + make + ' ' + model;\n      _this.map = {\n        lat: _this.data.lat ? _this.data.lat : 0,\n        lng: _this.data.lng ? _this.data.lng : 0,\n        area: _this.data.areaCoordinates ? _this.data.areaCoordinates : [],\n        vehicleInfo: info\n      };\n      console.log(_this.map);\n    });\n  },\n  methods: {\n    filterTime: function filterTime(time) {\n      return getDateString(time);\n    },\n    showM: function showM() {\n      if (this.map.lat && this.map.lng) {\n        this.showMap = true;\n      }\n    },\n    updateStatus: function updateStatus() {\n      var _this2 = this;\n\n      httpClient.post('/api/v1/alert/update/status', {\n        alertId: this.data.id\n      }).then(function (response) {\n        if (response.data.code == 200) {\n          _this2.reload();\n        } else {\n          _this2.reload();\n        }\n      }).catch(function (error) {});\n    }\n  }\n};",{"version":3,"sources":["alertDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"animated fadeIn alert-detail\">\n        <b-card>\n            <div slot=\"header\">\n                <i class=\"fa fa-plus-square-o\"></i>\n                Alert Detail\n            </div>\n            <div class=\"content\">\n                <b-list-group>\n                    <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                        Alert Type\n                        <div>{{ data.alertTypeName }}</div>\n                    </b-list-group-item>\n                    <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                        Description\n                        <div>{{ data.description }}</div>\n                    </b-list-group-item>\n                    <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                        Alert Time\n                        <div>{{ filterTime(data.createTime) }}</div>\n                    </b-list-group-item>\n                    <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                        Status\n                        <div>\n                            <template v-if=\"data.alertStatus == 1\">\n                                <span class=\"badge badge-pill badge-success\">Solved</span>\n                            </template>\n                            <template v-else>\n                                <span class=\"badge badge-pill badge-danger\">Unsolved</span>\n                            </template>\n                        </div>\n                    </b-list-group-item>\n                    <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                        Stock NO.\n                        <div>{{ data.stockNum ? data.stockNum : 'N/A' }}</div>\n                    </b-list-group-item>\n                    <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                        Vehicle\n                        <div>\n                            <span class=\"btn btn-sm btn-ghost-info\" @click=\"showM\">\n                                <i class=\"cui cui-location-pin\"></i>\n                            </span>\n                            vehicle\n                        </div>\n                    </b-list-group-item>\n                    <b-list-group-item class=\"d-flex justify-content-between align-items-center\" style=\"color: #20a8d8;cursor: pointer\" @click=\"$router.push('/vehicle/detail/'+ data.vehicleId)\">\n                        Vehicle Detail\n                        <div> > </div>\n                    </b-list-group-item>\n                </b-list-group>\n                <div>\n                    <template v-if=\"data.alertStatus == 1\">\n                        <b-button class=\"btn mt-2 btn-secondary\" disabled>\n                            Mark as Solved\n                        </b-button>\n                    </template>\n                    <template v-else>\n                        <b-button class=\"btn mt-2 btn-success\" @click=\"updateStatus\">\n                            Mark as Solved\n                        </b-button>\n                    </template>\n                </div>\n            </div>\n        </b-card>\n        <b-modal ref=\"my-modal\" :title=\"map.info\" v-model=\"showMap\" @ok=\"showMap = false\">\n            <google-map\n                    :map=\"map\"\n            ></google-map>\n        </b-modal>\n        <model\n               :show=\"show\"\n               :title=\"'Warn'\"\n               :content=\"updateInfo\"\n               :buttonText=\"btnGroup\"\n               @closeRemindBox=\"show = false\"\n        ></model>\n    </div>\n</template>\n\n<style lang=\"scss\">\n    .alert-detail {\n        .content {\n            max-width: 900px;\n            margin: 0 auto;\n            .value {\n                text-align: right;\n            }\n            .row {\n                height: 46px;\n                border-top: 1px solid #cccccc;\n            }\n        }\n    }\n</style>\n\n<script>\n    import httpClient from \"@/utils/httpclient\";\n    import { getDateString } from \"@/utils/date\";\n    import googleMap from \"@/components/googleMap\";\n    import model from \"@/components/model\"\n\n    export default {\n        name: \"alertDetail\",\n        components: {\n            googleMap,\n            model\n        },\n        inject: ['reload'],\n        data() {\n            return {\n                data: {},\n                showMap: false,\n                map:{},\n                show: false,\n                updateInfo: '',\n                btnGroup: {btnFirst:'Cancel', btnSecond: 'OK'},\n            }\n        },\n        mounted() {\n            httpClient.post('/api/v1/alert/detail',{\n                alertId: this.$route.params.id\n            }).then(response => {\n                console.log(response)\n                this.data = response.data.data;\n                let year = this.data.year ? this.data.year : 'N/A';\n                let make = this.data.make ? this.data.make : 'N/A';\n                let model = this.data.model ? this.data.model : 'N/A';\n                let info = (year == 'N/A' && make == 'N/A' && model == 'N/A') ? 'N/A' : year + ' ' + make + ' ' + model;\n                this.map = {\n                    lat: this.data.lat ? this.data.lat : 0,\n                    lng: this.data.lng ? this.data.lng : 0,\n                    area: this.data.areaCoordinates ? this.data.areaCoordinates : [],\n                    vehicleInfo: info\n                }\n                console.log(this.map)\n            })\n        },\n        methods: {\n            filterTime (time) {\n                return getDateString(time);\n            },\n            showM() {\n                if (this.map.lat && this.map.lng) {\n                    this.showMap = true;\n                }\n            },\n            updateStatus() {\n                httpClient.post('/api/v1/alert/update/status', {\n                    alertId: this.data.id\n                }).then(response => {\n                    if (response.data.code == 200) {\n                        this.reload();\n                    } else {\n                        this.reload();\n                    }\n                }).catch(error => {\n                })\n            }\n        }\n    }\n</script>\n\n"],"sourceRoot":"src/views/dashboard/dashboardMain"}]}