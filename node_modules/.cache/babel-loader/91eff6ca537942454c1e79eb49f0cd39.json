{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/dashboard/dashboardMain/admin.vue","mtime":1562138728000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpClient from '@/utils/httpclient';\nimport Alert from '@components/model';\nexport default {\n  name: 'user',\n  components: {\n    Alert: Alert\n  },\n  data: function data() {\n    return {\n      fields: {\n        Username: {\n          key: 'Username',\n          label: this.$t('m.login.p_username')\n        },\n        userEmail: {\n          key: 'Email',\n          label: this.$t('m.admin.email')\n        },\n        city: {\n          key: 'Phone',\n          label: this.$t('m.common.phone')\n        },\n        Role: {\n          key: 'Role',\n          label: this.$t('m.common.role')\n        },\n        Dealership: {\n          key: 'Dealership',\n          label: this.$t('m.common.dealership')\n        },\n        status: {\n          label: this.$t('m.admin.active')\n        },\n        action: {\n          label: this.$t('m.vehicle.actions')\n        }\n      },\n      items: null,\n      data: null,\n      currentPage: 1,\n      rows: 1,\n      perPage: 1,\n      totalPages: 1,\n      adminId: 0,\n      deleteUser: false,\n      showAlerts: {\n        title: '',\n        content: '',\n        show: false\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.getList(1);\n    this.adminId = this.$store.state.userInfo.userId;\n  },\n  methods: {\n    getList: function getList(num) {\n      var _this = this;\n\n      var url = '/api/v1/listUserDeatil?pageNo=' + num + '&pageSize=10';\n      httpClient.post(url).then(function (res) {\n        _this.rows = res.data.data.rowCount;\n        _this.perPage = res.data.data.pageSize;\n        _this.totalPages = res.data.data.totalPages;\n        _this.data = res.data.data.datas;\n        var myData = res.data.data.datas;\n        var myItems = [];\n        myData.map(function (item, i) {\n          var role = item.role == \"Dealership Group Administrator\" ? _this.$t('m.common.root') : item.role == \"Dealership Manager\" ? _this.$t('m.common.manager') : _this.$t('m.common.user');\n          myItems.push({\n            Username: item.firstName + ' ' + item.lastName,\n            Email: item.userEmail,\n            Phone: item.phone,\n            Role: role,\n            userId: item.userId,\n            status: item.status,\n            Dealership: item.storeName,\n            \"Active/InActive\": item.status === 1 ? 'Active' : 'InActive',\n            Action: ''\n          });\n        });\n        _this.items = myItems;\n      });\n    },\n    turnToPage: function turnToPage(p) {\n      this.getList(p);\n    },\n    delData: function delData(userid) {\n      var _this2 = this;\n\n      httpClient.post('/api/v1/user/delete', {\n        userId: userid\n      }).then(function (res) {\n        if (res.data.data === true) {\n          _this2.getList(1, 10);\n        }\n\n        console.log(res);\n      }).catch(function (err) {});\n    },\n    openBox: function openBox(clickId) {\n      var passData = {\n        title: this.$t('m.tip.warn'),\n        show: true,\n        content: this.$t('m.tip.del_user'),\n        buttonText: {\n          btnFirst: this.$t('m.tip.b_cancel'),\n          btnSecond: this.$t('m.tip.b_ok'),\n          userId: clickId\n        }\n      };\n      this.closeRemind(passData);\n    },\n    closeRemind: function closeRemind(data) {\n      this.showAlerts.show = data.show;\n      this.showAlerts.title = data.title;\n      this.showAlerts.content = data.content;\n      this.showAlerts.buttonText = data.buttonText;\n    },\n    closeBox: function closeBox(data, ids) {\n      this.showAlerts.show = !this.showAlerts.show;\n      this.deleteUser = data == 'ok';\n\n      if (this.deleteUser === true) {\n        this.delData(ids);\n      }\n    }\n  }\n};",{"version":3,"sources":["admin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"animated fadeIn\">\n        <div class=\"card\">\n            <div class=\"card-header\">\n                <i class=\"nav-icon cui-people\"></i>\n                <strong>{{ $t('m.admin.title') }}</strong>\n                <div class=\"float-right\">\n                    <a @click=\"$router.push('/admin/invite')\">\n                        <button class=\"btn btn-sm btn-primary\">\n                            <i class=\"fa fa-user-plus\"></i> {{ $t('m.admin.add_user') }}\n                        </button>\n                    </a>\n                </div>\n            </div>\n            <Alert @closeRemindBox='closeBox' :buttonText=\"showAlerts.buttonText\" :show=\"showAlerts.show\"\n                   :title=\"showAlerts.title\" :content=\"showAlerts.content\"></Alert>\n            <div class=\"card-body\">\n                <div>\n                    <b-table hover :items=\"items\" :fields=\"fields\">\n                        <template slot=\"status\" slot-scope=\"data\">\n              <span\n                      :class=\"data.item.status === 1 ? 'badge badge-pill badge-success' : 'badge badge-pill badge-secondary'\">\n                  {{ data.item.status === 1 ? $t('m.common.active') : $t('m.common.inactive') }}\n              </span>\n                        </template>\n                        <template slot=\"action\" slot-scope=\"data\">\n                            <div class=\"btn btn-sm btn-info\" @click=\"$router.push('/admin/detail/' + data.item.userId)\">\n                                <i\n                                        class=\"fa fa-align-justify\"></i></div>\n                            <div class=\"btn btn-sm btn-info btn-edit\"\n                                 @click=\"$router.push('/admin/edit/' + data.item.userId)\"><i\n                                    class=\"fa fa-edit\"></i></div>\n                            <div v-if=\"data.item.userId !== adminId\" class=\"btn btn-sm btn-danger btn-del\"\n                                 @click=\"openBox(data.item.userId)\"><i\n                                    class=\"cui cui-trash\"></i></div>\n                        </template>\n                    </b-table>\n                </div>\n\n                <b-row>\n                    <b-col sm=\"4\" lg=\"4\">\n                        <div class=\"dataTables_info\" id=\"DataTables0\" role=\"status\" aria-live=\"polite\">\n                            <span v-if=\"totalPages > 0 \">{{ $t('m.common.show') }} {{10 * (currentPage - 1) + 1 }} {{ $t('m.common.to') }} {{currentPage === totalPages? rows :currentPage * 10 }} {{ $t('m.common.of') }} {{rows}} {{ $t('m.common.entries') }}</span>\n                            <span v-else>{{ $t('m.common.show') }} 0 {{ $t('m.common.to') }} 0 {{ $t('m.common.of') }} {{rows}} {{ $t('m.common.entries') }}</span>\n                        </div>\n                    </b-col>\n                    <b-col sm=\"8\" lg=\"8\">\n                        <b-pagination align=\"right\" :total-rows=\"rows\" v-model=\"currentPage\" :per-page=\"perPage\"\n                                      @input=\" turnToPage(currentPage)\"></b-pagination>\n                    </b-col>\n                </b-row>\n\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import httpClient from '@/utils/httpclient';\n    import Alert from '@components/model'\n\n    export default {\n        name: 'user',\n        components: {\n            Alert\n        },\n        data() {\n            return {\n                fields: {\n                    Username: {\n                        key: 'Username',\n                        label: this.$t('m.login.p_username')\n                    },\n                    userEmail: {\n                        key: 'Email',\n                        label: this.$t('m.admin.email')\n                    },\n                    city: {\n                        key: 'Phone',\n                        label: this.$t('m.common.phone')\n                    },\n                    Role: {\n                        key: 'Role',\n                        label: this.$t('m.common.role'),\n                    },\n                    Dealership: {\n                        key: 'Dealership',\n                        label: this.$t('m.common.dealership')\n                    },\n                    status: {\n                        label: this.$t('m.admin.active')\n                    },\n                    action: {\n                        label: this.$t('m.vehicle.actions')\n                    },\n                },\n                items: null,\n                data: null,\n                currentPage: 1,\n                rows: 1,\n                perPage: 1,\n                totalPages: 1,\n                adminId: 0,\n                deleteUser: false,\n                showAlerts: {\n                    title: '',\n                    content: '',\n                    show: false\n                }\n            }\n        },\n        mounted() {\n            this.getList(1);\n            this.adminId = this.$store.state.userInfo.userId;\n        },\n        methods: {\n            getList(num) {\n                let url = '/api/v1/listUserDeatil?pageNo=' + num + '&pageSize=10';\n                httpClient.post(url).then((res) => {\n                    this.rows = res.data.data.rowCount;\n                    this.perPage = res.data.data.pageSize;\n                    this.totalPages = res.data.data.totalPages;\n                    this.data = res.data.data.datas;\n                    let myData = res.data.data.datas;\n                    let myItems = [];\n                    myData.map((item, i) => {\n                        let role = item.role == \"Dealership Group Administrator\" ? this.$t('m.common.root') : (item.role == \"Dealership Manager\" ? this.$t('m.common.manager') : this.$t('m.common.user'))\n                        myItems.push({\n                            Username: item.firstName + ' ' + item.lastName,\n                            Email: item.userEmail,\n                            Phone: item.phone,\n                            Role: role,\n                            userId: item.userId,\n                            status: item.status,\n                            Dealership: item.storeName,\n                            \"Active/InActive\": item.status === 1 ? 'Active' : 'InActive',\n                            Action: ''\n                        })\n                    });\n                    this.items = myItems\n                })\n            },\n            turnToPage(p) {\n                this.getList(p);\n            },\n            delData(userid) {\n                httpClient.post('/api/v1/user/delete', {userId: userid}).then((res) => {\n                    if (res.data.data === true) {\n                        this.getList(1, 10)\n                    }\n                    console.log(res)\n                }).catch((err) => {\n                });\n            },\n            openBox(clickId) {\n                let passData = {\n                    title: this.$t('m.tip.warn'),\n                    show: true,\n                    content: this.$t('m.tip.del_user'),\n                    buttonText: {\n                        btnFirst: this.$t('m.tip.b_cancel'),\n                        btnSecond: this.$t('m.tip.b_ok'),\n                        userId: clickId\n                    }\n                };\n                this.closeRemind(passData);\n            },\n            closeRemind(data) {\n                this.showAlerts.show = data.show;\n                this.showAlerts.title = data.title;\n                this.showAlerts.content = data.content;\n                this.showAlerts.buttonText = data.buttonText;\n            },\n            closeBox(data, ids) {\n                this.showAlerts.show = !this.showAlerts.show;\n                this.deleteUser = data == 'ok';\n                if (this.deleteUser === true) {\n                    this.delData(ids)\n                }\n            }\n        }\n    }\n</script>\n<style lang=\"scss\" scoped>\n    .card {\n        width: 100%;\n    }\n\n    .btn-edit {\n        margin: 0 5px;\n    }\n</style>"],"sourceRoot":"src/views/dashboard/dashboardMain"}]}