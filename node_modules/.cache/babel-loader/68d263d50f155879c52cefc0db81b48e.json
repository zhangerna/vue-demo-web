{"remainingRequest":"/Users/nonda/nonda/nonda-saas-web/node_modules/thread-loader/dist/cjs.js!/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js!/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nonda/nonda/nonda-saas-web/src/views/login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nonda/nonda/nonda-saas-web/src/views/login/index.vue","mtime":1560482051000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nonda/nonda/nonda-saas-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/nonda/nonda/nonda-saas-web/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport httpclient from '../../utils/httpclient';\nimport { saveTokenExpireAt, saveUserInfo, saveUserId } from '../../utils/token';\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      errorUsername: '',\n      errorPass: ''\n    };\n  },\n  methods: {\n    handleLogin: function handleLogin() {\n      var _this = this;\n\n      this.errorUsername = \"\";\n      this.errorPass = \"\";\n\n      if (!this.username || this.username.indexOf(\"@\") < 1) {\n        this.errorUsername = \"is-invalid\";\n        return;\n      }\n\n      if (!this.password || this.password.length < 6) {\n        this.errorPass = \"is-invalid\";\n        return;\n      }\n\n      httpclient.post('/api/v1/login', {\n        username: this.username,\n        password: this.password\n      }).then(function (response) {\n        localStorage.setItem(\"user_info\", _JSON$stringify(response.data.data.user));\n\n        _this.$store.dispatch(\"user_info\", response.data.data.user);\n\n        saveTokenExpireAt(response.data.data.token.expireAt);\n        saveUserInfo(response.data.data.user.userEmail);\n        saveUserId(response.data.data.user.userId);\n\n        _this.$router.push({\n          path: '/index'\n        });\n      }).catch(function (err) {\n        alert(\"Login Failed, Username or Password Incorrect!\");\n      });\n    }\n  }\n};",null]}